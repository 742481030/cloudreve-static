{"version":3,"sources":["component/Dial/AutoHidden.js","redux/explorer/reducer.ts","component/Placeholder/TextLoading.js","utils/page.js","component/FileManager/SmallIcon.js","redux/explorer/action.ts","redux/explorer/index.ts","utils/index.js","component/Navbar/DarkModeSwitcher.js","middleware/Auth.ts","component/FileManager/FileManager.js","component/Modals/Report.js","component/FileManager/FileIcon.js","component/Modals/PurchaseShare.js","component/Dial/Save.js","component/Modals/Loading.js","component/Modals/Copy.js","component/Modals/CreateShare.js","component/Modals/Decompress.js","component/Modals/Compress.js","component/FileManager/Modals.js","component/Viewer/Text.js","component/Viewer/Code.js","component/Common/Snackbar.js","component/Navbar/UserAvatarPopover.js","component/Navbar/PolicySwitcher.js","component/Navbar/UserAvatar.js","component/Navbar/Navbar.js","component/Navbar/SearchBar.js","component/Navbar/StorageBar.js","component/Navbar/UserInfo.js","component/Navbar/FileTags.js","config.js","component/FileManager/ImgPreview.js","actions/explorer.js","actions/index.js","component/FileManager/TableRow.js","component/FileManager/Folder.js","component/FileManager/DnD/DropWarpper.js","component/FileManager/ObjectIcon.js","component/FileManager/ContextMenu.js","component/FileManager/Explorer.js","loader/utils.js","loader/index.js","component/Upload/FileList.js","component/Dial/Create.js","component/Upload/Uploader.js","component/FileManager/Navigator/PathButton.js","component/FileManager/Navigator/DropDownItem.js","component/FileManager/Navigator/DropDown.js","component/FileManager/Navigator/Navigator.js","component/FileManager/DnD/Preview.js","component/FileManager/DnD/DragLayer.js","component/FileManager/TypeIcon.js","serviceWorker.js","middleware/AuthRoute.js","component/Placeholder/PageLoading.js","component/Share/NotFound.js","component/Common/ICPFooter.js","component/Placeholder/Captcha.js","middleware/Init.js","component/Login/ReCaptchaWrapper.js","component/Login/ReCaptcha.js","component/Login/LoginForm.js","component/Viewer/Video.js","component/Share/SearchResult.js","component/Share/MyShare.js","component/Modals/SelectFile.js","component/Download/DownloadingCard.js","component/Download/FinishedCard.js","component/Dial/Aria2.js","component/Download/Download.js","component/Share/LockedFile.js","component/Share/Creator.js","component/Share/SharedFile.js","component/Share/SharedFolder.js","component/Share/SharePreload.js","component/Viewer/Doc.js","component/VAS/Quota.js","component/VAS/PackSelect.js","component/VAS/BuyQuota.js","component/Modals/CreateWebDAVAccount.js","component/Modals/CreateWebDAVMount.js","component/Setting/WebDAV.js","component/Setting/Tasks.js","component/Setting/Profile.js","component/Setting/Authn.js","component/Setting/UserSetting.js","component/Login/QQ.js","component/Login/Register.js","component/Login/Activication.js","component/Login/ResetForm.js","component/Login/Reset.js","App.js","redux/viewUpdate/reducer.ts","reducers/index.js","component/Placeholder/ErrorBoundary.js","index.js","redux/combineReducers.ts","component/FileManager/PathSelector.js","redux/viewUpdate/action.ts","middleware/Api.js"],"names":["AutoHidden","children","enable","useState","hidden","setHidden","prev","window","scrollY","lastUpdate","useEffect","addEventListener","e","currentTarget","handleNavigation","in","initState","dndSignal","dndTarget","dndSource","fileList","dirList","selected","selectProps","isMultiple","withFolder","withFile","lastSelect","file","id","name","size","type","date","index","shiftSelectedIds","imgPreview","first","other","keywords","fileSave","checkSelectedProps","length","forEach","value","explorer","state","action","Object","assign","target","source","list","addedSelected","targets","newSelected","fileIds","filteredSelected","filter","includes","useStyles","makeStyles","theme","loader","width","padding","breakpoints","down","MyLoader","props","className","TextLoading","classes","statusHelper","isHomePage","path","isSharePage","startsWith","isAdminPage","isLoginPage","isMobile","innerWidth","SmallIconCompoment","this","isSelected","findIndex","focusRipple","classNames","notSelected","button","icon","iconSelected","iconNotSelected","fileName","title","aria-label","folderName","folderNameSelected","folderNameNotSelected","variant","Component","SmallIcon","connect","withStyles","container","border","backgroundColor","palette","lighten","primary","main","background","default","paper","height","divider","borderRadius","boxSizing","transition","display","justifyContent","alignItems","margin","minWidth","paddingTop","color","text","secondary","dark","fontWeight","marginTop","textOverflow","whiteSpace","overflow","marginRight","setFileList","setDirList","setSortMethod","method","sortMethodFuncs","sizePos","a","b","sizeRes","namePos","localeCompare","nameRev","timePos","Date","parse","timeRev","updateFileList","dispatch","getState","sortMethod","viewUpdate","x","sortFunc","sort","changeSortMethod","actions","reducers","sizeToString","bytes","i","Math","floor","log","pow","toFixed","fixUrlHash","relativePath","split","URL","toString","setCookie","days","setTime","getTime","document","cookie","setGetParameter","paramName","paramValue","url","location","href","indexOf","prefix","substring","suffix","history","pushState","allowSharePreview","shareInfo","allowPreview","userInfo","uid","checkGetParameters","field","changeThemeColor","querySelector","setAttribute","decode","c","createElement","getContext","drawImage","getImageData","d","push","apply","slice","call","data","replace","parseInt","String","fromCharCode","bufferDecode","Uint8Array","from","atob","charCodeAt","bufferEncode","btoa","pathBack","folders","substr","join","filePath","hex2bin","hex","padStart","pathJoin","parts","sep","separator","map","part","RegExp","basename","pathList","pop","transformTime","timestamp","time","y","getFullYear","M","getMonth","getDate","h","getHours","m","getMinutes","s","getSeconds","randomStr","result","characters","charactersLength","charAt","random","getNumber","base","conditions","v","isMac","navigator","platform","toUpperCase","vhCheck","vh","innerHeight","documentElement","style","setProperty","opacity","DarkModeSwitcher","position","ThemeType","useSelector","siteConfig","useDispatch","ToggleThemeMode","useCallback","toggleDaylightMode","isDayLight","isDark","placement","onClick","Auth","SetPreference","isAuthenticated","authenticate","cb","SetUser","GetUser","JSON","localStorage","getItem","newUser","setItem","stringify","Check","anonymous","signout","oldUser","key","preference","GetPreference","styles","mapStateToProps","mapDispatchToProps","changeSubTitle","setSelectedTarget","toggleSnackbar","vertical","horizontal","msg","closeAllModals","navigateTo","FileManager","handleImageLoaded","authC","authID","eval","image","current","React","createRef","pathHelper","pathname","backend","HTML5Backend","share","isShare","alt","src","onError","ref","onLoad","withRouter","widthAnimation","shareUrl","wrapper","spacing","buttonProgress","light","top","left","flexCenter","noFlex","scoreCalc","Report","reason","setReason","des","setDes","loading","setLoading","ToggleSnackbar","onClose","setTimeout","open","aria-labelledby","maxWidth","fullWidth","component","onChange","reportReasons","k","control","label","multiline","rows","API","post","then","catch","error","message","disabled","FileIconCompoment","showPicIcon","pic","preview","hide","picPreview","baseURL","encodeURIComponent","afterLoad","setState","beforeLoad","loadingAnimation","previewIcon","iconBig","fileInfo","shareFix","defaultProps","FileIcon","fontSize","objectFit","marginLeft","PurchaseShareDialog","callback","score","autoFocus","fab","right","bottom","zIndex","badge","fabProgress","green","buttonSuccess","SaveButton","buttonClassname","clsx","status","avatar","blue","loadingContainer","LoadingDialog","modals","loadingText","Dialog","DialogContent","DialogContentText","CircularProgress","contentFix","CopyDialog","selectedPath","setSelectedPath","selectedPathName","setSelectedPathName","SetModalsLoading","setModalsLoading","RefreshFileList","refreshFileList","DialogTitle","PathSelector","presentPath","onSelect","folder","DialogActions","Button","preventDefault","dirs","items","src_dir","dst","modalsLoading","ExpansionPanel","root","boxShadow","borderBottom","expanded","MuiExpansionPanel","ExpansionPanelSummary","content","MuiExpansionPanelSummary","ExpansionPanelDetails","MuiExpansionPanelDetails","CreatShare","scoreEnabled","score_enabled","scoreRate","share_score_rate","setExpanded","shareURL","setShareURL","password","downloads","expires","showPassword","values","setValues","expire","shareOption","setShareOption","handleChange","prop","event","handleExpand","panel","isExpanded","handleCheck","Divider","List","aria-controls","ListItem","ListItemIcon","ListItemText","ListItemSecondaryAction","Checkbox","checked","FormControl","InputLabel","htmlFor","OutlinedInput","endAdornment","InputAdornment","Tooltip","IconButton","edge","onMouseDown","Visibility","VisibilityOff","labelWidth","Select","labelId","MenuItem","Typography","inputProps","min","ceil","TextField","onFocus","select","readonly","submitFormBody","is_dir","response","DecompressDialog","CompressDialog","setFileName","ModalsCompoment","newFolderName","newFileName","newName","secretShare","sharePwd","downloadURL","remoteDownloadPathSelect","purchaseCallback","handleInputChange","newNameSuffix","downloaded","UNSAFE_componentWillReceiveProps","nextProps","dndSignale","modalsStatus","rename","getSource","get","scoreHandler","archiveDownload","Download","dragMove","group","shareFree","reqURL","downloadPath","put","postBody","rawData","code","refreshStorage","submitRemove","delete","submitResave","shareKey","submitMove","patch","DragSelectedPath","doMove","openLoadingDialog","submitRename","new_name","submitCreateNewFolder","submitCreateNewFile","submitTorrentDownload","submitDownload","setMoveTarget","remoteDownloadNext","PurchaseShare","onSubmit","createNewFolder","createNewFile","copy","move","resave","remove","music","controls","remoteDownload","placeholder","torrentDownload","decompress","compress","Modals","layout","up","player","overflowX","TextViewer","setContent","setStatus","math","useRouteMatch","$vm","useLocation","query","URLSearchParams","search","useParams","SetSubTitle","params","requestURL","responseType","textdata","Buffer","toBase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","save","addImg","$file","$img2Url","console","elevation","onSave","toolbar","h1","h2","h3","h4","img","link","expand","undo","redo","subfield","MonacoEditor","lazy","editor","formControl","toobar","textAlign","CodeViewer","setSuffix","useTheme","extension","codePreviewSuffix","Array","Set","keys","fallback","language","options","readOnly","extraEditorClassName","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","MySnackbarContentWrapper","amber","iconVariant","Icon","aria-describedby","close","SnackbarCompoment","snackbar","toggle","handleClose","anchorOrigin","autoHideDuration","AlertBar","UserAvatarPopoverCompoment","setUserPopover","openURL","sigOut","reload","setSessionStatus","user","Popover","anchorEl","transformOrigin","visitorMenu","header","largeAvatarContainer","Avatar","largeAvatar","noWrap","nickname","user_name","Chip","UserAvatarPopover","userPopoverAnchorEl","anchor","uploadFromFile","policySelected","PolicySwitcher","setAnchorEl","policies","setPolicies","Boolean","undefined","switchTo","ListItemAvatar","UserAvatarCompoment","showUserInfo","returnHome","hash","loginCheck","isLogin","mobileHidden","Grow","Home","UserAvatar","NavbarCompoment","componentDidMount","handleDrawerToggle","mobileOpen","loadUploader","openPreview","shareDownload","changeContextMenu","previewPath","isPreviewable","showImgPreivew","openMusicDialog","openDownload","signOut","finally","UploaderRef","unlisten","listen","drawer","upDrawer","minStickDrawer","iconFix","webdav","iOS","process","browser","test","userAgent","appBar","menuButton","handleDesktopToggle","desktopOpen","menuButtonDesktop","menuIcon","subTitle","grow","sectionForFile","saveFile","allowArchiveDownload","openShareDialog","openRenameDialog","openMoveDialog","openRemoveDialog","smUp","implementation","drawerPaper","onOpen","disableDiscovery","ModalProps","keepMounted","xsDown","drawerOpen","drawerClose","Navbar","drawerToggleAction","openCreateFolderDialog","searchMyFile","withTheme","flexShrink","drawerDesktop","mixins","transitions","create","easing","sharp","duration","enteringScreen","leavingScreen","flexGrow","nested","paddingLeft","extendedIcon","addButton","marginBottom","fabButton","badgeFix","dividerFix","folderShareIcon","verticalAlign","shareInfoContainer","textDecoration","shareAvatar","stickFooter","ownerInfo","overflowY","minHeight","configure","ignoreTags","keyMap","SEARCH","SearchBarCompoment","handlers","searchShare","blur","input","cancelSuggest","searchIcon","inputRoot","inputInput","onBlur","suggestBox","TransitionProps","timeout","square","SearchBar","shape","fade","common","white","pointerEvents","paddingRight","paddingBottom","StorageBarCompoment","percent","used","total","showExpand","firstLoad","updateStatus","refresh","onMouseEnter","onMouseLeave","storageContainer","detail","bar","StorageBar","storageRefresh","textFix","UserInfoCompoment","userNav","flexAvatar","avatarImg","storageCircle","nickName","groupName","UserInfo","backgroundImage","backgroundSize","transform","hiddenButton","subMenu","overFlow","icons","Circle","CircleOutline","Heart","HeartOutline","Hexagon","HexagonOutline","Hexagram","HexagramOutline","Rhombus","RhombusOutline","Square","SquareOutline","Triangle","TriangleOutline","FolderHeartOutline","AddTag","FileTag","useHistory","tagOpen","setTagOpen","addTagModal","setAddTagModal","tagHover","setTagHover","tags","setTags","SearchMyFile","NavigateTo","onSuccess","tag","newTags","iconVideo","iconImg","iconAudio","iconDoc","expression","IconComponent","getIcon","imgPreviewSuffix","msDocPreviewSuffix","audioPreviewSuffix","videoPreviewSuffix","pdfPreviewSuffix","editSuffix","mediaType","audio","video","pdf","word","ppt","excel","torrent","zip","excute","android","php","go","python","cpp","js","policyTypeMap","local","remote","qiniu","upyun","oss","cos","onedrive","toLowerCase","isTorrent","isCompressFile","taskStatus","taskType","taskProgress","getTaskStatus","getTaskType","getTaskProgress","ImagPreviewComponent","photoIndex","isOpen","firstOne","newImg","intro","fileType","images","visible","onIndexChange","n","ImgPreivew","removeSelectedTargets","addSelectedTargets","setShiftSelectedIds","selectFile","fileIndex","ctrlKey","metaKey","shiftKey","isMacbook","begin","end","max","newShiftSelected","setLastSelect","setNavigator","navigatorLoading","navigateUp","pathSplit","newPath","dragAndDrop","changeViewMethod","menuType","setNavigatorLoadingStatus","setNavigatorError","openCreateFileDialog","setShareUserPopover","openResaveDialog","applyThemes","openRemoteDownloadDialog","openTorrentDownloadDialog","openDecompressDialog","openCompressDialog","openGetSourceDialog","openCopyDialog","enableLoadUploader","setSiteConfig","config","TableRowCompoment","TypeIcon","tableIcon","TableRow","onContextMenu","contextMenu","handleClick","onDoubleClick","handleDoubleClick","bind","selectedShared","TableCell","scope","tableRow","hideAuto","TableItem","userSelect","active","Folder","isActive","ButtonBase","FolderDropWarpper","useDrop","accept","drop","collect","monitor","isOver","canDrop","fixFlex","dragging","ObjectIcon","viewMethod","explorerViewMethod","navigatorPath","ContextMenu","SetSelectedTarget","NavitateTo","ShowImgPreivew","OpenMusicDialog","DragAndDrop","OpenLoadingDialog","selectFileAction","enterFolder","useDrag","item","object","dropResult","getDropResult","canDrag","isDragging","drag","getEmptyImage","captureDraggingState","ContextMenuCompoment","X","Y","setPoint","clientY","clientX","openArchiveDownload","clickUpload","uploadButton","getElementsByClassName","body","contains","click","Menu","menuOpen","anchorReference","anchorPosition","allowRemoteDownload","policy","allowSource","Unarchive","Archive","propover","contextType","contextOpen","ExplorerCompoment","ClickAway","dataset","clickaway","DELETE_FILE","SELECT_ALL","away","showView","listView","Table","table","TableHead","TableSortLabel","direction","changeSort","visuallyHidden","TableBody","normalView","flexFix","data-clickAway","typeHeader","Grid","xs","md","sm","lg","view","rootTable","rootShare","navigatorError","Paper","errorBox","errorMsg","navigatorErrorMsg","emptyContainer","emptyIcon","emptyInfoBig","emptyInfoSmall","Explorer","drawerDesktopOpen","navigateToPath","hint","upButton","clickAway","clip","isFunction","val","noop","newScript","scriptElem","prototype","hasOwnProperty","appendChild","keyIterator","cols","next","parallel","tasks","each","hasError","successed","ret","task","err","args","series","thunk","nextKey","nextThunk","isArray","iterator","loadedScript","pendingScripts","failedScript","addCache","entry","removeFailedScript","script","node","parentNode","removeChild","uploaderLoader","WrappedComponent","ScriptLoader","context","isScriptLoaded","isScriptLoadSucceed","_isMounted","scripts","onComplete","loadNewScript","taskComplete","callbacks","startLoadingScripts","policyType","onScriptLoaded","refs","wrappedInstance","hoistStatics","FileList","files","openFileList","cancelUpload","deQueue","addNewFile","getProgressBackground","darken","filesNow","fileID","f","splice","errMsg","ignoreMsg","Slide","inRef","enQueue","setComplete","setError","fullScreen","isWidthDown","TransitionComponent","Transition","AppBar","Toolbar","flex","dialogContent","minHight","progressContainer","progress","progressContent","isUpload","listAction","plupload","formatSize","speed","loaded","errorStatus","successStatus","progressBar","wordBreak","withWidth","UploadButton","setOpen","queued","setQueued","OpenNewFolderDialog","OpenNewFileDialog","Queued","openUpload","uploadClicked","Badge","badgeContent","invisible","Backdrop","SpeedDial","ariaLabel","tooltipTitle","SpeedDialIcon","openIcon","FabProps","SpeedDialAction","tooltipOpen","UploaderComponent","fileAdd","currntPath","enqueFiles","isDsStore","removeFile","pathCache","uploader","Qiniu","runtimes","browse_button","drop_element","max_file_size","maxSize","dragdrop","chunk_size","getChunkSize","saveType","filters","mime_types","allowedType","extensions","multi_selection","uptoken_url","uptoken","domain","max_retries","get_new_uptoken","auto_start","log_level","init","FilesAdded","BeforeUpload","QueueChanged","UploadProgress","UploadComplete","Fresh","FileUploaded","Error","errTip","FilesRemoved","setRef","Uploader","forwardRef","expandMore","textTransform","PathButton","inputRef","useRef","more","last","DropDownItem","setActiveStatus","DropDown","timer","clearTimeout","shouldClose","element","sortOptions","NavigatorComponent","currentID","hiddenFolders","hiddenMode","anchorHidden","anchorSort","selectedIndex","openReport","searchParams","renderPath","onpopstate","apiURL","parent","objects","pathTemp","checkOverFlow","redresh","componentDidUpdate","prevProps","prevStates","ms","force","overflowInitLock","hasOverflowingChildren","offsetHeight","scrollHeight","offsetWidth","scrollWidth","showHiddenPath","showSortOptions","performAction","newTarget","toggleViewMethod","newMethod","changeView","handleMenuItemClick","0","1","2","3","4","5","presentFolderMenu","disableAutoFocusItem","roundBorder","navigatorContainer","nav","rightIcon","optionContainer","sideButton","option","openResave","creator","nick","Navigator","cardDragged","diliverIcon","Preview","card","layerStyles","getItemStyles","initialOffset","currentOffset","isSnapToGrid","round","snapToGrid","WebkitTransform","CustomDragLayer","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","renderItem","AudioIcon","VideoIcon","ImageIcon","PdfIcon","FileWordBox","FilePowerpointBox","FileExcelBox","ScriptText","MagnetOn","ZipBox","WindowRestore","Android","FileShowIcon","LanguagePhp","LanguageGo","LanguagePython","LanguageC","LanguageCpp","LanguageJavascript","fileSuffix","getColor","getColorValue","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","isLocalhost","hostname","match","AuthRoute","rest","render","to","PageLoading","Notice","icp","ICPFooter","siteICPId","matchMediaQuery","useMediaQuery","show","setShow","pageHelper","Link","rel","primaryColor","secondaryColor","rx","ry","captchaPlacholder","initUserConfig","themes","enableUploaderLoad","uploadConfig","store","defaultTheme","preferListMethod","share_view_method","home_view_method","ReCAPTCHA","handleExpired","handleErrored","handleRecaptchaRef","grecaptcha","_widgetId","getResponse","execute","_executeRequested","reset","onExpired","onErrored","token","sitekey","tabindex","stoken","hl","captcha","explicitRender","delayOfCaptchaIframeRemoving","temporaryNode","firstChild","elem","childProps","displayName","makeAsyncScriptLoader","callbackName","globalName","flexDirection","form","submit","captchaContainer","captchaPlaceholder","buttonContainer","authnLink","LoginForm","email","setEmail","pwd","setPwd","setCaptcha","useAuthn","setUseAuthn","captchaData","setCaptchaData","twoFA","setTwoFA","faCode","setFACode","loginCaptcha","useReCaptcha","captcha_IsUseReCaptcha","reCaptchaKey","captcha_ReCaptchaKey","QQLogin","authn","ApplyThemes","SetSessionStatus","refreshCaptcha","afterLogin","removeItem","userName","Password","captchaCode","required","Input","autoComplete","ReCaptcha","credentials","credentialRequestOptions","publicKey","challenge","allowCredentials","listItem","assertion","authData","authenticatorData","clientDataJSON","rawId","sig","signature","userHandle","Fingerprint","VpnKey","maxHeight","VideoViewer","getBaseURL","cardContainer","shareTitle","avatarFile","avatarFolder","gird","loadMore","orderSelect","SearchResult","page","setPage","setTotal","shareList","setShareList","orderBy","setOrderBy","order","Card","CardHeader","subheader","datetime","create_date","locale","Pagination","count","MyShareCompoment","showPwd","loadList","removeShare","oldList","changePermission","newPwd","shareIndex","changePreviewOption","handlePageChange","handleOrderChange","isExpired","remain_downloads","CardActions","disableActionSpacing","MyShare","SelectFileDialog","setFiles","dividers","FormGroup","row","FormControlLabel","filesCopy","iconContainer","borderInlineStart","contentSide","iconMultiple","subFileName","subFileIcon","scroll","actionButton","infoTitle","infoValue","bitmap","DownloadingCard","canvasRef","setTask","selectDialogOpen","setSelectDialogOpen","bitfield","str","canvas","clearRect","strokeStyle","bit","numPieces","beginPath","moveTo","lineTo","stroke","getPercent","completed","activeFiles","getDownloadName","bittorrent","mode","gid","indexes","newExpanded","CardContent","LinearProgress","ExpandMore","completedLength","newIndex","newFiles","deleteFile","HighlightOff","update","uploadLength","uploadSpeed","infoHash","numSeeders","seeder","pieceLength","FinishedCard","task_status","res","getTaskError","task_error","RemoteDownloadButton","OpenRemoteDownloadDialog","Fab","Add","DownloadComponent","interval","downloading","finishedList","continue","loadDownloading","LockedFileCompoment","setPassowrd","LockedFile","marginRottom","boxHeader","cursor","shareDes","Creator","userProfile","isFolder","views","ImgPreview","SharedFileCompoment","scoreHandle","download","box","boxContent","fileSize","boxFooter","actionLeft","downloadButton","SharedFile","fileCotainer","buttonCotainer","ReadMe","SharedFolderComponent","handleClickAway","readmeShowed","ClickAwayListener","onClickAway","managerContainer","SharedFolder","shareUserPopoverAnchorEl","SharePreload","setShare","setPassword","locked","withPassword","DocViewer","setURL","QuotaCompoment","basic","pack","r1","r2","r3","packs","usedR","baseR","packR","proBar","r1_block","note_block","r2_block","r3_block","align","activate_date","expiration","expiration_date","Quota","lineHeight","float","PackSelect","boxHead","packName","price","priceWithScore","boxBottom","BuyQuotaCompoment","IntervalId","confirmRedeem","redeemCode","dialog","doRedeem","redeemInfo","buyPack","packType","selectedPack","packPayMethod","groups","selectedGroup","num","scoreNum","times","payment","qr_code","setInterval","querryLoop","clearInterval","handleChangeIndex","handleTexyChange","selectPack","selectGroup","selectPackPayMethod","scorePrice","alipay","payjs","score_price","methodSelect","FormLabel","RadioGroup","Radio","textField","step","Tabs","Tab","AccountBalanceWallet","payMethod","priceShow","tier","highlight","titleTypographyProps","subheaderTypographyProps","cardHeader","cardPricing","line","cardActions","redeemContainer","codeContainer","BuyQuota","grey","formGroup","formIcon","CreateWebDAVAccount","setValue","pathSelectDialog","setPathSelectDialog","formContainer","LabelOutlined","FolderOpenOutlined","CreateWebDAVMount","Storage","cardContent","tableContainer","WebDAV","tab","setTab","setCreate","mount","setMount","accounts","setAccounts","setFolders","account","ID","CreatedAt","created_at","Name","Root","mountInfo","indicatorColor","textColor","newValue","Alert","severity","origin","TableContainer","accountCopy","deleteAccount","policy_name","folderCopy","deleteMount","footer","Tasks","setTasks","nowrap","getError","ProfileCompoment","listType","loadNext","loadPrev","avatarContainer","centered","infoContainer","infoItem","mobileHide","th","tableLink","Profile","backgroundPosition","borderRaidus","pageInfo","sectionTitle","desenList","flexContainer","Authn","setSelected","confirm","setConfirm","deleteCredential","fingerprint","credentialCreationOptions","excludeCredentials","credential","attestationObject","add","UserSettingCompoment","avatarModal","nickModal","changePassword","oldPwd","webdavPwd","newPwdRepeat","twoFactor","authCode","changeTheme","chosenTheme","showWebDavUrl","showWebDavUserName","changeWebDavPwd","groupBackModal","changePolicy","settings","group_expires","qq","homepage","two_factor","two_fa_secret","prefer_theme","loadSetting","doChangeGroup","useGravatar","changeNick","bindQQ","uploadAvatar","formData","FormData","append","fileInput","headers","handleToggle","changhePwd","old","new","changheWebdavPwd","axios","init2FA","handleAlignment","toggleThemeMode","infoTextWithIcon","rightIconWithText","infoText","ConfirmationNumber","Switch","firstColor","secondColor","Brightness3","ListAlt","userGravatar","paddingText","flexContainerResponse","qrcode","desText","ToggleButtonGroup","exclusive","ToggleButton","themeBlock","UserSetting","yellow","QQCallback","setMsg","avatarSuccess","Register","setInput","emailActive","setEmailActive","regCaptcha","password_repeat","Activation","setSuccess","ResetForm","secret","Reset","forgetCaptcha","PDFViewer","App","themeConfig","prefersDarkMode","useMemo","prefer","createMuiTheme","Fragment","ThemeProvider","CssBaseline","exact","Text","Code","doNavigate","defaultStatus","rawStore","configCache","InitSiteConfig","black","contrastText","filename","bgSelected","ErrorBoundary","Admin","fetch","contentType","ready","unregister","checkValidServiceWorker","reduxEnhance","applyMiddleware","createStore","viewUpdateState","explorerState","appState","cloudreveApp","combinedState","combinedReducer","combine","namespace","reducer","invariant","combineReducers","UpdateSiteConfig","ReactDOM","getElementById","PathSelectorCompoment","selectedTarget","toBeLoad","back","paths","api","unshift","handleSelect","selector","buttonIcon","iconWhite","setSubtitle","instance","withCredentials","crossDomain","AppError","stack","constructor","interceptors","use"],"mappings":"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","file":"static/js/main.1f6338ac.chunk.js","sourcesContent":["import React, {  useState, useEffect } from \"react\";\nimport Zoom from \"@material-ui/core/Zoom\";\n\n\nfunction AutoHidden  ({ children, enable }){\n    const [hidden, setHidden] = useState(false);\n\n    let prev = window.scrollY;\n    let lastUpdate = window.scrollY;\n    const show = 50;\n\n    useEffect(() => {\n        const handleNavigation = (e) => {\n            const window = e.currentTarget;\n\n            if (prev > window.scrollY) {\n                if (lastUpdate - window.scrollY > show){\n                    lastUpdate = window.scrollY;\n                    setHidden(false);\n                }\n            } else if (prev < window.scrollY) {\n                if (window.scrollY - lastUpdate > show){\n                    lastUpdate = window.scrollY;\n                    setHidden(true);\n                }\n            }\n            prev = window.scrollY;\n        };\n        if (enable){\n            window.addEventListener('scroll', e => handleNavigation(e));\n        }\n        // eslint-disable-next-line\n    }, [enable])\n\n    return (\n        <Zoom in={!hidden}>\n            {children}\n        </Zoom>\n    )\n}\n\nexport default AutoHidden","/* eslint-disable no-case-declarations */\nimport { AnyAction } from \"redux\"\nimport { CloudreveFile } from \"../../types\";\n\ninterface SelectProps {\n  isMultiple: boolean;\n  withFolder: boolean;\n  withFile: boolean;\n}\n\nexport interface ExplorerState {\n  dndSignal: boolean;\n  dndTarget: any;\n  dndSource: any;\n  fileList: CloudreveFile[];\n  dirList: CloudreveFile[];\n  selected: CloudreveFile[];\n  selectProps: SelectProps;\n  lastSelect: {\n    file: CloudreveFile;\n    index: number;\n  };\n  shiftSelectedIds: string[];\n  imgPreview: {\n      first: CloudreveFile;\n      other: [];\n  };\n  keywords: string;\n  fileSave: boolean;\n}\n\nexport const initState: ExplorerState = {\n  dndSignal: false,\n  dndTarget: null,\n  dndSource: null,\n  fileList: [],\n  dirList: [],\n  selected: [],\n  selectProps: {\n      isMultiple: false,\n      withFolder: false,\n      withFile: false\n  },\n  lastSelect: {\n    file: {\n      id: '',\n      name: '',\n      size: 0,\n      type: 'file',\n      date: ''\n    },\n    index: -1,\n  },\n  shiftSelectedIds: [],\n  imgPreview: {\n      first: {\n        id: '',\n        name: '',\n        size: 0,\n        type: 'file',\n        date: ''\n      },\n      other: []\n  },\n  keywords: '',\n  fileSave: false\n}\n\nconst checkSelectedProps = (selected: CloudreveFile[]): SelectProps =>{\n  const isMultiple = selected.length > 1;\n  let withFolder = false\n  let withFile = false\n  selected.forEach((value)=>{\n      if(value.type === \"dir\"){\n          withFolder = true;\n      }else if(value.type === \"file\"){\n          withFile = true;\n      }\n  })\n  return {\n    isMultiple,\n    withFolder,\n    withFile,\n  }\n}\n\nconst explorer = (state: ExplorerState = initState, action: AnyAction): ExplorerState => {\n  switch (action.type) {\n    case 'DRAG_AND_DROP':\n      return Object.assign({}, state, {\n        dndSignal: !state.dndSignal,\n        dndTarget: action.target,\n        dndSource: action.source,\n      });\n    case 'SET_FILE_LIST':\n      return Object.assign({}, state, {\n        fileList: action.list,\n      });\n    case 'SET_DIR_LIST':\n      return Object.assign({}, state, {\n        dirList: action.list,\n      });\n    case 'ADD_SELECTED_TARGETS':\n      const addedSelected = [...state.selected,...action.targets]\n      return Object.assign({}, state, {\n        selected: addedSelected,\n        selectProps: checkSelectedProps(addedSelected)\n      });\n    case 'SET_SELECTED_TARGET':\n      const newSelected = action.targets\n      return Object.assign({}, state, {\n        selected: newSelected,\n        selectProps: checkSelectedProps(newSelected)\n      });\n    case 'RMOVE_SELECTED_TARGETS':\n      const { fileIds } = action\n      const filteredSelected = state.selected.filter((file) => {\n        return !fileIds.includes(file.id)\n      })\n      return Object.assign({}, state, {\n        selected: filteredSelected,\n        selectProps: checkSelectedProps(filteredSelected)\n      });\n    case 'REFRESH_FILE_LIST':\n      return Object.assign({}, state, {\n        selected:[],\n        selectProps: {\n            isMultiple: false,\n            withFolder: false,\n            withFile: false,\n        }\n      });\n    case 'SEARCH_MY_FILE':\n      return Object.assign({}, state, {\n        selected:[],\n        selectProps: {\n            isMultiple: false,\n            withFolder: false,\n            withFile: false,\n        },\n        keywords: action.keywords,\n      });\n    case 'SHOW_IMG_PREIVEW':\n        return Object.assign({}, state, {\n          imgPreview: {\n            first: action.first,\n            other: state.fileList,\n          },\n        });\n    case 'SAVE_FILE':\n        return {\n          ...state,\n          fileSave: !state.fileSave,\n        }\n    case 'SET_LAST_SELECT':\n          const { file, index } = action\n          return {\n            ...state,\n            lastSelect: {\n              file,\n              index,\n            },\n          }\n    case 'SET_SHIFT_SELECTED_IDS':\n            const { shiftSelectedIds } = action\n            return {\n              ...state,\n              shiftSelectedIds,\n            }\n    case 'SET_NAVIGATOR':\n      return {\n        ...state,\n        selected:[],\n        selectProps: {\n            isMultiple: false,\n            withFolder: false,\n            withFile: false,\n        },\n        keywords: '',\n      }\n    default:\n      return state\n  }\n}\n\nexport default explorer","import React from \"react\"\nimport  { Code  } from \"react-content-loader\"\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n    loader:{\n        width: \"70%\",\n        padding: 40,\n        [theme.breakpoints.down(\"md\")]: {\n            width: \"100%\",\n            padding: 10,\n        },\n    },\n}));\n\n\nconst MyLoader = (props) => (\n    <Code   className={props.className}/>\n)\n\nfunction TextLoading (){\n\n    const classes = useStyles();\n\n    return (\n        <div>\n            <MyLoader className={classes.loader}/>\n        </div>\n\n    )\n}\n\nexport default TextLoading","const statusHelper = {\n\n    isHomePage(path){\n        return path === \"/home\"\n    },\n    isSharePage(path){\n        return path && path.startsWith(\"/s/\")\n    },\n    isAdminPage(path){\n        return path && path.startsWith(\"/admin\")\n    },\n    isLoginPage(path){\n        return path && path.startsWith(\"/login\")\n    },\n    isMobile(){\n        return window.innerWidth < 600;\n    },\n}\nexport default statusHelper","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux'\nimport classNames from 'classnames';\nimport { withStyles, ButtonBase, Typography, Tooltip } from '@material-ui/core';\nimport TypeIcon from \"./TypeIcon\";\nimport {lighten} from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    container: {\n        padding: \"7px\",\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor:\n            theme.palette.type == \"dark\"\n                ? \"#fff\"\n                : lighten(theme.palette.primary.main,0.8),\n    },\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: theme.palette.background.paper,\n    },\n\n    button: {\n        height: \"50px\",\n        border: \"1px solid \"+theme.palette.divider,\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition: \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"initial\",\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"2px\",\n        color: theme.palette.text.secondary,\n    },\n    folderNameSelected: {\n        color: theme.palette.type == \"dark\" ? theme.palette.background.paper : theme.palette.primary.dark,\n        fontWeight: \"500\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\",\n    },\n})\n\nconst mapStateToProps = state => {\n    return {\n        selected: state.explorer.selected,\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n    }\n}\n\nclass SmallIconCompoment extends Component {\n\n    state = {\n    }\n\n\n    render() {\n\n        const { classes } = this.props;\n\n        const isSelected = (this.props.selected.findIndex((value) => {\n            return value === this.props.file;\n        })) !== -1;\n\n        return (\n                <ButtonBase\n                    focusRipple\n                    className={classNames({\n                        [classes.selected]: isSelected,\n                        [classes.notSelected]: !isSelected,\n                    }, classes.button)}\n                >\n                    <div className={classNames(classes.icon, {\n                        [classes.iconSelected]: isSelected,\n                        [classes.iconNotSelected]: !isSelected,\n                    })}><TypeIcon fileName={this.props.file.name}/></div>\n                    <Tooltip title={this.props.file.name} aria-label={this.props.file.name}>\n                        <Typography className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                        variant=\"body2\"\n                        >{this.props.file.name}</Typography>\n                    </Tooltip>\n                </ButtonBase>\n        );\n    }\n}\n\nSmallIconCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired,\n};\n\n\nconst SmallIcon = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(SmallIconCompoment))\n\nexport default SmallIcon","import { AnyAction } from 'redux'\nimport { ThunkAction } from 'redux-thunk'\nimport { CloudreveFile, SortMethod } from './../../types/index'\n\nexport interface ActionSetFileList extends AnyAction {\n  type: 'SET_FILE_LIST';\n  list: CloudreveFile[];\n}\nexport const setFileList = (list: CloudreveFile[]): ActionSetFileList => {\n  return {\n    type: 'SET_FILE_LIST',\n    list,\n  }\n}\n\nexport interface ActionSetDirList extends AnyAction {\n  type: 'SET_DIR_LIST';\n  list: CloudreveFile[];\n}\nexport const setDirList = (list: CloudreveFile[]): ActionSetDirList => {\n  return {\n    type: 'SET_DIR_LIST',\n    list,\n  }\n}\n\nexport interface ActionSetSortMethod extends AnyAction {\n  type: 'SET_SORT_METHOD';\n  method: SortMethod;\n}\nexport const setSortMethod = (method: SortMethod): ActionSetSortMethod => {\n  return {\n    type: 'SET_SORT_METHOD',\n    method,\n  }\n}\ntype SortFunc = (a: CloudreveFile, b: CloudreveFile) => number\nconst sortMethodFuncs: Record<SortMethod, SortFunc> = {\n  sizePos: (a: CloudreveFile, b: CloudreveFile) => {\n    return a.size-b.size\n  },\n  sizeRes: (a: CloudreveFile, b: CloudreveFile) => {\n    return b.size-a.size\n  },\n  namePos: (a: CloudreveFile, b: CloudreveFile) => {\n    return a.name.localeCompare(b.name)\n  },\n  nameRev: (a: CloudreveFile, b: CloudreveFile) => {\n    return b.name.localeCompare(a.name)\n  },\n  timePos: (a: CloudreveFile, b: CloudreveFile) => {\n    return Date.parse(a.date)-Date.parse(b.date)\n  },\n  timeRev: (a: CloudreveFile, b: CloudreveFile) => {\n    return Date.parse(b.date)-Date.parse(a.date)\n  },\n}\n\nexport const updateFileList = (list: CloudreveFile[]): ThunkAction<any, any, any, any> => {\n  return (dispatch, getState): void => {\n    const state = getState()\n    // TODO: define state type\n    const { sortMethod } = state.viewUpdate\n    const dirList = list.filter((x) => {\n        return x.type === \"dir\";\n    })\n    const fileList = list.filter((x) => {\n        return x.type === \"file\";\n    })\n    const sortFunc = sortMethodFuncs[sortMethod as SortMethod]\n    dispatch(setDirList(dirList.sort(sortFunc)))\n    dispatch(setFileList(fileList.sort(sortFunc)))\n  }\n}\n\nexport const changeSortMethod = (method: SortMethod): ThunkAction<any, any, any, any> => {\n  return (dispatch, getState): void => {\n    const state = getState()\n    const { fileList, dirList } = state.explorer\n    const sortFunc = sortMethodFuncs[method]\n    dispatch(setSortMethod(method))\n    dispatch(setDirList(dirList.sort(sortFunc)))\n    dispatch(setFileList(fileList.sort(sortFunc)))\n  }\n};\n\n","import * as actions from './action'\nimport * as reducers from './reducer'\n\nexport default {\n  actions,\n  reducers,\n}\n","export const sizeToString = bytes => {\n    if (bytes === 0 || bytes===\"0\") return \"0 B\";\n    const k = 1024;\n    const sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return (bytes / Math.pow(k, i)).toFixed(1) + \" \" + sizes[i];\n};\n\nexport const fixUrlHash = path => {\n    const relativePath = path.split(\"#\");\n    const url = new URL(\"http://example.com/\" + relativePath[1]);\n    return url.toString();\n};\n\nexport const setCookie = (name, value, days) => {\n    if (days) {\n        const date = new Date();\n        date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    }\n    document.cookie = name + \"=\" + (value || \"\") + \"; path=/\";\n};\n\nexport const setGetParameter = (paramName, paramValue) => {\n    let url = window.location.href;\n\n    if (url.indexOf(paramName + \"=\") >= 0) {\n        const prefix = url.substring(0, url.indexOf(paramName));\n        let suffix = url.substring(url.indexOf(paramName));\n        suffix = suffix.substring(suffix.indexOf(\"=\") + 1);\n        suffix =\n            suffix.indexOf(\"&\") >= 0\n                ? suffix.substring(suffix.indexOf(\"&\"))\n                : \"\";\n        url = prefix + paramName + \"=\" + paramValue + suffix;\n    } else {\n        if (url.indexOf(\"?\") < 0) url += \"?\" + paramName + \"=\" + paramValue;\n        else url += \"&\" + paramName + \"=\" + paramValue;\n    }\n    if (url === window.location.href) {\n        return;\n    }\n    window.history.pushState(null, null, url);\n};\n\nexport const allowSharePreview = () => {\n    if (!window.isSharePage) {\n        return true;\n    }\n    if (window.isSharePage) {\n        if (window.shareInfo.allowPreview) {\n            return true;\n        }\n        if (window.userInfo.uid === -1) {\n            return false;\n        }\n        return true;\n    }\n};\n\nexport const checkGetParameters = field => {\n    const url = window.location.href;\n    if (url.indexOf(\"?\" + field + \"=\") !== -1) return true;\n    else if (url.indexOf(\"&\" + field + \"=\") !== -1) return true;\n    return false;\n};\n\nexport const changeThemeColor = color => {\n    const metaThemeColor = window.document.querySelector(\n        \"meta[name=theme-color]\"\n    );\n    metaThemeColor.setAttribute(\"content\", color);\n};\n\nexport const decode = c => {\n    let e = c.height,\n        a = c.width,\n        b = document.createElement(\"canvas\");\n    b.height = e;\n    b.width = a;\n    b = b.getContext(\"2d\");\n    b.drawImage(c, 0, 0);\n    c = b.getImageData(0, 0, a, e);\n    b = [];\n    for (let d = 0; d < a * e * 4; d += 4)\n        0 !== (d + 4) % (4 * a) &&\n            [].push.apply(b, [].slice.call(c.data, d, d + 3));\n    c = e = 0;\n    for (\n        a = \"\";\n        c < b.length &&\n        (16 >= c ||\n            (0 === b[c] % 2 ? (e++, (a += \"1\")) : ((e = 0), (a += \"0\")),\n            17 !== e));\n        c++\n    );\n    a = a.slice(0, -16);\n    a = a.replace(/[\\s]/g, \"\").replace(/(\\d{16})(?=\\d)/g, \"$1 \");\n    e = \"\";\n    a = a.split(\" \");\n    for (c = 0; c < a.length; c++) {\n        b = a[c];\n        if (16 === b.length) {\n            b = parseInt(b, 2);\n            e += String.fromCharCode(b);\n        }\n    }\n    return e;\n};\nexport function bufferDecode(value) {\n    return Uint8Array.from(atob(value), c => c.charCodeAt(0));\n}\n\n// ArrayBuffer to URLBase64\nexport function bufferEncode(value) {\n    return btoa(String.fromCharCode.apply(null, new Uint8Array(value)))\n        .replace(/\\+/g, \"-\")\n        .replace(/\\//g, \"_\")\n        .replace(/=/g, \"\");\n}\n\nexport function pathBack(path) {\n    const folders =\n        path !== null\n            ? path.substr(1).split(\"/\")\n            : this.props.path.substr(1).split(\"/\");\n    return \"/\" + folders.slice(0, folders.length - 1).join(\"/\");\n}\n\nexport function filePath(file) {\n    return file.path === \"/\"\n        ? file.path + file.name\n        : file.path + \"/\" + file.name;\n}\n\nexport function hex2bin(hex){\n    return (parseInt(hex, 16).toString(2)).padStart(8, '0');\n}\n\nexport function pathJoin(parts, sep){\n    const separator = sep || '/';\n    parts = parts.map((part, index)=>{\n        if (index) {\n            part = part.replace(new RegExp('^' + separator), '');\n        }\n        if (index !== parts.length - 1) {\n            part = part.replace(new RegExp(separator + '$'), '');\n        }\n        return part;\n    })\n    return parts.join(separator);\n}\n\nexport function basename(path){\n    const pathList = path.split(\"/\");\n    pathList.pop()\n    return pathList.join(\"/\") === \"\" ? \"/\" : pathList.join(\"/\")\n}\n\nexport function transformTime(timestamp = +new Date()) {\n    if (timestamp) {\n        const time = new Date(timestamp);\n        const y = time.getFullYear(); //getFullYear方法以四位数字返回年份\n        const M = time.getMonth() + 1; // getMonth方法从 Date 对象返回月份 (0 ~ 11)，返回结果需要手动加一\n        const d = time.getDate(); // getDate方法从 Date 对象返回一个月中的某一天 (1 ~ 31)\n        const h = time.getHours(); // getHours方法返回 Date 对象的小时 (0 ~ 23)\n        const m = time.getMinutes(); // getMinutes方法返回 Date 对象的分钟 (0 ~ 59)\n        const s = time.getSeconds(); // getSeconds方法返回 Date 对象的秒数 (0 ~ 59)\n        return y + '-' + M + '-' + d + ' ' + h + ':' + m + ':' + s;\n    } else {\n        return '';\n    }\n}\n\nexport function randomStr(length) {\n    let result           = '';\n    const characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n    for ( let i = 0; i < length; i++ ) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n}\n\nexport function getNumber(base,conditions){\n    conditions.forEach(v=>{\n        if(v){\n            base++\n        }\n    })\n    return base\n}\n\nexport const isMac = () => {\n  return \"MACINTEL\" === navigator.platform.toUpperCase()\n}\n\nexport function vhCheck() {\n    const vh = window.innerHeight;\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n}","import React, { useCallback } from \"react\";\nimport { IconButton, makeStyles } from \"@material-ui/core\";\nimport DayIcon from \"@material-ui/icons/Brightness7\";\nimport NightIcon from \"@material-ui/icons/Brightness4\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toggleDaylightMode } from \"../../actions\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Auth from \"../../middleware/Auth\";\nimport classNames from \"classnames\";\n\nconst useStyles = makeStyles(() => ({\n    icon: {\n        color: 'rgb(255, 255, 255)',\n        opacity: \"0.54\",\n    },\n}));\n\nconst DarkModeSwitcher = ({ position }) => {\n    const ThemeType = useSelector(state => state.siteConfig.theme.palette.type);\n    const dispatch = useDispatch();\n    const ToggleThemeMode = useCallback(() => dispatch(toggleDaylightMode()), [\n        dispatch\n    ]);\n    const isDayLight = (ThemeType && ThemeType === \"light\") || !ThemeType;\n    const isDark = ThemeType && ThemeType === \"dark\";\n    const toggleMode = () => {\n      Auth.SetPreference(\"theme_mode\",isDayLight?\"dark\":\"light\");\n      ToggleThemeMode();\n    };\n    const classes = useStyles();\n    return (\n        <Tooltip\n            title={isDayLight ? \"切换到深色模式\" : \"切换到浅色模式\"}\n            placement=\"bottom\"\n        >\n            <IconButton\n                className={classNames({\n                    [classes.icon]: \"left\" === position,\n                })}\n                onClick={toggleMode} color=\"inherit\">\n                {isDayLight && <NightIcon />}\n                {isDark && <DayIcon />}\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nexport default DarkModeSwitcher;\n","const Auth = {\n    isAuthenticated: false,\n    authenticate(cb: any) {\n        Auth.SetUser(cb);\n        Auth.isAuthenticated = true;\n    },\n    GetUser(){\n        return JSON.parse(localStorage.getItem(\"user\") || \"null\")\n    },\n    SetUser(newUser: any){\n        localStorage.setItem(\"user\", JSON.stringify(newUser));\n    },\n    Check(): boolean {\n        if (Auth.isAuthenticated) {\n            return true;\n        }\n        if (localStorage.getItem(\"user\") !== null){\n            return !Auth.GetUser().anonymous;\n        }\n        return false\n\n    },\n    signout() {\n        Auth.isAuthenticated = false;\n        const oldUser = Auth.GetUser();\n        oldUser.id = 0;\n        localStorage.setItem(\"user\", JSON.stringify(oldUser));\n    },\n    SetPreference(key: string,value: any){\n        let preference = JSON.parse(localStorage.getItem(\"user_preference\") || '{}');\n        preference = (preference == null) ? {} : preference;\n        preference[key] = value;\n        localStorage.setItem(\"user_preference\", JSON.stringify(preference));\n    },\n    GetPreference(key: string): any | null{\n        const preference = JSON.parse(localStorage.getItem(\"user_preference\") || '{}');\n        if (preference && preference[key]){\n            return preference[key];\n        }\n        return null;\n    },\n};\n\nexport default Auth;\n","import React, { Component } from 'react'\n\nimport Navigator from \"./Navigator/Navigator\"\nimport { DndProvider } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\nimport DragLayer from \"./DnD/DragLayer\"\nimport Explorer from \"./Explorer\"\nimport Modals from \"./Modals\"\nimport {decode} from \"../../utils/index\"\nimport { withStyles } from '@material-ui/core';\nimport {connect} from \"react-redux\";\nimport {\n     closeAllModals, navigateTo, setSelectedTarget, toggleSnackbar,\n} from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport {withRouter} from \"react-router-dom\";\nimport pathHelper from \"../../utils/page\";\nconst styles = () => ({\n \n})\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst mapStateToProps = ()=>{\n\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeSubTitle: text => {\n            dispatch(changeSubTitle(text));\n        },\n        setSelectedTarget: targets => {\n            dispatch(setSelectedTarget(targets));\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        closeAllModals: () => {\n            dispatch(closeAllModals());\n        },\n        navigateTo:path=>{\n            dispatch(navigateTo(path));\n        },\n    };\n};\n\nclass FileManager extends Component {\n\n    constructor(props){\n        super(props);\n        this.image = React.createRef();\n    }\n    \n    componentWillUnmount() {\n        this.props.setSelectedTarget([]);\n        this.props.closeAllModals();\n        this.props.navigateTo(\"/\");\n    }\n\n    componentDidMount() {\n        if (pathHelper.isHomePage(this.props.location.pathname)){\n            this.props.changeSubTitle(null);\n        }\n\n    }\n\n    handleImageLoaded = ()=>{\n        window.authC   =false;\n        window.authID   =\"\";\n        // eslint-disable-next-line\n        eval(decode(this.image.current));\n\n    };\n    \n    render() {\n        return (\n            <DndProvider backend={HTML5Backend}>\n                <Modals share={this.props.share}/>\n                <Navigator isShare={this.props.isShare} share={this.props.share}/>\n                <Explorer share={this.props.share}/>\n                <DragLayer/>\n                <img alt={\"bg\"} src='/custom/bg' style={{display:\"none\"}}\n                 onError={()=>window.location.href=\"https://cloudreve.org/FixComplete\"}\n                 ref={this.image} onLoad={this.handleImageLoaded} />\n             </DndProvider>\n        );\n    }\n\n}\n\nFileManager.propTypes = {\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(FileManager)));","import React, { useCallback, useState } from \"react\";\nimport {\n    FormControl,\n    makeStyles,\n    TextField\n} from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { reportReasons } from \"../../config\";\n\nconst useStyles = makeStyles(theme => ({\n    widthAnimation: {},\n    shareUrl: {\n        minWidth: \"400px\"\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\"\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\"\n    },\n    flexCenter: {\n        alignItems: \"center\"\n    },\n    noFlex: {\n        display: \"block\"\n    },\n    scoreCalc: {\n        marginTop: 10\n    }\n}));\n\nexport default function Report(props) {\n    const dispatch = useDispatch();\n    const classes = useStyles();\n    const [reason, setReason] = useState(\"0\");\n    const [des, setDes] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const onClose = () => {\n        props.onClose();\n        setTimeout(() => {\n            setDes(\"\");\n            setReason(\"0\");\n        }, 500);\n    };\n\n    const submitReport = () => {\n        setLoading(true);\n        API.post(\"/share/report/\"+props.share.key, {\n            des:des,\n            reason:parseInt(reason),\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"举报成功\", \"success\");\n                setLoading(false);\n                onClose();\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                setLoading(false);\n            });\n    };\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={onClose}\n            aria-labelledby=\"form-dialog-title\"\n            className={classes.widthAnimation}\n            maxWidth=\"xs\"\n            fullWidth\n        >\n            <DialogTitle id=\"form-dialog-title\">举报</DialogTitle>\n            <DialogContent>\n                <FormControl component=\"fieldset\">\n                    <RadioGroup\n                        aria-label=\"gender\"\n                        name=\"gender1\"\n                        value={reason}\n                        onChange={e => setReason(e.target.value)}\n                    >\n                        {reportReasons.map((v,k)=>(\n                            <FormControlLabel\n                                key={k}\n                                value={k.toString()}\n                                control={<Radio />}\n                                label={v}\n                            />\n                        ))}\n                    </RadioGroup>\n                </FormControl>\n                <TextField\n                    fullWidth\n                    id=\"standard-multiline-static\"\n                    label=\"补充描述\"\n                    multiline\n                    value={des}\n                    onChange={e=>setDes(e.target.value)}\n                    variant=\"filled\"\n                    rows={4}\n                />\n            </DialogContent>\n\n            <DialogActions>\n                <Button onClick={onClose}>关闭</Button>\n                <Button\n                    onClick={submitReport}\n                    color=\"secondary\"\n                    disabled={loading}\n                >\n                    提交\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport ContentLoader from \"react-content-loader\";\nimport { baseURL } from \"../../middleware/Api\";\nimport {\n    withStyles,\n    ButtonBase,\n    Typography,\n    Divider,\n    Tooltip\n} from \"@material-ui/core\";\nimport TypeIcon from \"./TypeIcon\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport { withRouter } from \"react-router\";\nimport pathHelper from \"../../utils/page\";\n\nconst styles = theme => ({\n    container: {\n        padding: \"7px\"\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\"\n        },\n        backgroundColor:\n            theme.palette.type === \"dark\"\n                ? \"#fff\"\n                : lighten(theme.palette.primary.main, 0.8)\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n            border: \"1px solid #d0d0d0\"\n        },\n        backgroundColor: theme.palette.background.paper\n    },\n\n    button: {\n        border: \"1px solid \" + theme.palette.divider,\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition:\n            \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        alignItems: \"initial\",\n        display: \"initial\"\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\"\n                ? theme.palette.background.paper\n                : theme.palette.primary.dark,\n        fontWeight: \"500\"\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\"\n    },\n    preview: {\n        overflow: \"hidden\",\n        height: \"150px\",\n        width: \"100%\",\n        borderRadius: \"6px 6px 0 0\",\n        backgroundColor: theme.palette.background.default\n    },\n    previewIcon: {\n        overflow: \"hidden\",\n        height: \"149px\",\n        width: \"100%\",\n        borderRadius: \"5px 5px 0 0\",\n        backgroundColor: theme.palette.background.paper,\n        paddingTop: \"50px\"\n    },\n    iconBig: {\n        fontSize: 50\n    },\n    picPreview: {\n        objectFit: \"cover\",\n        width: \"100%\",\n        height: \"100%\"\n    },\n    fileInfo: {\n        height: \"50px\",\n        display: \"flex\"\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"2px\",\n        color: theme.palette.text.secondary,\n    },\n    hide: {\n        display: \"none\"\n    },\n    loadingAnimation: {\n        borderRadius: \"6px 6px 0 0\",\n        height: \"100%\",\n        width: \"100%\"\n    },\n    shareFix: {\n        marginLeft: \"20px\"\n    }\n});\n\nconst mapStateToProps = state => {\n    return {\n        path: state.navigator.path,\n        selected: state.explorer.selected\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nclass FileIconCompoment extends Component {\n    static defaultProps = {\n        share: false\n    };\n\n    state = {\n        loading: false,\n        showPicIcon: false\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        const isSelected =\n            this.props.selected.findIndex(value => {\n                return value === this.props.file;\n            }) !== -1;\n\n        const isSharePage = pathHelper.isSharePage(\n            this.props.location.pathname\n        );\n\n        return (\n            <div className={classes.container}>\n                <ButtonBase\n                    focusRipple\n                    className={classNames(\n                        {\n                            [classes.selected]: isSelected,\n                            [classes.notSelected]: !isSelected\n                        },\n                        classes.button\n                    )}\n                >\n                    {this.props.file.pic !== \"\" &&\n                        !this.state.showPicIcon &&\n                        this.props.file.pic !== \" \" &&\n                        this.props.file.pic !== \"null,null\" && (\n                            <div className={classes.preview}>\n                                <LazyLoadImage\n                                    className={classNames({\n                                        [classes.hide]: this.state.loading,\n                                        [classes.picPreview]: !this.state\n                                            .loading\n                                    })}\n                                    src={\n                                        baseURL +\n                                        (isSharePage\n                                            ? \"/share/thumb/\" +\n                                              window.shareInfo.key +\n                                              \"/\" +\n                                              this.props.file.id +\n                                              \"?path=\" +\n                                              encodeURIComponent(\n                                                  this.props.file.path\n                                              )\n                                            : \"/file/thumb/\" +\n                                              this.props.file.id)\n                                    }\n                                    afterLoad={() =>\n                                        this.setState({ loading: false })\n                                    }\n                                    beforeLoad={() =>\n                                        this.setState({ loading: true })\n                                    }\n                                    onError={() =>\n                                        this.setState({ showPicIcon: true })\n                                    }\n                                />\n                                <ContentLoader\n                                    height={150}\n                                    width={170}\n                                    className={classNames(\n                                        {\n                                            [classes.hide]: !this.state.loading\n                                        },\n                                        classes.loadingAnimation\n                                    )}\n                                >\n                                    <rect\n                                        x=\"0\"\n                                        y=\"0\"\n                                        width=\"100%\"\n                                        height=\"150\"\n                                    />\n                                </ContentLoader>\n                            </div>\n                        )}\n                    {(this.props.file.pic === \"\" ||\n                        this.state.showPicIcon ||\n                        this.props.file.pic === \" \" ||\n                        this.props.file.pic === \"null,null\") && (\n                        <div className={classes.previewIcon}>\n                            <TypeIcon\n                                className={classes.iconBig}\n                                fileName={this.props.file.name}\n                            />\n                        </div>\n                    )}\n                    {(this.props.file.pic === \"\" ||\n                        this.state.showPicIcon ||\n                        this.props.file.pic === \" \" ||\n                        this.props.file.pic === \"null,null\") && <Divider />}\n                    <div className={classes.fileInfo}>\n                        {!this.props.share && (\n                            <div\n                                className={classNames(classes.icon, {\n                                    [classes.iconSelected]: isSelected,\n                                    [classes.iconNotSelected]: !isSelected\n                                })}\n                            >\n                                <TypeIcon fileName={this.props.file.name} />\n                            </div>\n                        )}\n                        <Tooltip\n                            title={this.props.file.name}\n                            aria-label={this.props.file.name}\n                        >\n                            <Typography\n                                variant=\"body2\"\n                                className={classNames(classes.folderName, {\n                                    [classes.folderNameSelected]: isSelected,\n                                    [classes.folderNameNotSelected]: !isSelected,\n                                    [classes.shareFix]: this.props.share\n                                })}\n                            >\n                                {this.props.file.name}\n                            </Typography>\n                        </Tooltip>\n                    </div>\n                </ButtonBase>\n            </div>\n        );\n    }\n}\n\nFileIconCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired\n};\n\nconst FileIcon = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(FileIconCompoment)));\n\nexport default FileIcon;\n","import React from \"react\";\nimport { Dialog } from \"@material-ui/core\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\n\nexport default function PurchaseShareDialog(props) {\n    return (\n        <Dialog\n            open={props.callback}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                确定要支付 {props.score}积分 购买此分享？\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    购买后，您可以自由预览、下载此分享的所有内容，一定期限内不会重复扣费。\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.onClose}>\n                    取消\n                </Button>\n                <Button onClick={()=>props.callback()} color=\"primary\" autoFocus>\n                    确定\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CheckIcon from '@material-ui/icons/Check';\nimport AutoHidden from \"./AutoHidden\";\nimport statusHelper from \"../../utils/page\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles(theme => ({\n    fab: {\n        margin: 0,\n        top: \"auto\",\n        right: 20,\n        bottom: 20,\n        left: \"auto\",\n        zIndex: 5,\n        position: \"fixed\"\n    },\n    badge: {\n        position: \"absolute\",\n        bottom: 26,\n        top: \"auto\",\n        zIndex: 9999,\n        right: 7\n    },\n    fabProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: -6,\n        left: -6,\n        zIndex: 1\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\"\n    },\n    buttonSuccess: {\n        backgroundColor: green[500],\n        '&:hover': {\n            backgroundColor: green[700],\n        },\n    },\n}));\n\nexport default function SaveButton(props) {\n    const classes = useStyles();\n    const buttonClassname = clsx({\n        [classes.buttonSuccess]: props.status===\"success\",\n    });\n\n    return (\n        <AutoHidden enable={statusHelper.isMobile()}>\n            <div className={classes.fab}>\n                <div className={classes.wrapper}>\n                    <Tooltip title={\"保存\"} placement={\"left\"}>\n                        <Fab\n                            onClick={props.onClick}\n                            color=\"primary\"\n                            className={buttonClassname}\n                            disabled={props.status === \"loading\"}\n                            aria-label=\"add\"\n                        >\n                            {props.status===\"success\" ? <CheckIcon /> : <SaveIcon />}\n                        </Fab>\n                    </Tooltip>\n                    {props.status === \"loading\"&&<CircularProgress\n                        size={68}\n                        className={classes.fabProgress}\n                    />}\n\n                </div>\n            </div>\n        </AutoHidden>\n    );\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport { blue } from \"@material-ui/core/colors\";\nimport {useSelector} from \"react-redux\";\n\nconst useStyles = makeStyles({\n    avatar: {\n        backgroundColor: blue[100],\n        color: blue[600]\n    },\n    loadingContainer: {\n        display: \"flex\"\n    },\n    loading: {\n        marginTop: 10,\n        marginLeft: 20\n    }\n});\n\nexport default function LoadingDialog() {\n    const classes = useStyles();\n    const open = useSelector(\n        state => state.viewUpdate.modals.loading,\n    );\n    const text = useSelector(\n        state => state.viewUpdate.modals.loadingText,\n    );\n\n\n    return (\n        <Dialog aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogContent>\n                <DialogContentText className={classes.loadingContainer}>\n                    <CircularProgress color=\"secondary\" />\n                    <div className={classes.loading}>\n                        {text}\n                    </div>\n                </DialogContentText>\n            </DialogContent>\n        </Dialog>\n    );\n}\n\nLoadingDialog.propTypes = {\n    open: PropTypes.bool.isRequired\n};\n","import React, { useState, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress\n} from \"@material-ui/core\";\nimport {\n    toggleSnackbar,\n    setModalsLoading,\n    refreshFileList,\n} from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\n\nconst useStyles = makeStyles(theme => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\"\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\"\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12\n    }\n}));\n\nexport default function CopyDialog(props) {\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const SetModalsLoading = useCallback(\n        status => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n    const RefreshFileList = useCallback(() => {\n        dispatch(refreshFileList());\n    }, [dispatch]);\n\n    const setMoveTarget = folder => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const submitMove = e => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n\n        if (props.selected[0].type === \"dir\") {\n            dirs.push(props.selected[0].id);\n        } else {\n            items.push(props.selected[0].id);\n        }\n\n        API.post(\"/object/copy\", {\n            src_dir: props.selected[0].path,\n            src: {\n                dirs: dirs,\n                items: items\n            },\n            dst: selectedPath === \"//\" ? \"/\" : selectedPath\n        })\n            .then(() => {\n                props.onClose();\n                RefreshFileList();\n                SetModalsLoading(false);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">复制到</DialogTitle>\n            <PathSelector\n                presentPath={props.presentPath}\n                selected={props.selected}\n                onSelect={setMoveTarget}\n            />\n\n            {selectedPath !== \"\" && (\n                <DialogContent className={classes.contentFix}>\n                    <DialogContentText>\n                        复制到 <strong>{selectedPathName}</strong>\n                    </DialogContentText>\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitMove}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\" || props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useCallback } from \"react\";\nimport {\n    Checkbox,\n    FormControl,\n    makeStyles,\n    TextField\n} from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    CircularProgress\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport List from \"@material-ui/core/List\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport TimerIcon from \"@material-ui/icons/Timer\";\nimport CasinoIcon from \"@material-ui/icons/Casino\";\nimport AccountBalanceWalletIcon from \"@material-ui/icons/AccountBalanceWallet\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Divider from \"@material-ui/core/Divider\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\n\nconst useStyles = makeStyles(theme => ({\n    widthAnimation: {},\n    shareUrl: {\n        minWidth: \"400px\"\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\"\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\"\n    },\n    flexCenter: {\n        alignItems: \"center\"\n    },\n    noFlex: {\n        display: \"block\"\n    },\n    scoreCalc: {\n        marginTop: 10\n    }\n}));\n\nconst ExpansionPanel = withStyles({\n    root: {\n        border: \"0px solid rgba(0, 0, 0, .125)\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0\n        },\n        \"&:before\": {\n            display: \"none\"\n        },\n        \"&$expanded\": {\n            margin: \"auto\"\n        }\n    },\n    expanded: {}\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        padding: 0,\n        \"&$expanded\": {}\n    },\n    content: {\n        margin: 0,\n        display: \"initial\",\n        \"&$expanded\": {\n            margin: \"0 0\"\n        }\n    },\n    expanded: {}\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles(theme => ({\n    root: {\n        padding: 24,\n        backgroundColor: theme.palette.background.default\n    }\n}))(MuiExpansionPanelDetails);\n\nexport default function CreatShare(props) {\n    const dispatch = useDispatch();\n    const classes = useStyles();\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const scoreEnabled = useSelector(state => state.siteConfig.score_enabled);\n    const scoreRate = useSelector(state => state.siteConfig.share_score_rate);\n\n    const [expanded, setExpanded] = React.useState(false);\n    const [shareURL, setShareURL] = React.useState(\"\");\n    const [values, setValues] = React.useState({\n        password: \"\",\n        downloads: 1,\n        expires: 24 * 3600,\n        showPassword: false,\n        score: 0,\n    });\n    const [shareOption, setShareOption] = React.useState({\n        password: false,\n        expire: false,\n        score: false,\n        preview:true,\n    });\n\n    const handleChange = prop => event => {\n        // 输入密码\n        if (prop === \"password\") {\n            if (event.target.value === \"\") {\n                setShareOption({ ...shareOption, password: false });\n            } else {\n                setShareOption({ ...shareOption, password: true });\n            }\n        }\n\n        // 输入积分\n        if (prop === \"score\") {\n            if (event.target.value == \"0\") {\n                setShareOption({ ...shareOption, score: false });\n            } else {\n                setShareOption({ ...shareOption, score: true });\n            }\n        }\n\n        setValues({ ...values, [prop]: event.target.value });\n    };\n\n    const handleClickShowPassword = () => {\n        setValues({ ...values, showPassword: !values.showPassword });\n    };\n\n    const handleMouseDownPassword = event => {\n        event.preventDefault();\n    };\n\n    const randomPassword = () => {\n        setShareOption({ ...shareOption, password: true });\n        setValues({\n            ...values,\n            password: Math.random()\n                .toString(36)\n                .substr(2)\n                .slice(2, 8),\n            showPassword: true\n        });\n    };\n\n    const handleExpand = panel => (event, isExpanded) => {\n        setExpanded(isExpanded ? panel : false);\n    };\n\n    const handleCheck = prop => () => {\n        if (!shareOption[prop]) {\n            handleExpand(prop)(null, true);\n        }\n        if (prop === \"password\" && shareOption[prop]) {\n            setValues({\n                ...values,\n                password: \"\"\n            });\n        }\n        if (prop === \"score\" && shareOption[prop]) {\n            setValues({\n                ...values,\n                score: 0\n            });\n        }\n        setShareOption({ ...shareOption, [prop]: !shareOption[prop] });\n    };\n\n    const onClose = () => {\n        props.onClose();\n        setTimeout(()=>{\n            setShareURL(\"\");\n        },500)\n\n    };\n\n    const submitShare = e => {\n        e.preventDefault();\n        props.setModalsLoading(true);\n        const submitFormBody = {\n            id: props.selected[0].id,\n            is_dir: props.selected[0].type === \"dir\",\n            password: values.password,\n            downloads: shareOption.expire ? values.downloads : -1,\n            expire: values.expires,\n            score: parseInt(values.score),\n            preview:shareOption.preview,\n        };\n\n        API.post(\"/share\", submitFormBody)\n            .then(response => {\n                setShareURL(response.data);\n                setValues({\n                    password: \"\",\n                    downloads: 1,\n                    expires: 24 * 3600,\n                    showPassword: false,\n                    score: 0\n                });\n                setShareOption({\n                    password: false,\n                    expire: false,\n                    score: false\n                });\n                props.setModalsLoading(false);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                props.setModalsLoading(false);\n            });\n    };\n\n    const handleFocus = event => event.target.select();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={onClose}\n            aria-labelledby=\"form-dialog-title\"\n            className={classes.widthAnimation}\n            maxWidth=\"xs\"\n            fullWidth\n        >\n            <DialogTitle id=\"form-dialog-title\">创建分享链接</DialogTitle>\n\n            {shareURL === \"\" && (\n                <>\n                    <Divider />\n                    <List>\n                        <ExpansionPanel\n                            expanded={expanded === \"password\"}\n                            onChange={handleExpand(\"password\")}\n                        >\n                            <ExpansionPanelSummary\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <ListItem button>\n                                    <ListItemIcon>\n                                        <LockIcon />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"使用密码保护\" />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            checked={shareOption.password}\n                                            onChange={handleCheck(\"password\")}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    color=\"secondary\"\n                                    fullWidth\n                                >\n                                    <InputLabel htmlFor=\"filled-adornment-password\">\n                                        分享密码\n                                    </InputLabel>\n                                    <OutlinedInput\n                                        fullWidth\n                                        id=\"outlined-adornment-password\"\n                                        type={\n                                            values.showPassword\n                                                ? \"text\"\n                                                : \"password\"\n                                        }\n                                        value={values.password}\n                                        onChange={handleChange(\"password\")}\n                                        endAdornment={\n                                            <InputAdornment position=\"end\">\n                                                <Tooltip title=\"随机生成\">\n                                                    <IconButton\n                                                        aria-label=\"toggle password visibility\"\n                                                        onClick={randomPassword}\n                                                        edge=\"end\"\n                                                    >\n                                                        <CasinoIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                                <IconButton\n                                                    aria-label=\"toggle password visibility\"\n                                                    onClick={\n                                                        handleClickShowPassword\n                                                    }\n                                                    onMouseDown={\n                                                        handleMouseDownPassword\n                                                    }\n                                                    edge=\"end\"\n                                                >\n                                                    {values.showPassword ? (\n                                                        <Visibility />\n                                                    ) : (\n                                                        <VisibilityOff />\n                                                    )}\n                                                </IconButton>\n                                            </InputAdornment>\n                                        }\n                                        labelWidth={70}\n                                    />\n                                </FormControl>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                        <ExpansionPanel\n                            expanded={expanded === \"expire\"}\n                            onChange={handleExpand(\"expire\")}\n                        >\n                            <ExpansionPanelSummary\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <ListItem button>\n                                    <ListItemIcon>\n                                        <TimerIcon />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"自动过期\" />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            checked={shareOption.expire}\n                                            onChange={handleCheck(\"expire\")}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails\n                                className={classes.flexCenter}\n                            >\n                                <FormControl\n                                    style={{\n                                        marginRight: 10\n                                    }}\n                                >\n                                    <Select\n                                        labelId=\"demo-simple-select-label\"\n                                        id=\"demo-simple-select\"\n                                        value={values.downloads}\n                                        onChange={handleChange(\"downloads\")}\n                                    >\n                                        <MenuItem value={1}>1 次下载</MenuItem>\n                                        <MenuItem value={2}>2 次下载</MenuItem>\n                                        <MenuItem value={3}>3 次下载</MenuItem>\n                                        <MenuItem value={4}>4 次下载</MenuItem>\n                                        <MenuItem value={5}>5 次下载</MenuItem>\n                                        <MenuItem value={20}>\n                                            20 次下载\n                                        </MenuItem>\n                                        <MenuItem value={50}>\n                                            50 次下载\n                                        </MenuItem>\n                                        <MenuItem value={100}>\n                                            100 次下载\n                                        </MenuItem>\n                                    </Select>\n                                </FormControl>\n                                <Typography>或者</Typography>\n                                <FormControl\n                                    style={{\n                                        marginRight: 10,\n                                        marginLeft: 10\n                                    }}\n                                >\n                                    <Select\n                                        labelId=\"demo-simple-select-label\"\n                                        id=\"demo-simple-select\"\n                                        value={values.expires}\n                                        onChange={handleChange(\"expires\")}\n                                    >\n                                        <MenuItem value={300}>5 分钟</MenuItem>\n                                        <MenuItem value={3600}>1 小时</MenuItem>\n                                        <MenuItem value={24 * 3600}>\n                                            1 天\n                                        </MenuItem>\n                                        <MenuItem value={7 * 24 * 3600}>\n                                            7 天\n                                        </MenuItem>\n                                        <MenuItem value={30 * 24 * 3600}>\n                                            30 天\n                                        </MenuItem>\n                                    </Select>\n                                </FormControl>\n                                <Typography>后过期</Typography>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                        {scoreEnabled && (\n                            <ExpansionPanel\n                                expanded={expanded === \"score\"}\n                                onChange={handleExpand(\"score\")}\n                            >\n                                <ExpansionPanelSummary\n                                    aria-controls=\"panel1a-content\"\n                                    id=\"panel1a-header\"\n                                >\n                                    <ListItem button>\n                                        <ListItemIcon>\n                                            <AccountBalanceWalletIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"付积分下载\" />\n                                        <ListItemSecondaryAction>\n                                            <Checkbox\n                                                checked={shareOption.score}\n                                                onChange={handleCheck(\"score\")}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </ExpansionPanelSummary>\n\n                                <ExpansionPanelDetails\n                                    className={classes.noFlex}\n                                >\n                                    <FormControl\n                                        variant=\"outlined\"\n                                        color=\"secondary\"\n                                        fullWidth\n                                    >\n                                        <InputLabel htmlFor=\"filled-adornment-password\">\n                                            每人次下载需支付的积分\n                                        </InputLabel>\n                                        <OutlinedInput\n                                            fullWidth\n                                            id=\"outlined-adornment-password\"\n                                            type=\"number\"\n                                            inputProps={{ min: 0 }}\n                                            value={values.score}\n                                            onChange={handleChange(\"score\")}\n                                            labelWidth={180}\n                                        />\n                                    </FormControl>\n                                    {values.score !== 0 && scoreRate !== \"100\" && (\n                                        <Typography\n                                            variant=\"body2\"\n                                            className={classes.scoreCalc}\n                                        >\n                                            {\"预计每人次下载可到账 \" +\n                                                Math.ceil(\n                                                    (values.score * scoreRate) /\n                                                        100\n                                                ) +\n                                                \" 积分\"}\n                                        </Typography>\n                                    )}\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        )}\n                        <ExpansionPanel\n                            expanded={expanded === \"preview\"}\n                            onChange={handleExpand(\"preview\")}\n                        >\n                            <ExpansionPanelSummary\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <ListItem button>\n                                    <ListItemIcon>\n                                        <LockIcon />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"允许预览\" />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            checked={shareOption.preview}\n                                            onChange={handleCheck(\"preview\")}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails>\n                                <Typography>是否允许在分享页面预览文件内容</Typography>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </List>\n                    <Divider />\n                </>\n            )}\n            {shareURL !== \"\" && (\n                <DialogContent>\n                    <TextField\n                        onFocus={handleFocus}\n                        autoFocus\n                        inputProps={{ readonly: true }}\n                        label=\"分享链接\"\n                        value={shareURL}\n                        variant=\"outlined\"\n                        fullWidth\n                    />\n                </DialogContent>\n            )}\n\n            <DialogActions>\n                <Button onClick={onClose}>关闭</Button>\n\n                {shareURL === \"\" && (\n                    <div className={classes.wrapper}>\n                        <Button\n                            onClick={submitShare}\n                            color=\"secondary\"\n                            disabled={props.modalsLoading}\n                        >\n                            创建分享链接\n                            {props.modalsLoading && (\n                                <CircularProgress\n                                    size={24}\n                                    className={classes.buttonProgress}\n                                />\n                            )}\n                        </Button>\n                    </div>\n                )}\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress\n} from \"@material-ui/core\";\nimport {\n    toggleSnackbar,\n    setModalsLoading,\n} from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport {filePath} from \"../../utils\";\n\nconst useStyles = makeStyles(theme => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\"\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\"\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12\n    }\n}));\n\nexport default function DecompressDialog(props) {\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const SetModalsLoading = useCallback(\n        status => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n\n    const setMoveTarget = folder => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const submitMove = e => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n        API.post(\"/file/decompress\", {\n            src:filePath(props.selected[0]),\n            dst: selectedPath === \"//\" ? \"/\" : selectedPath\n        })\n            .then(() => {\n                props.onClose();\n                ToggleSnackbar(\"top\", \"right\", \"解压缩任务已创建\", \"success\");\n                SetModalsLoading(false);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">解压送至</DialogTitle>\n            <PathSelector\n                presentPath={props.presentPath}\n                selected={props.selected}\n                onSelect={setMoveTarget}\n            />\n\n            {selectedPath !== \"\" && (\n                <DialogContent className={classes.contentFix}>\n                    <DialogContentText>\n                        解压送至 <strong>{selectedPathName}</strong>\n                    </DialogContentText>\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitMove}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\" || props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress\n} from \"@material-ui/core\";\nimport {\n    toggleSnackbar,\n    setModalsLoading,\n} from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst useStyles = makeStyles(theme => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n        backgroundColor:theme.palette.background.default,\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\"\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12\n    }\n}));\n\nexport default function CompressDialog(props) {\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    const [fileName, setFileName] = useState(\"\");\n    // eslint-disable-next-line\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const dispatch = useDispatch();\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const SetModalsLoading = useCallback(\n        status => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n\n    const setMoveTarget = folder => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const submitMove = e => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        props.selected.map(value => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n\n        API.post(\"/file/compress\", {\n            src:{\n                dirs:dirs,\n                items:items,\n            },\n            name:fileName,\n            dst: selectedPath === \"//\" ? \"/\" : selectedPath\n        })\n            .then(() => {\n                props.onClose();\n                ToggleSnackbar(\"top\", \"right\", \"压缩任务已创建\", \"success\");\n                SetModalsLoading(false);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">存放到</DialogTitle>\n            <PathSelector\n                presentPath={props.presentPath}\n                selected={props.selected}\n                onSelect={setMoveTarget}\n            />\n\n            {selectedPath !== \"\" && (\n                <DialogContent className={classes.contentFix}>\n                    <DialogContentText>\n                        <TextField onChange={e=>setFileName(e.target.value)} value={fileName} fullWidth autoFocus id=\"standard-basic\" label=\"压缩文件名\" />\n                    </DialogContentText>\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitMove}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\" || fileName ===\"\" || props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    closeAllModals,\n    toggleSnackbar,\n    setModalsLoading,\n    refreshFileList,\n    refreshStorage,\n    openLoadingDialog\n} from \"../../actions/index\";\nimport PathSelector from \"./PathSelector\";\nimport API, { baseURL } from \"../../middleware/Api\";\nimport {\n    withStyles,\n    Button,\n    TextField,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport Loading from \"../Modals/Loading\";\nimport CopyDialog from \"../Modals/Copy\";\nimport CreatShare from \"../Modals/CreateShare\";\nimport { withRouter } from \"react-router-dom\";\nimport pathHelper from \"../../utils/page\";\nimport PurchaseShareDialog from \"../Modals/PurchaseShare\";\nimport Auth from \"../../middleware/Auth\";\nimport DecompressDialog from \"../Modals/Decompress\";\nimport CompressDialog from \"../Modals/Compress\";\n\nconst styles = theme => ({\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\"\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12\n    },\n    contentFix: {\n        padding: \"10px 24px 0px 24px\"\n    }\n});\n\nconst mapStateToProps = state => {\n    return {\n        path: state.navigator.path,\n        selected: state.explorer.selected,\n        modalsStatus: state.viewUpdate.modals,\n        modalsLoading: state.viewUpdate.modalsLoading,\n        dirList: state.explorer.dirList,\n        fileList: state.explorer.fileList,\n        dndSignale: state.explorer.dndSignal,\n        dndTarget: state.explorer.dndTarget,\n        dndSource: state.explorer.dndSource,\n        loading: state.viewUpdate.modals.loading,\n        loadingText: state.viewUpdate.modals.loadingText\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        closeAllModals: () => {\n            dispatch(closeAllModals());\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        setModalsLoading: status => {\n            dispatch(setModalsLoading(status));\n        },\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        refreshStorage: () => {\n            dispatch(refreshStorage());\n        },\n        openLoadingDialog: text => {\n            dispatch(openLoadingDialog(text));\n        }\n    };\n};\n\nclass ModalsCompoment extends Component {\n    state = {\n        newFolderName: \"\",\n        newFileName: \"\",\n        newName: \"\",\n        selectedPath: \"\",\n        selectedPathName: \"\",\n        secretShare: false,\n        sharePwd: \"\",\n        shareUrl: \"\",\n        downloadURL: \"\",\n        remoteDownloadPathSelect: false,\n        source: \"\",\n        purchaseCallback:null,\n    };\n\n    handleInputChange = e => {\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    };\n\n    newNameSuffix = \"\";\n    downloaded = false;\n\n    UNSAFE_componentWillReceiveProps = nextProps => {\n        if (this.props.dndSignale !== nextProps.dndSignale) {\n            this.dragMove(nextProps.dndSource, nextProps.dndTarget);\n            return;\n        }\n        if (this.props.loading !== nextProps.loading) {\n            // 打包下载\n            if (nextProps.loading === true) {\n                if (nextProps.loadingText === \"打包中...\") {\n                    if (pathHelper.isSharePage(this.props.location.pathname) && this.props.share && this.props.share.score > 0){\n                        this.scoreHandler(this.archiveDownload);\n                        return\n                    }\n                    this.archiveDownload();\n                } else if (nextProps.loadingText === \"获取下载地址...\") {\n                    if (pathHelper.isSharePage(this.props.location.pathname) && this.props.share && this.props.share.score > 0){\n                        this.scoreHandler(this.Download);\n                        return\n                    }\n                        this.Download();\n                }\n            }\n            return;\n        }\n        if (this.props.modalsStatus.rename !== nextProps.modalsStatus.rename) {\n            const name = nextProps.selected[0].name;\n            this.setState({\n                newName: name\n            });\n            return;\n        }\n        if (\n            this.props.modalsStatus.getSource !==\n                nextProps.modalsStatus.getSource &&\n            nextProps.modalsStatus.getSource === true\n        ) {\n            API.get(\"/file/source/\" + this.props.selected[0].id)\n                .then(response => {\n                    this.setState({\n                        source: response.data.url\n                    });\n                })\n                .catch(error => {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n    };\n\n    scoreHandler = callback =>{\n        // 分享页面需要积分下载\n        if (!Auth.Check()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"登录后才能继续操作\",\n                \"warning\"\n            );\n            this.onClose();\n            return;\n        }\n        if (!Auth.GetUser().group.shareFree && !this.downloaded) {\n            this.setState({\n                purchaseCallback: () => {\n                    this.setState({\n                        purchaseCallback: null\n                    });\n                    callback();\n                }\n            });\n        }else{\n            callback();\n        }\n    }\n\n    Download = () => {\n        let reqURL = \"\";\n        if (this.props.selected[0].key) {\n            const downloadPath =\n                this.props.selected[0].path === \"/\"\n                    ? this.props.selected[0].path + this.props.selected[0].name\n                    : this.props.selected[0].path +\n                    \"/\" +\n                    this.props.selected[0].name;\n            reqURL =\n                \"/share/download/\" +\n                this.props.selected[0].key +\n                \"?path=\" +\n                encodeURIComponent(downloadPath);\n        } else {\n            reqURL = \"/file/download/\" + this.props.selected[0].id;\n        }\n\n        API.put(reqURL)\n            .then(response => {\n                window.location.assign(response.data);\n                this.onClose();\n                this.downloaded = true;\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.onClose();\n            });\n    };\n\n    archiveDownload = () => {\n        const dirs = [],\n            items = [];\n        this.props.selected.map(value => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n            return null\n        });\n\n        let reqURL = \"/file/archive\";\n        const postBody = {\n            items: items,\n            dirs: dirs\n        };\n        if (pathHelper.isSharePage(\n            this.props.location.pathname\n        )) {\n            reqURL =\n                \"/share/archive/\" +\n                window.shareInfo.key;\n            postBody[\"path\"] = this.props.selected[0].path\n        }\n\n        API.post(reqURL, postBody)\n            .then(response => {\n                if (response.rawData.code === 0) {\n                    this.onClose();\n                    window.location.assign(response.data);\n                } else {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.rawData.msg,\n                        \"warning\"\n                    );\n                }\n                this.onClose();\n                this.props.refreshStorage();\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.onClose();\n            });\n    };\n\n    submitRemove = e => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        this.props.selected.map(value => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n        API.delete(\"/object\", {\n            data: {\n                items: items,\n                dirs: dirs\n            }\n        })\n            .then(response => {\n                if (response.rawData.code === 0) {\n                    this.onClose();\n                    setTimeout(this.props.refreshFileList,500);\n                } else {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.rawData.msg,\n                        \"warning\"\n                    );\n                }\n                this.props.setModalsLoading(false);\n                this.props.refreshStorage();\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    submitResave = e => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        API.post(\"/share/save/\" + window.shareKey, {\n            path:\n                this.state.selectedPath === \"//\" ? \"/\" : this.state.selectedPath\n        })\n            .then(() => {\n                this.onClose();\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"文件已保存\",\n                    \"success\"\n                );\n                this.props.refreshFileList();\n                this.props.setModalsLoading(false);\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    submitMove = e => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        this.props.setModalsLoading(true);\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        this.props.selected.map(value => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n        API.patch(\"/object\", {\n            action: \"move\",\n            src_dir: this.props.selected[0].path,\n            src: {\n                dirs: dirs,\n                items: items\n            },\n            dst: this.DragSelectedPath\n                ? this.DragSelectedPath\n                : this.state.selectedPath === \"//\"\n                ? \"/\"\n                : this.state.selectedPath\n        })\n            .then(() => {\n                this.onClose();\n                this.props.refreshFileList();\n                this.props.setModalsLoading(false);\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            })\n            .then(() => {\n                this.props.closeAllModals();\n            });\n    };\n\n    dragMove = (source, target) => {\n        if (this.props.selected.length === 0) {\n            this.props.selected[0] = source;\n        }\n        let doMove = true;\n\n        // eslint-disable-next-line\n        this.props.selected.map(value => {\n            // 根据ID过滤\n            if (value.id === target.id && value.type === target.type) {\n                doMove = false;\n                // eslint-disable-next-line\n                return;\n            }\n            // 根据路径过滤\n            if (\n                value.path ===\n                target.path + (target.path === \"/\" ? \"\" : \"/\") + target.name\n            ) {\n                doMove = false;\n            }\n        });\n        if (doMove) {\n            this.DragSelectedPath =\n                target.path === \"/\"\n                    ? target.path + target.name\n                    : target.path + \"/\" + target.name;\n            this.props.openLoadingDialog(\"处理中...\");\n            this.submitMove();\n        }\n    };\n\n    submitRename = e => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        const newName = this.state.newName;\n\n        const src = {\n            dirs: [],\n            items: []\n        };\n\n        if (this.props.selected[0].type === \"dir\") {\n            src.dirs[0] = this.props.selected[0].id;\n        } else {\n            src.items[0] = this.props.selected[0].id;\n        }\n\n        // 检查重名\n        if (\n            this.props.dirList.findIndex((value) => {\n                return value.name === newName;\n            }) !== -1 ||\n            this.props.fileList.findIndex((value) => {\n                return value.name === newName;\n            }) !== -1\n        ) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"新名称与已有文件重复\",\n                \"warning\"\n            );\n            this.props.setModalsLoading(false);\n        } else {\n            API.post(\"/object/rename\", {\n                action: \"rename\",\n                src: src,\n                new_name: newName\n            })\n                .then(() => {\n                    this.onClose();\n                    this.props.refreshFileList();\n                    this.props.setModalsLoading(false);\n                })\n                .catch(error => {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                    this.props.setModalsLoading(false);\n                });\n        }\n    };\n\n    submitCreateNewFolder = e => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        if (\n            this.props.dirList.findIndex((value) => {\n                return value.name === this.state.newFolderName;\n            }) !== -1\n        ) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"文件夹名称重复\",\n                \"warning\"\n            );\n            this.props.setModalsLoading(false);\n        } else {\n            API.put(\"/directory\", {\n                path:\n                    (this.props.path === \"/\" ? \"\" : this.props.path) +\n                    \"/\" +\n                    this.state.newFolderName\n            })\n                .then(() => {\n                    this.onClose();\n                    this.props.refreshFileList();\n                    this.props.setModalsLoading(false);\n                })\n                .catch(error => {\n                    this.props.setModalsLoading(false);\n\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n        //this.props.toggleSnackbar();\n    };\n\n    submitCreateNewFile = e => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        if (\n            this.props.dirList.findIndex((value) => {\n                return value.name === this.state.newFileName;\n            }) !== -1\n        ) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"文件名称重复\",\n                \"warning\"\n            );\n            this.props.setModalsLoading(false);\n        } else {\n            API.post(\"/file/create\", {\n                path:\n                    (this.props.path === \"/\" ? \"\" : this.props.path) +\n                    \"/\" +\n                    this.state.newFileName\n            })\n                .then(() => {\n                    this.onClose();\n                    this.props.refreshFileList();\n                    this.props.setModalsLoading(false);\n                })\n                .catch(error => {\n                    this.props.setModalsLoading(false);\n\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n        //this.props.toggleSnackbar();\n    };\n\n    submitTorrentDownload = e => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        API\n            .post(\"/aria2/torrent/\" + this.props.selected[0].id, {\n                dst: this.state.selectedPath === \"//\" ? \"/\" : this.state.selectedPath\n            })\n            .then(() => {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"任务已创建\",\n                        \"success\"\n                    );\n                    this.onClose();\n                this.props.setModalsLoading(false);\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    submitDownload = e => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        API\n            .post(\"/aria2/url\", {\n                url: this.state.downloadURL,\n                dst: this.state.selectedPath === \"//\" ? \"/\" : this.state.selectedPath\n            })\n            .then(() => {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"任务已创建\",\n                        \"success\"\n                    );\n                    this.onClose();\n                this.props.setModalsLoading(false);\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    setMoveTarget = folder => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        this.setState({\n            selectedPath: path,\n            selectedPathName: folder.name\n        });\n    };\n\n    remoteDownloadNext = () => {\n        this.props.closeAllModals();\n        this.setState({\n            remoteDownloadPathSelect: true\n        });\n    };\n\n    onClose = () => {\n        this.setState({\n            newFolderName: \"\",\n            newFileName: \"\",\n            newName: \"\",\n            selectedPath: \"\",\n            selectedPathName: \"\",\n            secretShare: false,\n            sharePwd: \"\",\n            downloadURL: \"\",\n            shareUrl: \"\",\n            remoteDownloadPathSelect: false,\n            source: \"\",\n        });\n        this.newNameSuffix = \"\";\n        this.props.closeAllModals();\n    };\n\n    handleChange = name => event => {\n        this.setState({ [name]: event.target.checked });\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div>\n                <Loading />\n                <PurchaseShareDialog\n                    callback={this.state.purchaseCallback}\n                    score={this.props.share?this.props.share.score:0}\n                    onClose={() => {\n                        this.setState({ purchaseCallback: null });\n                        this.onClose();\n                    }}\n                />\n                <Dialog\n                    open={this.props.modalsStatus.getSource}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        获取文件外链\n                    </DialogTitle>\n\n                    <DialogContent>\n                        <form onSubmit={this.submitCreateNewFolder}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newFolderName\"\n                                label=\"外链地址\"\n                                type=\"text\"\n                                value={this.state.source}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>关闭</Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.createNewFolder}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">新建文件夹</DialogTitle>\n\n                    <DialogContent>\n                        <form onSubmit={this.submitCreateNewFolder}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newFolderName\"\n                                label=\"文件夹名称\"\n                                type=\"text\"\n                                value={this.state.newFolderName}\n                                onChange={e => this.handleInputChange(e)}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitCreateNewFolder}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.newFolderName === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.props.modalsStatus.createNewFile}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">新建文件</DialogTitle>\n\n                    <DialogContent>\n                        <form onSubmit={this.submitCreateNewFile}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newFileName\"\n                                label=\"文件名称\"\n                                type=\"text\"\n                                value={this.state.newFileName}\n                                onChange={e => this.handleInputChange(e)}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitCreateNewFile}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.newFileName === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.props.modalsStatus.rename}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                    maxWidth=\"sm\"\n                    fullWidth={true}\n                >\n                    <DialogTitle id=\"form-dialog-title\">重命名</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText>\n                            输入{\" \"}\n                            <strong>\n                                {this.props.selected.length === 1\n                                    ? this.props.selected[0].name\n                                    : \"\"}\n                            </strong>{\" \"}\n                            的新名称：\n                        </DialogContentText>\n                        <form onSubmit={this.submitRename}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newName\"\n                                label=\"新名称\"\n                                type=\"text\"\n                                value={this.state.newName}\n                                onChange={e => this.handleInputChange(e)}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitRename}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.newName === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <CopyDialog\n                    open={this.props.modalsStatus.copy}\n                    onClose={this.onClose}\n                    presentPath={this.props.path}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n\n                <Dialog\n                    open={this.props.modalsStatus.move}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">移动至</DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                移动至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitMove}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.resave}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">保存至</DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                保存至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitResave}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.remove}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">删除对象</DialogTitle>\n\n                    <DialogContent>\n                        <DialogContentText>\n                            确定要删除\n                            {this.props.selected.length === 1 && (\n                                <strong> {this.props.selected[0].name} </strong>\n                            )}\n                            {this.props.selected.length > 1 && (\n                                <span>\n                                    这{this.props.selected.length}个对象\n                                </span>\n                            )}\n                            吗？\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitRemove}\n                                color=\"primary\"\n                                disabled={this.props.modalsLoading}\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <CreatShare\n                    open={this.props.modalsStatus.share}\n                    onClose={this.onClose}\n                    modalsLoading={this.props.modalsLoading}\n                    setModalsLoading={this.props.setModalsLoading}\n                    selected={this.props.selected}\n                />\n\n                <Dialog\n                    open={this.props.modalsStatus.music}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">音频播放</DialogTitle>\n\n                    <DialogContent>\n                        <DialogContentText>\n                            {this.props.selected.length !== 0 && (\n                                <audio\n                                    controls\n                                    src={\n                                        pathHelper.isSharePage(\n                                            this.props.location.pathname\n                                        )\n                                            ? baseURL +\n                                              \"/share/preview/\" +\n                                              this.props.selected[0].key +\n                                              (this.props.selected[0].key\n                                                  ? \"?path=\" +\n                                                    encodeURIComponent(\n                                                        this.props.selected[0]\n                                                            .path === \"/\"\n                                                            ? this.props\n                                                                  .selected[0]\n                                                                  .path +\n                                                                  this.props\n                                                                      .selected[0]\n                                                                      .name\n                                                            : this.props\n                                                                  .selected[0]\n                                                                  .path +\n                                                                  \"/\" +\n                                                                  this.props\n                                                                      .selected[0]\n                                                                      .name\n                                                    )\n                                                  : \"\")\n                                            : baseURL +\n                                              \"/file/preview/\" +\n                                                    this.props.selected[0].id\n                                    }\n                                />\n                            )}\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>关闭</Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.remoteDownload}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                    fullWidth\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        新建离线下载任务\n                    </DialogTitle>\n\n                    <DialogContent>\n                        <DialogContentText>\n                            <TextField\n                                label=\"文件地址\"\n                                autoFocus\n                                fullWidth\n                                id=\"downloadURL\"\n                                onChange={this.handleInputChange}\n                                placeholder=\"输入文件下载地址，支持 HTTP(s)/FTP/磁力链\"\n                            />\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>关闭</Button>\n                        <Button\n                            onClick={this.remoteDownloadNext}\n                            color=\"primary\"\n                            disabled={\n                                this.props.modalsLoading ||\n                                this.state.downloadURL === \"\"\n                            }\n                        >\n                            下一步\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.remoteDownloadPathSelect}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        选择存储位置\n                    </DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                下载至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitDownload}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建任务\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.torrentDownload}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        选择存储位置\n                    </DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                下载至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitTorrentDownload}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建任务\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <DecompressDialog\n                    open={this.props.modalsStatus.decompress}\n                    onClose={this.onClose}\n                    presentPath={this.props.path}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n                <CompressDialog\n                    open={this.props.modalsStatus.compress}\n                    onClose={this.onClose}\n                    presentPath={this.props.path}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n            </div>\n        );\n    }\n}\n\nModalsCompoment.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nconst Modals = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ModalsCompoment)));\n\nexport default Modals;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {useLocation, useParams, useRouteMatch} from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport Editor from 'for-editor'\nimport SaveButton from \"../Dial/Save\";\nimport pathHelper from \"../../utils/page\";\nimport TextLoading from \"../Placeholder/TextLoading\";\nconst useStyles = makeStyles(theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        marginBottom: 50\n    },\n    player: {\n        borderRadius: \"4px\"\n    },\n    root:{\n        backgroundColor:\"white\",\n        borderRadius: \"8px\",\n    },\n    \"@global\": {\n        \".for-toolbar\":{\n            overflowX:\"auto!important\",\n        },\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\n\nexport default function TextViewer() {\n    const [content, setContent] = useState(\"\");\n    const [status, setStatus] = useState(\"\");\n    const [loading, setLoading] = useState(true);\n    const math = useRouteMatch();\n    const $vm = React.createRef();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(title => dispatch(changeSubTitle(title)), [\n        dispatch\n    ]);\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    useEffect(() => {\n        let requestURL = \"/file/content/\" + query.get(\"id\");\n        if (pathHelper.isSharePage(location.pathname)){\n            requestURL = \"/share/content/\" + id;\n            if(query.get(\"share_path\") !== \"\"){\n                requestURL +=(\"?path=\" +encodeURIComponent(query.get(\"share_path\")))\n            }\n        }\n\n        setLoading(true);\n        API.get(requestURL, { responseType: 'arraybuffer' })\n            .then(response => {\n                const buffer = new Buffer(response.rawData, 'binary');\n                const textdata = buffer.toString(); // for string\n                setContent(textdata);\n            })\n            .catch(error => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法读取文件内容，\" + error.message,\n                    \"error\"\n                )\n            }).then(()=>{\n            setLoading(false);\n        });\n        // eslint-disable-next-line\n    }, [math.params[0]]);\n\n    const toBase64 = file => new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = error => reject(error);\n    });\n\n    const save = ()=>{\n        setStatus(\"loading\");\n        API.put(\"/file/update/\" + query.get(\"id\"),content)\n            .then(() => {\n                setStatus(\"success\");\n                setTimeout(()=>setStatus(\"\"),2000);\n            })\n            .catch(error => {\n                setStatus(\"\");\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                )\n            });\n    };\n\n    const addImg = async ($file) => {\n        $vm.current.$img2Url($file.name, await toBase64($file));\n        console.log($file)\n    };\n\n    const classes = useStyles();\n    return (\n        <div className={classes.layout}>\n\n            <Paper className={classes.root} elevation={1}>\n                {loading && <TextLoading/>}\n                {!loading && <Editor\n                    ref={$vm}\n                    value={content}\n                    onSave = {()=>save()}\n                    addImg={($file) => addImg($file)}\n                    onChange={value => setContent(value)}\n                    toolbar = {{\n                        h1: true, // h1\n                        h2: true, // h2\n                        h3: true, // h3\n                        h4: true, // h4\n                        img: true, // 图片\n                        link: true, // 链接\n                        code: true, // 代码块\n                        preview: true, // 预览\n                        expand: true, // 全屏\n                        /* v0.0.9 */\n                        undo: true, // 撤销\n                        redo: true, // 重做\n                        save: false, // 保存\n                        /* v0.2.3 */\n                        subfield: true, // 单双栏模式\n                    }}\n                />}\n            </Paper>\n            {!pathHelper.isSharePage(location.pathname) && <SaveButton onClick={save} status={status}/>}\n        </div>\n    );\n}\n","import React, { Suspense, useCallback, useEffect, useState } from \"react\";\nimport { Paper, useTheme } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\nimport SaveButton from \"../Dial/Save\";\nimport { codePreviewSuffix } from \"../../config\";\nimport TextLoading from \"../Placeholder/TextLoading\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Divider from \"@material-ui/core/Divider\";\nconst MonacoEditor = React.lazy(() =>\n    import(/* webpackChunkName: \"codeEditor\" */ \"react-monaco-editor\")\n);\n\nconst useStyles = makeStyles(theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        marginBottom: 50\n    },\n    editor: {\n        borderRadius: \"4px\"\n    },\n    \"@global\": {\n        \".overflow-guard\": {\n            borderRadius: \"4px!important\"\n        }\n    },\n    formControl: {\n        margin: \"8px 16px 8px 16px\",\n    },\n    toobar:{\n        textAlign:\"right\",\n    }\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function CodeViewer() {\n    const [content, setContent] = useState(\"\");\n    const [status, setStatus] = useState(\"\");\n    const [loading, setLoading] = useState(true);\n    const [suffix, setSuffix] = useState(\"javascript\");\n\n    const math = useRouteMatch();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n    const theme = useTheme();\n\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(title => dispatch(changeSubTitle(title)), [\n        dispatch\n    ]);\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            const extension = query.get(\"p\").split(\".\");\n            setSuffix(codePreviewSuffix[extension.pop()]);\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            const extension = query.get(\"name\").split(\".\");\n            setSuffix(codePreviewSuffix[extension.pop()]);\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    useEffect(() => {\n        let requestURL = \"/file/content/\" + query.get(\"id\");\n        if (pathHelper.isSharePage(location.pathname)) {\n            requestURL = \"/share/content/\" + id;\n            if (query.get(\"share_path\") !== \"\") {\n                requestURL +=\n                    \"?path=\" + encodeURIComponent(query.get(\"share_path\"));\n            }\n        }\n\n        setLoading(true);\n        API.get(requestURL, { responseType: \"arraybuffer\" })\n            .then(response => {\n                const buffer = new Buffer(response.rawData, \"binary\");\n                const textdata = buffer.toString(); // for string\n                setContent(textdata);\n            })\n            .catch(error => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法读取文件内容，\" + error.message,\n                    \"error\"\n                );\n            })\n            .then(() => {\n                setLoading(false);\n            });\n        // eslint-disable-next-line\n    }, [math.params[0]]);\n\n    const save = () => {\n        setStatus(\"loading\");\n        API.put(\"/file/update/\" + query.get(\"id\"), content)\n            .then(() => {\n                setStatus(\"success\");\n                setTimeout(() => setStatus(\"\"), 2000);\n            })\n            .catch(error => {\n                setStatus(\"\");\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const classes = useStyles();\n    const isSharePage = pathHelper.isSharePage(location.pathname);\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.root} elevation={1}>\n                <div className={classes.toobar}>\n                    <FormControl className={classes.formControl}>\n                        <Select\n                            labelId=\"demo-simple-select-label\"\n                            id=\"demo-simple-select\"\n                            value={suffix}\n                            onChange={e => setSuffix(e.target.value)}\n                        >\n                            {Array.from(\n                                new Set(Object.keys(codePreviewSuffix).map(k=>{\n                                    return codePreviewSuffix[k]\n                                }))\n                            ).map(extension => (\n                                // eslint-disable-next-line react/jsx-key\n                                <MenuItem value={extension}>\n                                    {extension}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                </div>\n                <Divider />\n                {loading && <TextLoading />}\n                {!loading && (\n                    <Suspense fallback={<TextLoading />}>\n                        <MonacoEditor\n                            height=\"600\"\n                            language={suffix}\n                            theme={\n                                theme.palette.type === \"dark\" ? \"vs-dark\" : \"vs\"\n                            }\n                            value={content}\n                            options={{\n                                readOnly: isSharePage,\n                                extraEditorClassName: classes.editor\n                            }}\n                            onChange={value => setContent(value)}\n                        />\n                    </Suspense>\n                )}\n            </Paper>\n            {!isSharePage && <SaveButton onClick={save} status={status} />}\n        </div>\n    );\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux'\nimport {\n } from \"../../actions\"\nimport classNames from 'classnames';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport WarningIcon from '@material-ui/icons/Warning';\n\nimport { green, amber } from '@material-ui/core/colors';\n\nimport { withStyles, SnackbarContent, Snackbar, IconButton } from '@material-ui/core';\n\nconst mapStateToProps = state => {\n    return {\n        snackbar:state.viewUpdate.snackbar,\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n    }\n}\n\nconst variantIcon = {\n    success: CheckCircleIcon,\n    warning: WarningIcon,\n    error: ErrorIcon,\n    info: InfoIcon,\n  };\n\nconst styles1 = theme => ({\n    success: {\n        backgroundColor: green[600],\n      },\n      error: {\n        backgroundColor: theme.palette.error.dark,\n      },\n      info: {\n        backgroundColor: theme.palette.primary.dark,\n      },\n      warning: {\n        backgroundColor: amber[700],\n      },\n      icon: {\n        fontSize: 20,\n      },\n      iconVariant: {\n        opacity: 0.9,\n        marginRight: theme.spacing(1),\n      },\n      message: {\n        display: 'flex',\n        alignItems: 'center',\n      },\n})\n\nfunction MySnackbarContent(props) {\n    const { classes, className, message, onClose, variant, ...other } = props;\n    const Icon = variantIcon[variant];\n  \n    return (\n      <SnackbarContent\n        className={classNames(classes[variant], className)}\n        aria-describedby=\"client-snackbar\"\n        message={\n          <span id=\"client-snackbar\" className={classes.message}>\n            <Icon className={classNames(classes.icon, classes.iconVariant)} />\n            {message}\n          </span>\n        }\n        action={[\n          <IconButton\n            key=\"close\"\n            aria-label=\"Close\"\n            color=\"inherit\"\n            className={classes.close}\n            onClick={onClose}\n          >\n            <CloseIcon className={classes.icon} />\n          </IconButton>,\n        ]}\n        {...other}\n      />\n    );\n  }\nMySnackbarContent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  message: PropTypes.node,\n  onClose: PropTypes.func,\n  variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\n};\n\nconst MySnackbarContentWrapper = withStyles(styles1)(MySnackbarContent);\nconst styles = theme => ({\n    margin: {\n        margin: theme.spacing(1),\n    },\n})\nclass SnackbarCompoment extends Component {\n\n    state={\n        open:false,\n    }\n\n    UNSAFE_componentWillReceiveProps = (nextProps)=>{\n        if(nextProps.snackbar.toggle !== this.props.snackbar.toggle){\n            this.setState({open:true});\n        }\n    }\n\n    handleClose= ()=>{\n        this.setState({open:false});\n    } \n    \n    render() {\n\n        return (\n            <Snackbar\n            anchorOrigin={{\n                vertical: this.props.snackbar.vertical,\n                horizontal: this.props.snackbar.horizontal,\n            }}\n            open={this.state.open}\n            autoHideDuration={6000}\n            onClose={this.handleClose}\n            >\n            <MySnackbarContentWrapper\n                onClose={this.handleClose}\n                variant={this.props.snackbar.color}\n                message={this.props.snackbar.msg} \n            />\n        </Snackbar>\n        );\n    }\n\n}\n\nconst AlertBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(SnackbarCompoment))\n\nexport default AlertBar","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    LogoutVariant,\n    HomeAccount,\n    DesktopMacDashboard,\n    AccountArrowRight,\n    AccountPlus\n} from \"mdi-material-ui\";\nimport {setSessionStatus, setUserPopover, toggleSnackbar} from \"../../actions\";\nimport { withRouter } from \"react-router-dom\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    withStyles,\n    Avatar,\n    Popover,\n    Typography,\n    Chip,\n    ListItemIcon,\n    MenuItem,\n    Divider\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport pathHelper from \"../../utils/page\";\n\nconst mapStateToProps = state => {\n    return {\n        anchorEl: state.viewUpdate.userPopoverAnchorEl\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setUserPopover: anchor => {\n            dispatch(setUserPopover(anchor));\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        setSessionStatus:status=>{\n            dispatch(setSessionStatus(status));\n        },\n    };\n};\nconst styles = () => ({\n    avatar: {\n        width: \"30px\",\n        height: \"30px\"\n    },\n    header: {\n        display: \"flex\",\n        padding: \"20px 20px 20px 20px\"\n    },\n    largeAvatar: {\n        height: \"90px\",\n        width: \"90px\"\n    },\n    info: {\n        marginLeft: \"10px\",\n        width: \"139px\"\n    },\n    badge: {\n        marginTop: \"10px\"\n    },\n    visitorMenu: {\n        width: 200\n    }\n});\n\nclass UserAvatarPopoverCompoment extends Component {\n    handleClose = () => {\n        this.props.setUserPopover(null);\n    };\n\n    openURL = url => {\n        window.location.href = url;\n    };\n\n    sigOut = () => {\n        API.delete(\"/user/session/\")\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"您已退出登录\",\n                    \"success\"\n                );\n                Auth.signout();\n                window.location.reload();\n                this.props.setSessionStatus(false);\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            })\n            .then(() => {\n                this.handleClose();\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const isAdminPage = pathHelper.isAdminPage(this.props.location.pathname);\n\n        return (\n            <Popover\n                open={this.props.anchorEl !== null}\n                onClose={this.handleClose}\n                anchorEl={this.props.anchorEl}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\"\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                }}\n            >\n                {!Auth.Check() && (\n                    <div className={classes.visitorMenu}>\n                        <Divider />\n                        <MenuItem onClick={() =>\n                            this.props.history.push(\"/login\")\n                        }>\n                            <ListItemIcon>\n                                <AccountArrowRight />\n                            </ListItemIcon>\n                            登录\n                        </MenuItem>\n                        <MenuItem onClick={() =>\n                            this.props.history.push(\"/signup\")\n                        }>\n                            <ListItemIcon>\n                                <AccountPlus />\n                            </ListItemIcon>\n                            注册\n                        </MenuItem>\n                    </div>\n                )}\n                {Auth.Check() && (\n                    <div>\n                        <div className={classes.header}>\n                            <div className={classes.largeAvatarContainer}>\n                                <Avatar\n                                    className={classes.largeAvatar}\n                                    src={\"/api/v3/user/avatar/\"+user.id + \"/l\"}\n                                />\n                            </div>\n                            <div className={classes.info}>\n                                <Typography noWrap>{user.nickname}</Typography>\n                                <Typography color=\"textSecondary\"\n                                            style={{\n                                                fontSize: \"0.875rem\",\n                                            }}\n                                            noWrap>\n                                    {user.user_name}\n                                </Typography>\n                                <Chip\n                                    className={classes.badge}\n                                    color={\n                                        user.group.id === 1\n                                            ? \"secondary\"\n                                            : \"default\"\n                                    }\n                                    label={user.group.name}\n                                />\n                            </div>\n                        </div>\n                        <div>\n                            <Divider />\n                            {!isAdminPage && <MenuItem\n                                style={{\n                                    padding:\" 11px 16px 11px 16px\",\n                                }}\n                                onClick={() =>{\n                                    this.handleClose();\n                                    this.props.history.push(\"/profile/\"+user.id);\n                                }\n\n                                }\n                            >\n                                <ListItemIcon>\n                                    <HomeAccount />\n                                </ListItemIcon>\n                                个人主页\n                            </MenuItem>}\n                            {user.group.id === 1 && (\n                                <MenuItem\n                                    style={{\n                                        padding:\" 11px 16px 11px 16px\",\n                                    }}\n                                    onClick={() =>{\n                                        this.handleClose();\n                                        this.props.history.push(\"/admin/home\");\n                                    }\n\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <DesktopMacDashboard />\n                                    </ListItemIcon>\n                                    管理面板\n                                </MenuItem>\n                            )}\n\n                            <MenuItem  style={{\n                                padding:\" 11px 16px 11px 16px\",\n                            }} onClick={this.sigOut}>\n                                <ListItemIcon>\n                                    <LogoutVariant />\n                                </ListItemIcon>\n                                退出登录\n                            </MenuItem>\n                        </div>\n                    </div>\n                )}\n            </Popover>\n        );\n    }\n}\n\nUserAvatarPopoverCompoment.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nconst UserAvatarPopover = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(UserAvatarPopoverCompoment)));\n\nexport default UserAvatarPopover;\n","import React, { useCallback } from \"react\";\nimport {Avatar, IconButton, ListItem, ListItemAvatar, ListItemText, makeStyles} from \"@material-ui/core\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport {\n    Nas\n} from \"mdi-material-ui\";\nimport Popover from \"@material-ui/core/Popover\";\nimport API from \"../../middleware/Api\";\nimport {useDispatch} from \"react-redux\";\nimport {toggleSnackbar} from \"../../actions\";\nimport {Check} from \"@material-ui/icons\";\nimport Backup from \"@material-ui/icons/Backup\";\nimport {blue, green} from \"@material-ui/core/colors\";\nimport List from \"@material-ui/core/List\";\n\nconst useStyles = makeStyles(() => ({\n    uploadFromFile: {\n        backgroundColor: blue[100],\n        color: blue[600]\n    },\n    policySelected: {\n        backgroundColor: green[100],\n        color: green[800]\n    },\n}));\n\nconst PolicySwitcher = () => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [policies, setPolicies] = React.useState({\n        current:{id:\"\",name:\"\"},\n        options:[],\n    });\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const handleClick = event => {\n        if(policies.current.id === \"\"){\n            API.get(\"/user/setting/policies\", {})\n                .then(response => {\n                    setPolicies(response.data);\n                })\n                .catch(error => {\n                    ToggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const switchTo = id =>{\n        if(id === policies.current.id){\n            handleClose();\n            return;\n        }\n        API\n            .patch(\"/user/setting/policy\", {\n                id: id\n            })\n            .then(() => {\n                window.location.reload();\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n            });\n    }\n\n    const open = Boolean(anchorEl);\n    const id = open ? 'simple-popover' : undefined;\n\n    const classes = useStyles();\n    return (\n        <>\n        <Tooltip\n            title={\"存储策略\"}\n            placement=\"bottom\"\n        >\n            <IconButton\n                onClick={handleClick}\n                 color=\"inherit\">\n                <Nas/>\n            </IconButton>\n        </Tooltip>\n            <Popover\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                }}\n            >\n                <List>\n                    {policies.options.map(\n                        (value, index) => (\n                            <ListItem\n                                button\n                                component=\"label\"\n                                key={index}\n                                onClick={()=>switchTo(value.id)}\n                            >\n                                <ListItemAvatar>\n                                    {value.id === policies.current.id &&\n                                    <Avatar className={classes.policySelected}>\n                                        <Check />\n                                    </Avatar>\n                                    }\n                                    {value.id !== policies.current.id &&\n                                    <Avatar className={classes.uploadFromFile}>\n                                        <Backup />\n                                    </Avatar>\n                                    }\n\n                                </ListItemAvatar>\n                                <ListItemText primary={value.name} />\n                            </ListItem>\n                        )\n                    )}\n                </List>\n            </Popover>\n        </>\n    );\n};\n\nexport default PolicySwitcher;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport SettingIcon from \"@material-ui/icons/Settings\";\nimport UserAvatarPopover from \"./UserAvatarPopover\";\nimport { AccountCircle } from \"mdi-material-ui\";\nimport { setUserPopover } from \"../../actions\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    withStyles,\n    Grow,\n    Avatar,\n    IconButton,\n    Tooltip\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router-dom\";\nimport pathHelper from \"../../utils/page\";\nimport DarkModeSwitcher from \"./DarkModeSwitcher\"\nimport PolicySwitcher from \"./PolicySwitcher\";\nimport { Home } from \"@material-ui/icons\";\n\nconst mapStateToProps = state => {\n    return {\n        selected: state.explorer.selected,\n        isMultiple: state.explorer.selectProps.isMultiple,\n        withFolder: state.explorer.selectProps.withFolder,\n        withFile: state.explorer.selectProps.withFile,\n        isLogin:state.viewUpdate.isLogin,\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setUserPopover: anchor => {\n            dispatch(setUserPopover(anchor));\n        }\n    };\n};\n\nconst styles = theme => ({\n    mobileHidden: {\n        [theme.breakpoints.down(\"xs\")]: {\n            display: \"none\"\n        },\n        whiteSpace: \"nowrap\",\n    },\n    avatar: {\n        width: \"30px\",\n        height: \"30px\"\n    },\n    header: {\n        display: \"flex\",\n        padding: \"20px 20px 20px 20px\"\n    },\n    largeAvatar: {\n        height: \"90px\",\n        width: \"90px\"\n    },\n    info: {\n        marginLeft: \"10px\",\n        width: \"139px\"\n    },\n    badge: {\n        marginTop: \"10px\"\n    },\n    visitorMenu: {\n        width: 200\n    }\n});\n\nclass UserAvatarCompoment extends Component {\n    state = {\n        anchorEl: null\n    };\n\n    showUserInfo = e => {\n        this.props.setUserPopover(e.currentTarget);\n    };\n\n    handleClose = () => {\n        this.setState({\n            anchorEl: null\n        });\n    };\n\n    openURL = url => {\n        window.location.href = url;\n    };\n\n    returnHome = () => {\n        window.location.hash = \"#/home\"\n        location.reload();\n    }\n\n    render() {\n        const { classes } = this.props;\n        const loginCheck = Auth.Check(this.props.isLogin);\n        const user = Auth.GetUser(this.props.isLogin);\n        const isAdminPage = pathHelper.isAdminPage(this.props.location.pathname);\n\n        return (\n            <div className={classes.mobileHidden}>\n                <Grow\n                    in={\n                        this.props.selected.length <= 1 &&\n                        !(!this.props.isMultiple && this.props.withFile)\n                    }\n                >\n                    <div>\n                        {!isAdminPage && <>\n                            <DarkModeSwitcher position=\"top\"/>\n                            {loginCheck && (\n                                <>\n                                    <PolicySwitcher/>\n                                    <Tooltip title={\"设置\"} placement=\"bottom\">\n                                        <IconButton\n                                            onClick={() =>\n                                                this.props.history.push(\"/setting?\")\n                                            }\n                                            color=\"inherit\"\n                                        >\n                                            <SettingIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                </>\n                            )}\n                        </>}\n\n                        {isAdminPage &&\n                        <Tooltip title={\"返回主页\"} placement=\"bottom\">\n                            <IconButton color=\"inherit\" onClick={this.returnHome}>\n                                <Home/>\n                            </IconButton>\n                        </Tooltip>\n                        }\n\n                        <IconButton color=\"inherit\" onClick={this.showUserInfo}>\n                            {!loginCheck && <AccountCircle />}\n                            {loginCheck && (\n                                <Avatar\n                                    src={\n                                        \"/api/v3/user/avatar/\"+user.id + \"/s\"\n                                    }\n                                    className={classes.avatar}\n                                />\n                            )}\n                        </IconButton>{\" \"}\n                    </div>\n                </Grow>\n                <UserAvatarPopover />\n            </div>\n        );\n    }\n}\n\nUserAvatarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nconst UserAvatar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(UserAvatarCompoment)));\n\nexport default UserAvatar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { connect } from \"react-redux\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport BackIcon from \"@material-ui/icons/ArrowBack\";\nimport SdStorage from \"@material-ui/icons/SdStorage\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport DownloadIcon from \"@material-ui/icons/CloudDownload\";\nimport OpenFolderIcon from \"@material-ui/icons/FolderOpen\";\nimport RenameIcon from \"@material-ui/icons/BorderColor\";\nimport MoveIcon from \"@material-ui/icons/Input\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { isPreviewable } from \"../../config\";\nimport {\n    drawerToggleAction,\n    setSelectedTarget,\n    navigateTo,\n    openCreateFolderDialog,\n    changeContextMenu,\n    searchMyFile,\n    saveFile,\n    openMusicDialog,\n    showImgPreivew,\n    toggleSnackbar,\n    openMoveDialog,\n    openRemoveDialog,\n    openShareDialog,\n    openRenameDialog,\n    openLoadingDialog,\n    setSessionStatus\n} from \"../../actions\";\nimport {\n    allowSharePreview,\n    checkGetParameters,\n    changeThemeColor\n} from \"../../utils\";\nimport Uploader from \"../Upload/Uploader.js\";\nimport { sizeToString, vhCheck } from \"../../utils\";\nimport pathHelper from \"../../utils/page\";\nimport SezrchBar from \"./SearchBar\";\nimport StorageBar from \"./StorageBar\";\nimport UserAvatar from \"./UserAvatar\";\nimport UserInfo from \"./UserInfo\";\nimport { AccountArrowRight, AccountPlus, LogoutVariant } from \"mdi-material-ui\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n    AppBar,\n    Toolbar,\n    Typography,\n    withStyles,\n    withTheme,\n    Drawer,\n    SwipeableDrawer,\n    IconButton,\n    Hidden,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    List,\n    Grow,\n    Tooltip\n} from \"@material-ui/core\";\nimport Auth from \"../../middleware/Auth\";\nimport API from \"../../middleware/Api\";\nimport FileTag from \"./FileTags\";\nimport { Assignment, Devices, Settings } from \"@material-ui/icons\";\nimport Divider from \"@material-ui/core/Divider\";\n\nvhCheck()\nconst drawerWidth = 240;\nconst drawerWidthMobile = 270;\n\nconst mapStateToProps = state => {\n    return {\n        desktopOpen: state.viewUpdate.open,\n        selected: state.explorer.selected,\n        isMultiple: state.explorer.selectProps.isMultiple,\n        withFolder: state.explorer.selectProps.withFolder,\n        withFile: state.explorer.selectProps.withFile,\n        path: state.navigator.path,\n        keywords: state.explorer.keywords,\n        title: state.siteConfig.title,\n        subTitle: state.viewUpdate.subTitle,\n        loadUploader: state.viewUpdate.loadUploader,\n        isLogin: state.viewUpdate.isLogin\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        handleDesktopToggle: open => {\n            dispatch(drawerToggleAction(open));\n        },\n        setSelectedTarget: targets => {\n            dispatch(setSelectedTarget(targets));\n        },\n        navigateTo: path => {\n            dispatch(navigateTo(path));\n        },\n        openCreateFolderDialog: () => {\n            dispatch(openCreateFolderDialog());\n        },\n        changeContextMenu: (type, open) => {\n            dispatch(changeContextMenu(type, open));\n        },\n        searchMyFile: keywords => {\n            dispatch(searchMyFile(keywords));\n        },\n        saveFile: () => {\n            dispatch(saveFile());\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        showImgPreivew: first => {\n            dispatch(showImgPreivew(first));\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openRenameDialog: () => {\n            dispatch(openRenameDialog());\n        },\n        openMoveDialog: () => {\n            dispatch(openMoveDialog());\n        },\n        openRemoveDialog: () => {\n            dispatch(openRemoveDialog());\n        },\n        openShareDialog: () => {\n            dispatch(openShareDialog());\n        },\n        openLoadingDialog: text => {\n            dispatch(openLoadingDialog(text));\n        },\n        setSessionStatus: () => {\n            dispatch(setSessionStatus());\n        }\n    };\n};\n\nconst styles = theme => ({\n    appBar: {\n        marginLeft: drawerWidth,\n        [theme.breakpoints.down(\"xs\")]: {\n            marginLeft: drawerWidthMobile\n        },\n        zIndex: theme.zIndex.drawer + 1,\n        transition: \" background-color 250ms\"\n    },\n\n    drawer: {\n        width: 0,\n        flexShrink: 0\n    },\n    drawerDesktop: {\n        width: drawerWidth,\n        flexShrink: 0\n    },\n    icon: {\n        marginRight: theme.spacing(2)\n    },\n    menuButton: {\n        marginRight: 20,\n        [theme.breakpoints.up(\"sm\")]: {\n            display: \"none\"\n        }\n    },\n    menuButtonDesktop: {\n        marginRight: 20,\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\"\n        }\n    },\n    menuIcon: {\n        marginRight: 20\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n        width: drawerWidthMobile\n    },\n    upDrawer: {\n        overflowX: \"hidden\"\n    },\n    drawerOpen: {\n        width: drawerWidth,\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen\n        })\n    },\n    drawerClose: {\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen\n        }),\n        overflowX: \"hidden\",\n        width: 0\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3)\n    },\n    grow: {\n        flexGrow: 1\n    },\n    badge: {\n        top: 1,\n        right: -15\n    },\n    nested: {\n        paddingLeft: theme.spacing(4)\n    },\n    sectionForFile: {\n        display: \"flex\"\n    },\n    extendedIcon: {\n        marginRight: theme.spacing(1)\n    },\n    addButton: {\n        marginLeft: \"40px\",\n        marginTop: \"25px\",\n        marginBottom: \"15px\"\n    },\n    fabButton: {\n        borderRadius: \"100px\"\n    },\n    badgeFix: {\n        right: \"10px\"\n    },\n    iconFix: {\n        marginLeft: \"16px\"\n    },\n    dividerFix: {\n        marginTop: \"8px\"\n    },\n    folderShareIcon: {\n        verticalAlign: \"sub\",\n        marginRight: \"5px\"\n    },\n    shareInfoContainer: {\n        display: \"flex\",\n        marginTop: \"15px\",\n        marginBottom: \"20px\",\n        marginLeft: \"28px\",\n        textDecoration: \"none\"\n    },\n    shareAvatar: {\n        width: \"40px\",\n        height: \"40px\"\n    },\n    stickFooter: {\n        bottom: \"0px\",\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.paper,\n        width: \"100%\"\n    },\n    ownerInfo: {\n        marginLeft: \"10px\",\n        width: \"150px\"\n    },\n    minStickDrawer: {\n        overflowY: \"auto\",\n        [theme.breakpoints.up(\"sm\")]: {\n            height: \"calc(var(--vh, 100vh) - 145px)\"\n        },\n\n        [theme.breakpoints.down(\"sm\")]: {\n            minHeight: \"calc(var(--vh, 100vh) - 360px)\"\n        }\n    }\n});\nclass NavbarCompoment extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mobileOpen: false\n        };\n        this.UploaderRef = React.createRef();\n    }\n\n    UNSAFE_componentWillMount() {\n        this.unlisten = this.props.history.listen(() => {\n            this.setState(() => ({ mobileOpen: false }));\n        });\n    }\n    componentWillUnmount() {\n        this.unlisten();\n    }\n\n    componentDidMount = () => {\n        changeThemeColor(\n            this.props.selected.length <= 1 &&\n                !(!this.props.isMultiple && this.props.withFile)\n                ? this.props.theme.palette.primary.main\n                : this.props.theme.palette.background.default\n        );\n    };\n\n    UNSAFE_componentWillReceiveProps = nextProps => {\n        if (\n            (this.props.selected.length <= 1 &&\n                !(!this.props.isMultiple && this.props.withFile)) !==\n            (nextProps.selected.length <= 1 &&\n                !(!nextProps.isMultiple && nextProps.withFile))\n        ) {\n            changeThemeColor(\n                !(\n                    this.props.selected.length <= 1 &&\n                    !(!this.props.isMultiple && this.props.withFile)\n                )\n                    ? this.props.theme.palette.type === \"dark\"\n                        ? this.props.theme.palette.background.default\n                        : this.props.theme.palette.primary.main\n                    : this.props.theme.palette.background.default\n            );\n        }\n    };\n\n    handleDrawerToggle = () => {\n        this.setState(state => ({ mobileOpen: !state.mobileOpen }));\n    };\n\n    loadUploader = () => {\n        if (pathHelper.isHomePage(this.props.location.pathname)) {\n            return (\n                <>\n                    {this.props.loadUploader && this.props.isLogin && (\n                        <Uploader />\n                    )}\n                </>\n            );\n        }\n    };\n\n    openPreview = () => {\n        const isShare = pathHelper.isSharePage(this.props.location.pathname);\n        if (isShare) {\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"请先登录\",\n                    \"warning\"\n                );\n                this.props.changeContextMenu(\"file\", false);\n                return;\n            }\n        }\n        this.props.changeContextMenu(\"file\", false);\n        const previewPath =\n            this.props.selected[0].path === \"/\"\n                ? this.props.selected[0].path + this.props.selected[0].name\n                : this.props.selected[0].path +\n                  \"/\" +\n                  this.props.selected[0].name;\n        switch (isPreviewable(this.props.selected[0].name)) {\n            case \"img\":\n                this.props.showImgPreivew(this.props.selected[0]);\n                return;\n            case \"msDoc\":\n                if (isShare) {\n                    this.props.history.push(\n                        this.props.selected[0].key +\n                            \"/doc?name=\" +\n                            encodeURIComponent(this.props.selected[0].name) +\n                            \"&share_path=\" +\n                            encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                this.props.history.push(\n                    \"/doc?p=\" + encodeURIComponent(previewPath) + \"&id=\" + this.props.selected[0].id\n                );\n                return;\n            case \"audio\":\n                this.props.openMusicDialog();\n                return;\n            case \"video\":\n                if (isShare) {\n                    this.props.history.push(\n                        this.props.selected[0].key +\n                            \"/video?name=\" +\n                            encodeURIComponent(this.props.selected[0].name) +\n                            \"&share_path=\" +\n                            encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                this.props.history.push(\n                    \"/video?p=\" +encodeURIComponent(previewPath) + \"&id=\" + this.props.selected[0].id\n                );\n                return;\n            case \"edit\":\n                if (isShare) {\n                    this.props.history.push(\n                        this.props.selected[0].key +\n                            \"/text?name=\" +\n                            encodeURIComponent(this.props.selected[0].name) +\n                            \"&share_path=\" +\n                            encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                this.props.history.push(\n                    \"/text?p=\" + encodeURIComponent(previewPath) + \"&id=\" + this.props.selected[0].id\n                );\n                return;\n            case \"pdf\":\n                if (isShare) {\n                    this.props.history.push(\n                        this.props.selected[0].key +\n                        \"/pdf?name=\" +\n                        encodeURIComponent(this.props.selected[0].name) +\n                        \"&share_path=\" +\n                        encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                this.props.history.push(\n                    \"/pdf?p=\" + encodeURIComponent(previewPath) + \"&id=\" + this.props.selected[0].id\n                );\n                return;\n            case \"code\":\n                if (isShare) {\n                    this.props.history.push(\n                        this.props.selected[0].key +\n                        \"/code?name=\" +\n                        encodeURIComponent(this.props.selected[0].name) +\n                        \"&share_path=\" +\n                        encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                this.props.history.push(\n                    \"/code?p=\" + encodeURIComponent(previewPath) + \"&id=\" + this.props.selected[0].id\n                );\n                return;\n            default:\n                return;\n        }\n    };\n\n    openDownload = () => {\n        if (!allowSharePreview()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"未登录用户无法预览\",\n                \"warning\"\n            );\n            return;\n        }\n        this.props.openLoadingDialog(\"获取下载地址...\");\n    };\n\n    archiveDownload = () => {\n        this.props.openLoadingDialog(\"打包中...\");\n    };\n\n    signOut = () => {\n        API.delete(\"/user/session/\")\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"您已退出登录\",\n                    \"success\"\n                );\n                Auth.signout();\n                window.location.reload();\n                this.props.setSessionStatus(false);\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            })\n            .finally(() => {\n                this.handleClose();\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser(this.props.isLogin);\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n        const isSharePage = pathHelper.isSharePage(\n            this.props.location.pathname\n        );\n\n        const drawer = (\n            <div id=\"container\" className={classes.upDrawer}>\n                {pathHelper.isMobile() && <UserInfo />}\n\n                {Auth.Check(this.props.isLogin) && (\n                    <>\n                        <div className={classes.minStickDrawer}>\n                            <FileTag />\n                            <List>\n                                <ListItem\n                                    button\n                                    key=\"我的分享\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/shares?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <ShareIcon\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"我的分享\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"离线下载\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/aria2?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <DownloadIcon\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"离线下载\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"容量配额\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/quota?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <SdStorage\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"容量配额\" />\n                                </ListItem>\n                                {user.group.webdav && (\n                                    <ListItem\n                                        button\n                                        key=\"WebDAV\"\n                                        onClick={() =>\n                                            this.props.history.push(\"/webdav?\")\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <Devices\n                                                className={classes.iconFix}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"WebDAV\" />\n                                    </ListItem>\n                                )}\n\n                                <ListItem\n                                    button\n                                    key=\"任务队列\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/tasks?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <Assignment\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"任务队列\" />\n                                </ListItem>\n                            </List>\n                        </div>\n\n                        {pathHelper.isMobile() && (\n                            <>\n                                <Divider/>\n                                <List>\n                                    <ListItem\n                                        button\n                                        key=\"个人设置\"\n                                        onClick={() =>\n                                            this.props.history.push(\"/setting?\")\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <Settings\n                                                className={classes.iconFix}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"个人设置\" />\n                                    </ListItem>\n\n                                    <ListItem\n                                        button\n                                        key=\"退出登录\"\n                                        onClick={this.signOut}\n                                    >\n                                        <ListItemIcon>\n                                            <LogoutVariant className={classes.iconFix} />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"退出登录\" />\n                                    </ListItem>\n                                </List>\n                            </>\n                        )}\n                        <div>\n                            <StorageBar></StorageBar>\n                        </div>\n                    </>\n                )}\n\n                {!Auth.Check(this.props.isLogin) && (\n                    <div>\n                        <ListItem\n                            button\n                            key=\"登录\"\n                            onClick={() => this.props.history.push(\"/login\")}\n                        >\n                            <ListItemIcon>\n                                <AccountArrowRight\n                                    className={classes.iconFix}\n                                />\n                            </ListItemIcon>\n                            <ListItemText primary=\"登录\" />\n                        </ListItem>\n                        <ListItem\n                            button\n                            key=\"注册\"\n                            onClick={() => this.props.history.push(\"/signup\")}\n                        >\n                            <ListItemIcon>\n                                <AccountPlus className={classes.iconFix} />\n                            </ListItemIcon>\n                            <ListItemText primary=\"注册\" />\n                        </ListItem>\n                    </div>\n                )}\n                {/*{pathHelper.isSharePage(this.props.location.pathname) && (*/}\n                {/*    <div className={classes.stickFooter}>*/}\n                {/*        <Divider />*/}\n                {/*        <a*/}\n                {/*            className={classes.shareInfoContainer}*/}\n                {/*            href={\"/Profile/\" + window.shareInfo.ownerUid}*/}\n                {/*        >*/}\n                {/*            <Avatar*/}\n                {/*                src={*/}\n                {/*                    \"/Member/Avatar/\" +*/}\n                {/*                    window.shareInfo.ownerUid +*/}\n                {/*                    \"/l\"*/}\n                {/*                }*/}\n                {/*                className={classes.shareAvatar}*/}\n                {/*            />*/}\n                {/*            <div className={classes.ownerInfo}>*/}\n                {/*                <Typography noWrap>*/}\n                {/*                    {window.shareInfo.ownerNick}*/}\n                {/*                </Typography>*/}\n                {/*                <Typography*/}\n                {/*                    noWrap*/}\n                {/*                    variant=\"caption\"*/}\n                {/*                    color=\"textSecondary\"*/}\n                {/*                >*/}\n                {/*                    分享于{window.shareInfo.shareDate}*/}\n                {/*                </Typography>*/}\n                {/*            </div>*/}\n                {/*        </a>*/}\n                {/*    </div>*/}\n                {/*)}*/}\n            </div>\n        );\n        const iOS =\n            process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n        return (\n            <div>\n                <AppBar\n                    position=\"fixed\"\n                    className={classes.appBar}\n                    color={\n                        this.props.theme.palette.type !== \"dark\" &&\n                        this.props.selected.length <= 1 &&\n                        !(!this.props.isMultiple && this.props.withFile)\n                            ? \"primary\"\n                            : \"default\"\n                    }\n                >\n                    <Toolbar>\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <IconButton\n                                    color=\"inherit\"\n                                    aria-label=\"Open drawer\"\n                                    onClick={this.handleDrawerToggle}\n                                    className={classes.menuButton}\n                                >\n                                    <MenuIcon />\n                                </IconButton>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <IconButton\n                                    color=\"inherit\"\n                                    aria-label=\"Open drawer\"\n                                    onClick={() =>\n                                        this.props.handleDesktopToggle(\n                                            !this.props.desktopOpen\n                                        )\n                                    }\n                                    className={classes.menuButtonDesktop}\n                                >\n                                    <MenuIcon />\n                                </IconButton>\n                            )}\n                        {(this.props.selected.length > 1 ||\n                            (!this.props.isMultiple && this.props.withFile)) &&\n                            (isHomePage ||\n                                pathHelper.isSharePage(\n                                    this.props.location.pathname\n                                )) && (\n                                <Grow\n                                    in={\n                                        this.props.selected.length > 1 ||\n                                        (!this.props.isMultiple &&\n                                            this.props.withFile)\n                                    }\n                                >\n                                    <IconButton\n                                        color=\"inherit\"\n                                        className={classes.menuIcon}\n                                        onClick={() =>\n                                            this.props.setSelectedTarget([])\n                                        }\n                                    >\n                                        <BackIcon />\n                                    </IconButton>\n                                </Grow>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap\n                                            onClick={() => {this.props.history.push(\"/\")}}\n                                >\n                                    {this.props.subTitle\n                                        ? this.props.subTitle\n                                        : this.props.title}\n                                </Typography>\n                            )}\n\n                        {!this.props.isMultiple &&\n                            this.props.withFile &&\n                            !pathHelper.isMobile() && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                                    {this.props.selected[0].name}{\" \"}\n                                    {(isHomePage ||\n                                        pathHelper.isSharePage(\n                                            this.props.location.pathname\n                                        )) &&\n                                        \"(\" +\n                                            sizeToString(\n                                                this.props.selected[0].size\n                                            ) +\n                                            \")\"}\n                                </Typography>\n                            )}\n\n                        {this.props.selected.length > 1 &&\n                            !pathHelper.isMobile() && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                                    {this.props.selected.length}个对象\n                                </Typography>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && <SezrchBar />}\n                        <div className={classes.grow} />\n                        {(this.props.selected.length > 1 ||\n                            (!this.props.isMultiple && this.props.withFile)) &&\n                            !isHomePage &&\n                            !pathHelper.isSharePage(\n                                this.props.location.pathname\n                            ) &&\n                            Auth.Check(this.props.isLogin) &&\n                            !checkGetParameters(\"share\") && (\n                                <div className={classes.sectionForFile}>\n                                    <Tooltip title=\"保存\">\n                                        <IconButton\n                                            color=\"inherit\"\n                                            onClick={() =>\n                                                this.props.saveFile()\n                                            }\n                                        >\n                                            <SaveIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                </div>\n                            )}\n                        {(this.props.selected.length > 1 ||\n                            (!this.props.isMultiple && this.props.withFile)) &&\n                            (isHomePage || isSharePage) && (\n                                <div className={classes.sectionForFile}>\n                                    {!this.props.isMultiple &&\n                                        this.props.withFile\n                                        &&\n                                        isPreviewable(\n                                            this.props.selected[0].name\n                                        ) && (\n                                            <Grow\n                                                in={\n                                                    !this.props.isMultiple &&\n                                                    this.props.withFile &&\n                                                    isPreviewable(\n                                                        this.props.selected[0]\n                                                            .name\n                                                    )\n                                                }\n                                            >\n                                                <Tooltip title=\"打开\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.openPreview()\n                                                        }\n                                                    >\n                                                        <OpenIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {!this.props.isMultiple &&\n                                        this.props.withFile && (\n                                            <Grow\n                                                in={\n                                                    !this.props.isMultiple &&\n                                                    this.props.withFile\n                                                }\n                                            >\n                                                <Tooltip title=\"下载\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.openDownload()\n                                                        }\n                                                    >\n                                                        <DownloadIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {(this.props.isMultiple ||\n                                        this.props.withFolder) &&\n                                        user.group.allowArchiveDownload && (\n                                            <Grow\n                                                in={\n                                                    (this.props.isMultiple ||\n                                                        this.props\n                                                            .withFolder) &&\n                                                    user.group\n                                                        .allowArchiveDownload\n                                                }\n                                            >\n                                                <Tooltip title=\"打包下载\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.archiveDownload()\n                                                        }\n                                                    >\n                                                        <DownloadIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n\n                                    {!this.props.isMultiple &&\n                                        this.props.withFolder && (\n                                            <Grow\n                                                in={\n                                                    !this.props.isMultiple &&\n                                                    this.props.withFolder\n                                                }\n                                            >\n                                                <Tooltip title=\"进入目录\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.navigateTo(\n                                                                this.props\n                                                                    .path ===\n                                                                    \"/\"\n                                                                    ? this.props\n                                                                          .path +\n                                                                          this\n                                                                              .props\n                                                                              .selected[0]\n                                                                              .name\n                                                                    : this.props\n                                                                          .path +\n                                                                          \"/\" +\n                                                                          this\n                                                                              .props\n                                                                              .selected[0]\n                                                                              .name\n                                                            )\n                                                        }\n                                                    >\n                                                        <OpenFolderIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {!this.props.isMultiple && !isSharePage && (\n                                        <Grow in={!this.props.isMultiple}>\n                                            <Tooltip title=\"分享\">\n                                                <IconButton\n                                                    color=\"inherit\"\n                                                    onClick={() =>\n                                                        this.props.openShareDialog()\n                                                    }\n                                                >\n                                                    <ShareIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </Grow>\n                                    )}\n                                    {!this.props.isMultiple && !isSharePage && (\n                                        <Grow in={!this.props.isMultiple}>\n                                            <Tooltip title=\"重命名\">\n                                                <IconButton\n                                                    color=\"inherit\"\n                                                    onClick={() =>\n                                                        this.props.openRenameDialog()\n                                                    }\n                                                >\n                                                    <RenameIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </Grow>\n                                    )}\n                                    {!isSharePage && (\n                                        <div style={{ display: \"flex\" }}>\n                                            {!pathHelper.isMobile() && (\n                                                <Grow\n                                                    in={\n                                                        this.props.selected\n                                                            .length !== 0 &&\n                                                        !pathHelper.isMobile()\n                                                    }\n                                                >\n                                                    <Tooltip title=\"移动\">\n                                                        <IconButton\n                                                            color=\"inherit\"\n                                                            onClick={() =>\n                                                                this.props.openMoveDialog()\n                                                            }\n                                                        >\n                                                            <MoveIcon />\n                                                        </IconButton>\n                                                    </Tooltip>\n                                                </Grow>\n                                            )}\n\n                                            <Grow\n                                                in={\n                                                    this.props.selected\n                                                        .length !== 0\n                                                }\n                                            >\n                                                <Tooltip title=\"删除\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.openRemoveDialog()\n                                                        }\n                                                    >\n                                                        <DeleteIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        </div>\n                                    )}\n                                </div>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && <UserAvatar />}\n                    </Toolbar>\n                </AppBar>\n                {this.loadUploader()}\n\n                <Hidden smUp implementation=\"css\">\n                    <SwipeableDrawer\n                        container={this.props.container}\n                        variant=\"temporary\"\n                        classes={{\n                            paper: classes.drawerPaper\n                        }}\n                        anchor=\"left\"\n                        open={this.state.mobileOpen}\n                        onClose={this.handleDrawerToggle}\n                        onOpen={() =>\n                            this.setState(() => ({ mobileOpen: true }))\n                        }\n                        disableDiscovery={iOS}\n                        ModalProps={{\n                            keepMounted: true // Better open performance on mobile.\n                        }}\n                    >\n                        {drawer}\n                    </SwipeableDrawer>\n                </Hidden>\n                <Hidden xsDown implementation=\"css\">\n                    <Drawer\n                        classes={{\n                            paper: classNames({\n                                [classes.drawerOpen]: this.props.desktopOpen,\n                                [classes.drawerClose]: !this.props.desktopOpen\n                            })\n                        }}\n                        className={classNames(classes.drawer, {\n                            [classes.drawerOpen]: this.props.desktopOpen,\n                            [classes.drawerClose]: !this.props.desktopOpen\n                        })}\n                        variant=\"persistent\"\n                        anchor=\"left\"\n                        open={this.props.desktopOpen}\n                    >\n                        <div className={classes.toolbar} />\n                        {drawer}\n                    </Drawer>\n                </Hidden>\n            </div>\n        );\n    }\n}\nNavbarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    theme: PropTypes.object.isRequired\n};\n\nconst Navbar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTheme(withStyles(styles)(withRouter(NavbarCompoment))));\n\nexport default Navbar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport { connect } from \"react-redux\";\nimport { searchMyFile } from \"../../actions\";\n\nimport {\n    withStyles,\n    InputBase,\n    Popper,\n    Fade,\n    Paper,\n    MenuItem,\n    ListItemIcon,\n    ListItemText,\n    Typography\n} from \"@material-ui/core\";\nimport {withRouter} from \"react-router\";\nimport pathHelper from \"../../utils/page\";\nimport {HotKeys,configure} from \"react-hotkeys\";\n\nconfigure({\n    ignoreTags:[],\n});\n\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        searchMyFile: keywords => {\n            dispatch(searchMyFile(keywords));\n        }\n    };\n};\n\nconst styles = theme => ({\n    search: {\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\"\n        },\n        position: \"relative\",\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        \"&:hover\": {\n            backgroundColor: fade(theme.palette.common.white, 0.25)\n        },\n        marginRight: theme.spacing(2),\n        marginLeft: 0,\n        width: \"100%\",\n        [theme.breakpoints.up(\"sm\")]: {\n            marginLeft: theme.spacing(7.2),\n            width: \"auto\"\n        }\n    },\n    searchIcon: {\n        width: theme.spacing(9),\n        height: \"100%\",\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    inputRoot: {\n        color: \"inherit\",\n        width: \"100%\"\n    },\n    inputInput: {\n        paddingTop: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n        paddingLeft: theme.spacing(7),\n        transition: theme.transitions.create(\"width\"),\n        width: \"100%\",\n        [theme.breakpoints.up(\"md\")]: {\n            width: 200,\n            \"&:focus\": {\n                width: 300\n            }\n        }\n    },\n    suggestBox: {\n        zIndex: \"9999\",\n        width: 364\n    }\n});\n\nconst keyMap = {\n    SEARCH: \"enter\",\n};\n\nclass SearchBarCompoment extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            input: \"\"\n        };\n    }\n\n    handlers={\n        SEARCH:(e)=>{\n            if(pathHelper.isHomePage(this.props.location.pathname)){\n                this.searchMyFile();\n            }else{\n                this.searchShare();\n            }\n            e.target.blur();\n        },\n    };\n\n    handleChange = event => {\n        const { currentTarget } = event;\n        this.input = event.target.value;\n        this.setState({\n            anchorEl: currentTarget,\n            input: event.target.value\n        });\n    };\n\n    cancelSuggest = () => {\n        this.setState({\n            input: \"\"\n        });\n    };\n\n    searchMyFile = () => {\n        this.props.searchMyFile(\"keywords/\"+this.input);\n    };\n\n    searchShare = () => {\n        this.props.history.push(\"/search?keywords=\"+encodeURIComponent(this.input));\n    };\n\n\n    render() {\n        const { classes } = this.props;\n        const { anchorEl } = this.state;\n        const id = this.state.input !== \"\" ? \"simple-popper\" : null;\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n\n        return (\n                <div className={classes.search}>\n                <div className={classes.searchIcon}>\n                    <SearchIcon />\n                </div>\n                    <HotKeys keyMap={keyMap} handlers={this.handlers}>\n                        <InputBase\n                            placeholder=\"搜索...\"\n                            classes={{\n                                root: classes.inputRoot,\n                                input: classes.inputInput\n                            }}\n                            onChange={this.handleChange}\n                            onBlur={this.cancelSuggest}\n                            value={this.state.input}\n                        />\n                    </HotKeys>\n                <Popper\n                    id={id}\n                    open={this.state.input !== \"\"}\n                    anchorEl={anchorEl}\n                    className={classes.suggestBox}\n                    transition\n                >\n                    {({ TransitionProps }) => (\n                        <Fade {...TransitionProps} timeout={350}>\n                            <Paper square={true}>\n                                {isHomePage && (\n                                    <MenuItem onClick={this.searchMyFile}>\n                                        <ListItemIcon className={classes.icon}>\n                                            <FileIcon />\n                                        </ListItemIcon>\n                                        <ListItemText\n                                            classes={{\n                                                primary: classes.primary\n                                            }}\n                                            primary={\n                                                <Typography noWrap>\n                                                    在我的文件中搜索{\" \"}\n                                                    <strong>\n                                                        {this.state.input}\n                                                    </strong>\n                                                </Typography>\n                                            }\n                                        />\n                                    </MenuItem>\n                                )}\n\n                                <MenuItem onClick={this.searchShare}>\n                                    <ListItemIcon className={classes.icon}>\n                                        <ShareIcon />\n                                    </ListItemIcon>\n                                    <ListItemText\n                                        classes={{ primary: classes.primary }}\n                                        primary={\n                                            <Typography noWrap>\n                                                在全站分享中搜索{\" \"}\n                                                <strong>\n                                                    {this.state.input}\n                                                </strong>\n                                            </Typography>\n                                        }\n                                    />\n                                </MenuItem>\n                            </Paper>\n                        </Fade>\n                    )}\n                </Popper>\n            </div>\n        );\n    }\n}\n\nSearchBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nconst SearchBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(SearchBarCompoment)));\n\nexport default SearchBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport { connect } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport { sizeToString } from \"../../utils\";\nimport { toggleSnackbar } from \"../../actions\";\n\nimport {\n    withStyles,\n    LinearProgress,\n    Typography,\n    Divider,\n    Tooltip\n} from \"@material-ui/core\";\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\nimport Link from \"@material-ui/core/Link\";\nimport { withRouter } from \"react-router\";\n\nconst mapStateToProps = state => {\n    return {\n        refresh: state.viewUpdate.storageRefresh,\n        isLogin: state.viewUpdate.isLogin\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        }\n    };\n};\n\nconst styles = theme => ({\n    iconFix: {\n        marginLeft: \"32px\",\n        marginRight: \"17px\",\n        color: theme.palette.text.secondary,\n        marginTop: \"2px\"\n    },\n    textFix: {\n        padding: \" 0 0 0 16px\"\n    },\n    storageContainer: {\n        display: \"flex\",\n        marginTop: \"15px\",\n        textAlign: \"left\",\n        marginBottom: \"11px\"\n    },\n    detail: {\n        width: \"100%\",\n        marginRight: \"35px\"\n    },\n    info: {\n        width: \"131px\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"162px\"\n        },\n        marginTop: \"5px\"\n    },\n    bar: {\n        marginTop: \"5px\"\n    },\n    stickFooter: {\n        backgroundColor: theme.palette.background.paper\n    }\n});\n\nclass StorageBarCompoment extends Component {\n    state = {\n        percent: 0,\n        used: null,\n        total: null,\n        showExpand: false\n    };\n\n    firstLoad = true;\n\n    componentDidMount = () => {\n        if (this.firstLoad && this.props.isLogin) {\n            this.firstLoad = !this.firstLoad;\n            this.updateStatus();\n        }\n    };\n\n    componentWillUnmount() {\n        this.firstLoad = false;\n    }\n\n    UNSAFE_componentWillReceiveProps = nextProps => {\n        if (\n            (this.props.isLogin && this.props.refresh !== nextProps.refresh) ||\n            (this.props.isLogin !== nextProps.isLogin && nextProps.isLogin)\n        ) {\n            this.updateStatus();\n        }\n    };\n\n    updateStatus = () => {\n        let percent = 0;\n        API.get(\"/user/storage\")\n            .then(response => {\n                if (response.data.used / response.data.total >= 1) {\n                    percent = 100;\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"您的已用容量已超过容量配额，请尽快删除多余文件或购买容量\",\n                        \"warning\"\n                    );\n                } else {\n                    percent = (response.data.used / response.data.total) * 100;\n                }\n                this.setState({\n                    percent: percent,\n                    used: sizeToString(response.data.used),\n                    total: sizeToString(response.data.total)\n                });\n            })\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            .catch(() => {});\n    };\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <div\n                onMouseEnter={() => this.setState({ showExpand: true })}\n                onMouseLeave={() => this.setState({ showExpand: false })}\n                className={classes.stickFooter}\n            >\n                <Divider />\n                <ButtonBase onClick={() => this.props.history.push(\"/quota?\")}>\n                    <div className={classes.storageContainer}>\n                        <StorageIcon className={classes.iconFix} />\n                        <div className={classes.detail}>\n                            存储空间{\"   \"}\n                            {this.state.showExpand && (\n                                <Link href={\"/#/buy\"} color={\"secondary\"}>\n                                    扩容\n                                </Link>\n                            )}\n                            <LinearProgress\n                                className={classes.bar}\n                                color=\"secondary\"\n                                variant=\"determinate\"\n                                value={this.state.percent}\n                            />\n                            <div className={classes.info}>\n                                <Tooltip\n                                    title={\n                                        \"已使用\" +\n                                        (this.state.used === null\n                                            ? \" -- \"\n                                            : this.state.used) +\n                                        \"，共\" +\n                                        (this.state.total === null\n                                            ? \" -- \"\n                                            : this.state.total)\n                                    }\n                                    placement=\"top\"\n                                >\n                                    <Typography\n                                        variant=\"caption\"\n                                        noWrap\n                                        color=\"textSecondary\"\n                                    >\n                                        已使用\n                                        {this.state.used === null\n                                            ? \" -- \"\n                                            : this.state.used}\n                                        ，共\n                                        {this.state.total === null\n                                            ? \" -- \"\n                                            : this.state.total}\n                                    </Typography>\n                                </Tooltip>\n                            </div>\n                        </div>\n                    </div>\n                </ButtonBase>\n            </div>\n        );\n    }\n}\n\nStorageBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nconst StorageBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(StorageBarCompoment)));\n\nexport default StorageBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { setUserPopover } from \"../../actions\";\nimport { withStyles, Typography } from \"@material-ui/core\";\nimport Auth from \"../../middleware/Auth\";\nimport DarkModeSwitcher from \"./DarkModeSwitcher\"\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst mapStateToProps = state => {\n    return {\n        isLogin:state.viewUpdate.isLogin,\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setUserPopover: anchor => {\n            dispatch(setUserPopover(anchor));\n        }\n    };\n};\n\nconst styles = theme => ({\n    userNav: {\n        height: \"170px\",\n        backgroundColor: theme.palette.primary.main,\n        padding: \"20px 20px 2em\",\n        backgroundImage:\n            \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cpolygon fill='\" +\n            theme.palette.primary.light.replace(\"#\", \"%23\") +\n            \"' points='957 450 539 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='957 450 872.9 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='-60 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='337 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 876 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 1162 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='641 695 886 900 367 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.main.replace(\"#\", \"%23\") +\n            \"' points='587 900 641 695 886 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1096 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1365 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1210 900 971 687 725 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='943 900 1210 900 971 687'/%3E%3C/svg%3E\\\")\",\n        backgroundSize: \"cover\"\n    },\n    avatar: {\n        display: \"block\",\n        width: \"70px\",\n        height: \"70px\",\n        border: \" 2px solid #fff\",\n        borderRadius: \"50%\",\n        overflow: \"hidden\",\n        boxShadow: \"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)\"\n    },\n    avatarImg: {\n        width: \"66px\",\n        height: \"66px\"\n    },\n    nickName: {\n        color: \"#fff\",\n        marginLeft: \"10px\",\n        marginTop: \"15px\",\n        fontSize: \"17px\"\n    },\n    flexAvatar: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"end\",\n    },\n    groupName: {\n        marginLeft: \"10px\",\n        color: \"#ffffff\",\n        opacity: \"0.54\",\n    },\n    storageCircle: {\n        width: \"200px\"\n    }\n});\n\nclass UserInfoCompoment extends Component {\n    showUserInfo = e => {\n        this.props.setUserPopover(e.currentTarget);\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isLogin = Auth.Check(this.props.isLogin);\n        const user = Auth.GetUser(this.props.isLogin);\n\n        return (\n            <div className={classes.userNav}>\n                <div className={classes.flexAvatar}>\n                    { /* eslint-disable-next-line */}\n                    <a onClick={this.showUserInfo} className={classes.avatar}>\n                        {isLogin && (\n                            <Avatar\n                                src={\n                                    \"/api/v3/user/avatar/\"+user.id + \"/l\"\n                                }\n                                className={classes.avatarImg}\n                            />\n                        )}\n                        {!isLogin && (\n                            <Avatar\n                                src={\"/api/v3/user/avatar/0/l\"}\n                                className={classes.avatarImg}\n                            />\n                        )}\n                    </a>\n                    <DarkModeSwitcher position=\"left\"/>\n                </div>\n                <div className={classes.storageCircle}>\n                    <Typography\n                        className={classes.nickName}\n                        component=\"h2\"\n                        noWrap\n                    >\n                        {isLogin?user.nickname:\"未登录\"}\n                    </Typography>\n                    <Typography\n                        className={classes.groupName}\n                        component=\"h2\"\n                        color=\"textSecondary\"\n                        noWrap\n                    >\n                        {isLogin?user.group.name:\"游客\"}\n                    </Typography>\n                </div>\n            </div>\n        );\n    }\n}\n\nUserInfoCompoment.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nconst UserInfo = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(UserInfoCompoment));\n\nexport default UserInfo;\n","import React, {useCallback, useState, Suspense} from \"react\";\nimport {\n    Divider,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    makeStyles,\n    withStyles\n} from \"@material-ui/core\";\nimport { Clear, KeyboardArrowRight} from \"@material-ui/icons\";\nimport classNames from \"classnames\";\nimport FolderShared from \"@material-ui/icons/FolderShared\";\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\nimport VideoIcon from \"@material-ui/icons/VideoLibraryOutlined\";\nimport ImageIcon from \"@material-ui/icons/CollectionsOutlined\";\nimport MusicIcon from \"@material-ui/icons/LibraryMusicOutlined\";\nimport DocIcon from \"@material-ui/icons/FileCopyOutlined\";\nimport { useHistory, useLocation } from \"react-router\";\nimport pathHelper from \"../../utils/page\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport { navigateTo, searchMyFile, toggleSnackbar } from \"../../actions\";\nimport { useDispatch } from \"react-redux\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    Circle,\n    CircleOutline,\n    Heart,\n    HeartOutline,\n    Hexagon,\n    HexagonOutline,\n    Hexagram,\n    HexagramOutline,\n    Rhombus,\n    RhombusOutline,\n    Square,\n    SquareOutline,\n    Triangle,\n    TriangleOutline,\n    FolderHeartOutline,\n    TagPlus\n} from \"mdi-material-ui\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport API from \"../../middleware/Api\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0\n        },\n        \"&:before\": {\n            display: \"none\"\n        },\n        \"&$expanded\": { margin: 0 }\n    },\n    expanded: {}\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 0\n        }\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"block\",\n        \"&$expanded\": {\n            margin: \"0\"\n        }\n    },\n    expanded: {}\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles(theme => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0)\n    }\n}))(MuiExpansionPanelDetails);\n\nconst useStyles = makeStyles(theme => ({\n    expand: {\n        display: \"none\",\n        transition: \".15s all ease-in-out\"\n    },\n    expanded: {\n        display: \"block\",\n        transform: \"rotate(90deg)\"\n    },\n    iconFix: {\n        marginLeft: \"16px\"\n    },\n    hiddenButton: {\n        display: \"none\"\n    },\n    subMenu: {\n        marginLeft: theme.spacing(2)\n    },\n    overFlow:{\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n    }\n\n}));\n\nconst icons = {\n    Circle: Circle,\n    CircleOutline: CircleOutline,\n    Heart: Heart,\n    HeartOutline: HeartOutline,\n    Hexagon: Hexagon,\n    HexagonOutline: HexagonOutline,\n    Hexagram: Hexagram,\n    HexagramOutline: HexagramOutline,\n    Rhombus: Rhombus,\n    RhombusOutline: RhombusOutline,\n    Square: Square,\n    SquareOutline: SquareOutline,\n    Triangle: Triangle,\n    TriangleOutline: TriangleOutline,\n    FolderHeartOutline: FolderHeartOutline\n};\n\nconst AddTag = React.lazy(() => import (\"../Modals/AddTag\" ));\n\nexport default function FileTag() {\n    const classes = useStyles();\n\n    const location = useLocation();\n    const history = useHistory();\n\n    const isHomePage = pathHelper.isHomePage(location.pathname);\n\n    const [tagOpen, setTagOpen] = useState(true);\n    const [addTagModal,setAddTagModal] = useState(false);\n    const [tagHover,setTagHover] = useState(null);\n    const [tags,setTags] = useState(Auth.GetUser().tags?Auth.GetUser().tags:[]);\n\n    const dispatch = useDispatch();\n    const SearchMyFile = useCallback(k => dispatch(searchMyFile(k)), [\n        dispatch\n    ]);\n    const NavigateTo = useCallback(k => dispatch(navigateTo(k)), [dispatch]);\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n\n    const getIcon = (icon, color) => {\n        if (icons[icon]) {\n            const IconComponent = icons[icon];\n            return (\n                <IconComponent\n                    className={[classes.iconFix]}\n                    style={\n                        color\n                            ? {\n                                  color: color\n                              }\n                            : {}\n                    }\n                />\n            );\n        }\n        return <Circle className={[classes.iconFix]} />;\n    };\n\n    const submitSuccess = tag =>{\n        const newTags = [...tags,tag];\n        setTags(newTags);\n        const user = Auth.GetUser();\n        user.tags = newTags;\n        Auth.SetUser(user);\n    };\n\n    const submitDelete = id =>{\n        API.delete(\"/tag/\"+id)\n            .then(() => {\n                const newTags = tags.filter((v)=>{return v.id !== id});\n                setTags(newTags)\n                const user = Auth.GetUser();\n                user.tags = newTags;\n                Auth.SetUser(user);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    return (\n        <>\n            <Suspense fallback={\"\"}>\n                <AddTag onSuccess={submitSuccess} open={addTagModal} onClose={()=>setAddTagModal(false)}/>\n            </Suspense>\n        <ExpansionPanel\n            square\n            expanded={tagOpen && isHomePage}\n            onChange={() => isHomePage && setTagOpen(!tagOpen)}\n        >\n            <ExpansionPanelSummary\n                aria-controls=\"panel1d-content\"\n                id=\"panel1d-header\"\n            >\n                <ListItem\n                    button\n                    key=\"我的文件\"\n                    onClick={() =>\n                        !isHomePage && history.push(\"/home?path=%2F\")\n                    }\n                >\n                    <ListItemIcon>\n                        <KeyboardArrowRight\n                            className={classNames(\n                                {\n                                    [classes.expanded]: tagOpen && isHomePage,\n                                    [classes.iconFix]: true\n                                },\n                                classes.expand\n                            )}\n                        />\n                        {!(tagOpen && isHomePage) && (\n                            <FolderShared className={classes.iconFix} />\n                        )}\n                    </ListItemIcon>\n                    <ListItemText primary=\"我的文件\" />\n                </ListItem>\n                <Divider />\n            </ExpansionPanelSummary>\n\n            <ExpansionPanelDetails>\n                <List onMouseLeave={()=>setTagHover(null)}>\n                    <ListItem\n                        button\n                        id=\"pickfiles\"\n                        className={classes.hiddenButton}\n                    >\n                        <ListItemIcon>\n                            <UploadIcon />\n                        </ListItemIcon>\n                        <ListItemText />\n                    </ListItem>\n                    <ListItem\n                        button\n                        id=\"pickfolder\"\n                        className={classes.hiddenButton}\n                    >\n                        <ListItemIcon>\n                            <UploadIcon />\n                        </ListItemIcon>\n                        <ListItemText />\n                    </ListItem>\n                    {[\n                        {\n                            key: \"视频\",\n                            id: \"video\",\n                            icon: (\n                                <VideoIcon\n                                    className={[\n                                        classes.iconFix,\n                                        classes.iconVideo\n                                    ]}\n                                />\n                            )\n                        },\n                        {\n                            key: \"图片\",\n                            id: \"image\",\n                            icon: (\n                                <ImageIcon\n                                    className={[\n                                        classes.iconFix,\n                                        classes.iconImg\n                                    ]}\n                                />\n                            )\n                        },\n                        {\n                            key: \"音频\",\n                            id: \"audio\",\n                            icon: (\n                                <MusicIcon\n                                    className={[\n                                        classes.iconFix,\n                                        classes.iconAudio\n                                    ]}\n                                />\n                            )\n                        },\n                        {\n                            key: \"文档\",\n                            id: \"doc\",\n                            icon: (\n                                <DocIcon\n                                    className={[\n                                        classes.iconFix,\n                                        classes.iconDoc\n                                    ]}\n                                />\n                            )\n                        }\n                    ].map(v => (\n                        <ListItem\n                            button\n                            key={v.key}\n                            onClick={() => SearchMyFile(v.id + \"/internal\")}\n                        >\n                            <ListItemIcon className={classes.subMenu}>\n                                {v.icon}\n                            </ListItemIcon>\n                            <ListItemText primary={v.key} />\n                        </ListItem>\n                    ))}\n                    {tags.map(v => (\n                            <ListItem\n                                button\n                                key={v.id}\n                                onMouseEnter={()=>setTagHover(v.id)}\n                                onClick={() => {\n                                    if (v.type === 0) {\n                                        SearchMyFile(\"tag/\" + v.id);\n                                    } else {\n                                        NavigateTo(v.expression);\n                                    }\n                                }}\n                            >\n                                <ListItemIcon className={classes.subMenu}>\n                                    {getIcon(\n                                        v.type === 0\n                                            ? v.icon\n                                            : \"FolderHeartOutline\",\n                                        v.type === 0 ? v.color : null\n                                    )}\n                                </ListItemIcon>\n                                <ListItemText className={classes.overFlow} primary={v.name} />\n\n                                {tagHover === v.id && <ListItemSecondaryAction onClick={()=>submitDelete(v.id)}>\n                                        <IconButton size={\"small\"} edge=\"end\" aria-label=\"delete\">\n                                            <Clear />\n                                        </IconButton>\n                                    </ListItemSecondaryAction>}\n                            </ListItem>\n                        ))}\n\n                    <ListItem button onClick={()=>setAddTagModal(true)}>\n                        <ListItemIcon className={classes.subMenu}>\n                            <TagPlus className={classes.iconFix} />\n                        </ListItemIcon>\n                        <ListItemText primary={\"添加标签...\"} />\n                    </ListItem>\n                </List>{\" \"}\n                <Divider />\n            </ExpansionPanelDetails>\n        </ExpansionPanel>\n            </>\n    );\n}\n","export const imgPreviewSuffix = [\"bmp\",\"png\",\"gif\",\"jpg\",\"jpeg\",\"svg\",\"webp\"];\nexport const msDocPreviewSuffix = [\"ppt\",\"pptx\",\"pps\",\"doc\",\"docx\",\"xlsx\",\"xls\"];\nexport const audioPreviewSuffix = [\"mp3\",\"ogg\"];\nexport const videoPreviewSuffix = [\"mp4\",\"mkv\",\"webm\"];\nexport const pdfPreviewSuffix = [\"pdf\"];\nexport const editSuffix = [\"md\",\"txt\"];\nexport const codePreviewSuffix = {\n    \"json\":\"json\",\n    \"php\":\"php\",\n    \"bat\":\"bat\",\n    \"cpp\":\"cpp\",\n    \"c\":\"cpp\",\n    \"h\":\"cpp\",\n    \"cs\":\"csharp\",\n    \"css\":\"css\",\n    \"dockerfile\":\"dockerfile\",\n    \"go\":\"go\",\n    \"html\":\"html\",\n    \"ini\":\"ini\",\n    \"java\":\"java\",\n    \"js\":\"javascript\",\n    \"jsx\":\"javascript\",\n    \"less\":\"less\",\n    \"lua\":\"lua\",\n    \"sh\":\"shell\",\n    \"sql\":\"sql\",\n    \"xml\":\"xml\",\n    \"yaml\":\"yaml\",\n};\nexport const mediaType = {\n    audio:[\"mp3\",\"flac\",\"ape\",\"wav\",\"acc\",\"ogg\"],\n    video:[\"mp4\",\"flv\",\"avi\",\"wmv\",\"mkv\",\"rm\",\"rmvb\",\"mov\",\"ogv\"],\n    image:[\"bmp\",\"iff\",\"png\",\"gif\",\"jpg\",\"jpeg\",\"psd\",\"svg\",\"webp\"],\n    pdf:[\"pdf\"],\n    word:[\"doc\",\"docx\"],\n    ppt:[\"ppt\",\"pptx\"],\n    excel:[\"xls\",\"xlsx\",\"csv\"],\n    text:[\"txt\",\"md\",\"html\"],\n    torrent:[\"torrent\"],\n    zip:[\"zip\",\"gz\",\"tar\",\"rar\",\"7z\"],\n    excute:[\"exe\"],\n    android:[\"apk\"],\n    php:[\"php\"],\n    go:[\"go\"],\n    python:[\"py\"],\n    cpp:[\"cpp\"],\n    c:[\"c\"],\n    js:[\"js\",\"jsx\"],\n};\nexport const policyTypeMap = {\n    local:\"本机\",\n    remote:\"从机\",\n    qiniu:\"七牛\",\n    upyun:\"又拍云\",\n    oss:\"阿里云 OSS\",\n    cos:\"腾讯云\",\n    onedrive:\"OneDrive\",\n};\nexport const isPreviewable = name=>{\n    const suffix = name.split(\".\").pop().toLowerCase();\n    if(imgPreviewSuffix.indexOf(suffix)!==-1){\n        return \"img\";\n    }else if(msDocPreviewSuffix.indexOf(suffix)!==-1){\n        return \"msDoc\";\n    }else if(audioPreviewSuffix.indexOf(suffix)!==-1){\n        return \"audio\";\n    }else if(videoPreviewSuffix.indexOf(suffix)!==-1){\n        return \"video\";\n    }else if(editSuffix.indexOf(suffix)!==-1){\n        return \"edit\";\n    }else if(pdfPreviewSuffix.indexOf(suffix)!==-1){\n        return \"pdf\";\n    }else if(Object.keys(codePreviewSuffix).indexOf(suffix)!==-1){\n        return \"code\";\n    }\n    return false;\n}\nexport const isTorrent = name=>{\n    const suffix = name.split(\".\").pop().toLowerCase();\n    if(mediaType.torrent.indexOf(suffix)!==-1){\n        return true;\n    }\n    return false;\n}\n\nexport const isCompressFile = name=>{\n    const suffix = name.split(\".\").pop().toLowerCase();\n    return suffix === \"zip\"\n}\n\nconst taskStatus = [\"排队中\",\"处理中\",\"失败\",\"取消\",\"已完成\"];\nconst taskType = [\"压缩\",\"解压缩\",\"文件中转\",\"导入外部目录\"];\nconst taskProgress = [\"等待中\",\"压缩中\",\"解压缩中\",\"下载中\",\"转存中\",\"索引中\",\"插入中\"];\n\nexport const getTaskStatus = status =>{\n    return taskStatus[status];\n}\n\nexport const getTaskType = status =>{\n    return taskType[status];\n}\n\nexport const getTaskProgress = (type,status) =>{\n    if (type === 2){\n        return \"已完成 \" + (status+1) + \" 个文件\"\n    }\n    return taskProgress[status];\n}\n\nexport const reportReasons = [\"色情信息\",\"包含病毒\",\"侵权\",\"不恰当的言论\",\"其他\"];","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { baseURL } from \"../../middleware/Api\";\nimport { showImgPreivew } from \"../../actions/index\";\nimport { imgPreviewSuffix } from \"../../config\";\nimport { withStyles } from \"@material-ui/core\";\nimport pathHelper from \"../../utils/page\";\nimport {withRouter} from \"react-router\";\nimport {PhotoSlider} from \"react-photo-view\";\nimport 'react-photo-view/dist/index.css';\nimport * as explorer from \"../../redux/explorer/reducer\";\n\nconst styles = () => ({});\n\nconst mapStateToProps = state => {\n    return {\n        first: state.explorer.imgPreview.first,\n        other: state.explorer.imgPreview.other\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        showImgPreivew: first => {\n            dispatch(showImgPreivew(first));\n        }\n    };\n};\n\nclass ImagPreviewComponent extends Component {\n    state = {\n        items: [],\n        photoIndex: 0,\n        isOpen: false\n    };\n\n    UNSAFE_componentWillReceiveProps = nextProps => {\n        const items = [];\n        let firstOne = 0;\n        if (nextProps.first.id !== \"\") {\n            if (pathHelper.isSharePage(this.props.location.pathname) && !nextProps.first.path){\n                const newImg = {\n                    intro: nextProps.first.name,\n                    src:\n                        baseURL +\n                        \"/share/preview/\" +nextProps.first.key\n                };\n                firstOne = 0;\n                items.push(newImg);\n                this.setState({\n                    photoIndex:firstOne,\n                    items: items,\n                    isOpen: true\n                });\n                return\n            }\n            // eslint-disable-next-line\n            nextProps.other.map(value => {\n                const fileType = value.name\n                    .split(\".\")\n                    .pop()\n                    .toLowerCase();\n                if (imgPreviewSuffix.indexOf(fileType) !== -1) {\n                    let src = \"\";\n                    if (pathHelper.isSharePage(this.props.location.pathname)){\n                        src = baseURL +\n                            \"/share/preview/\" + value.key\n                        src = src + \"?path=\" + encodeURIComponent( (value.path === \"/\"\n                                ? value.path + value.name\n                                : value.path + \"/\" + value.name))\n\n                    }else{\n                        src = baseURL +\n                            \"/file/preview/\" +\n                            value.id\n                    }\n                    const newImg = {\n                        intro: value.name,\n                        src:src,\n                    };\n                    if (\n                        value.path === nextProps.first.path &&\n                        value.name === nextProps.first.name\n                    ) {\n                        firstOne = items.length;\n                    }\n                    items.push(newImg);\n                }\n            });\n            this.setState({\n                photoIndex:firstOne,\n                items: items,\n                isOpen: true\n            });\n        }\n    };\n\n    handleClose = () => {\n        this.props.showImgPreivew(explorer.initState.imgPreview.first);\n        this.setState({\n            isOpen: false\n        });\n    };\n\n    render() {\n        const { photoIndex, isOpen,items } = this.state;\n\n        return (\n            <div>\n                 {isOpen && (<PhotoSlider\n                     images={items}\n                     visible={isOpen}\n                     onClose={() => this.handleClose()}\n                     index={photoIndex}\n                     onIndexChange={(n) =>\n                         this.setState({\n                             photoIndex: n,\n                         })\n                     }\n\n                />)}\n            </div>\n        );\n    }\n}\n\nImagPreviewComponent.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nconst ImgPreivew = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ImagPreviewComponent)));\n\nexport default ImgPreivew;\n","import { isMac } from \"../utils\";\n\nexport const removeSelectedTargets = fileIds => {\n  return {\n      type: \"RMOVE_SELECTED_TARGETS\",\n      fileIds,\n  };\n};\n\nexport const addSelectedTargets = targets => {\n  return {\n      type: \"ADD_SELECTED_TARGETS\",\n      targets,\n  };\n};\n\nexport const setSelectedTarget = targets => {\n  return {\n      type: \"SET_SELECTED_TARGET\",\n      targets,\n  };\n};\n\nexport const setLastSelect = (file, index) => {\n  return {\n      type: \"SET_LAST_SELECT\",\n      file,\n      index,\n  };\n};\n\nexport const setShiftSelectedIds = (shiftSelectedIds) => {\n  return {\n      type: \"SET_SHIFT_SELECTED_IDS\",\n      shiftSelectedIds,\n  };\n};\n\nexport const selectFile = (file, event, fileIndex) => {\n  const { ctrlKey, metaKey, shiftKey } = event\n  return (dispatch, getState) => {\n    // 多种组合操作忽略\n    if ([ctrlKey, metaKey, shiftKey].filter(Boolean).length > 1) {\n      return\n    }\n    const isMacbook = isMac()\n    const { explorer } = getState()\n    const { selected, lastSelect, dirList, fileList, shiftSelectedIds } = explorer\n    if (shiftKey && !ctrlKey && !metaKey && selected.length !== 0\n      // 点击类型一样 \n      && file.type === lastSelect.file.type) {\n      // shift 多选\n      // 取消原有选择\n      dispatch(removeSelectedTargets(shiftSelectedIds))\n      // 添加新选择\n      const begin = Math.min(lastSelect.index, fileIndex)\n      const end = Math.max(lastSelect.index, fileIndex)\n      const list = file.type === 'dir' ? dirList : fileList\n      const newShiftSelected = list.slice(begin, end+1)\n      dispatch(setShiftSelectedIds(newShiftSelected.map(file => file.id)))\n      return dispatch(addSelectedTargets(newShiftSelected))\n    }\n    dispatch(setLastSelect(file, fileIndex))\n    dispatch(setShiftSelectedIds([]))\n    if ((ctrlKey && !isMacbook) || (metaKey && isMacbook)) {\n      // Ctrl/Command 单击添加/删除\n      const presentIndex = selected.findIndex(value => {\n        return value.id === file.id\n      })\n      if (presentIndex !== -1) {\n        return dispatch(removeSelectedTargets([file.id]))\n      }\n      return dispatch(addSelectedTargets([file]))\n    }\n    // 单选\n    return dispatch(setSelectedTarget([file]))\n  }\n}\n","export * from './explorer'\n\nexport const setNavigator = (path, navigatorLoading) => {\n  return {\n    type: 'SET_NAVIGATOR',\n    path,\n    navigatorLoading\n  }\n}\n\nexport const navigateTo = path => {\n  return (dispatch, getState) => {\n    const state = getState()\n    const navigatorLoading = path !== state.navigator.path\n    dispatch(setNavigator(path, navigatorLoading))\n  }\n};\n\nexport const navigateUp = () => {\n  return (dispatch, getState) => {\n    const state = getState()\n    const pathSplit = state.navigator.path.split(\"/\");\n    pathSplit.pop();\n    const newPath = pathSplit.length===1? \"/\":pathSplit.join(\"/\");\n    const navigatorLoading = newPath !== state.navigator.path\n    dispatch(setNavigator(newPath, navigatorLoading))\n  }\n};\n\nexport const drawerToggleAction = open => {\n    return {\n        type: \"DRAWER_TOGGLE\",\n        open: open\n    };\n};\n\nexport const dragAndDrop = (source,target) => {\n    return {\n        type: \"DRAG_AND_DROP\",\n        source: source,\n        target: target,\n    };\n};\n\nexport const changeViewMethod = method => {\n    return {\n        type: \"CHANGE_VIEW_METHOD\",\n        method: method\n    };\n};\n\nexport const toggleDaylightMode = ()=>{\n    return {\n        type: \"TOGGLE_DAYLIGHT_MODE\",\n    };\n};\n\nexport const changeContextMenu = (type, open) => {\n    return {\n        type: \"CHANGE_CONTEXT_MENU\",\n        menuType: type,\n        open: open\n    };\n};\n\nexport const setNavigatorLoadingStatus = status => {\n    return {\n        type: \"SET_NAVIGATOR_LOADING_STATUE\",\n        status: status\n    };\n};\n\nexport const setNavigatorError = (status, msg) => {\n    return {\n        type: \"SET_NAVIGATOR_ERROR\",\n        status: status,\n        msg: msg\n    };\n};\n\nexport const openCreateFolderDialog = () => {\n    return {\n        type: \"OPEN_CREATE_FOLDER_DIALOG\"\n    };\n};\n\nexport const openCreateFileDialog = () => {\n    return {\n        type: \"OPEN_CREATE_FILE_DIALOG\"\n    };\n};\n\nexport const setUserPopover = anchor => {\n    return {\n        type: \"SET_USER_POPOVER\",\n        anchor: anchor\n    };\n};\n\nexport const setShareUserPopover = anchor => {\n    return {\n        type: \"SET_SHARE_USER_POPOVER\",\n        anchor: anchor\n    };\n};\n\nexport const openRenameDialog = () => {\n    return {\n        type: \"OPEN_RENAME_DIALOG\"\n    };\n};\n\nexport const openResaveDialog = (key) => {\n    return {\n        type: \"OPEN_RESAVE_DIALOG\",\n        key:key,\n    };\n};\n\nexport const openMoveDialog = () => {\n    return {\n        type: \"OPEN_MOVE_DIALOG\"\n    };\n};\n\nexport const openRemoveDialog = () => {\n    return {\n        type: \"OPEN_REMOVE_DIALOG\"\n    };\n};\n\nexport const openShareDialog = () => {\n    return {\n        type: \"OPEN_SHARE_DIALOG\"\n    };\n};\n\nexport const applyThemes = (theme)=>{\n    return {\n        type:'APPLY_THEME',\n        theme:theme,\n    };\n};\n\nexport const setSessionStatus = (status)=>{\n    return {\n        type:'SET_SESSION_STATUS',\n        status:status,\n    };\n};\n\n\nexport const openMusicDialog = () => {\n    return {\n        type: \"OPEN_MUSIC_DIALOG\"\n    };\n};\n\nexport const openRemoteDownloadDialog = () => {\n    return {\n        type: \"OPEN_REMOTE_DOWNLOAD_DIALOG\"\n    };\n};\n\nexport const openTorrentDownloadDialog = () => {\n    return {\n        type: \"OPEN_TORRENT_DOWNLOAD_DIALOG\"\n    };\n};\n\nexport const openDecompressDialog = () => {\n    return {\n        type: \"OPEN_DECOMPRESS_DIALOG\"\n    };\n};\n\nexport const openCompressDialog = () => {\n    return {\n        type: \"OPEN_COMPRESS_DIALOG\"\n    };\n};\n\nexport const openGetSourceDialog = () => {\n    return {\n        type: \"OPEN_GET_SOURCE_DIALOG\"\n    };\n};\n\nexport const openCopyDialog = () => {\n    return {\n        type: \"OPEN_COPY_DIALOG\"\n    };\n};\n\nexport const openLoadingDialog = (text) => {\n    return {\n        type: \"OPEN_LOADING_DIALOG\",\n        text: text,\n    }\n};\n\nexport const closeAllModals = () => {\n    return {\n        type: \"CLOSE_ALL_MODALS\"\n    };\n};\n\nexport const toggleSnackbar = (vertical, horizontal, msg, color) => {\n    return {\n        type: \"TOGGLE_SNACKBAR\",\n        vertical: vertical,\n        horizontal: horizontal,\n        msg: msg,\n        color: color\n    };\n};\n\nexport const enableLoadUploader = () => {\n    return {\n        type: \"ENABLE_LOAD_UPLOADER\"\n    };\n};\n\nexport const setModalsLoading = status => {\n    return {\n        type: \"SET_MODALS_LOADING\",\n        status: status\n    };\n};\n\nexport const refreshFileList = () => {\n    return {\n        type: \"REFRESH_FILE_LIST\"\n    };\n};\n\nexport const searchMyFile = keywords => {\n    return {\n        type: \"SEARCH_MY_FILE\",\n        keywords: keywords\n    };\n};\n\nexport const showImgPreivew = first => {\n    return {\n        type: \"SHOW_IMG_PREIVEW\",\n        first: first\n    };\n};\n\nexport const refreshStorage = () => {\n    return {\n        type: \"REFRESH_STORAGE\"\n    };\n};\n\nexport const saveFile = () => {\n    return {\n        type: \"SAVE_FILE\"\n    };\n};\n\nexport const setSiteConfig = config => {\n    return {\n        type: \"SET_SITE_CONFIG\",\n        config: config\n    };\n};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport classNames from \"classnames\";\nimport { sizeToString } from \"../../utils/index\";\nimport { withStyles, TableCell, TableRow, Typography } from \"@material-ui/core\";\nimport TypeIcon from \"./TypeIcon\";\nimport {lighten} from \"@material-ui/core/styles\";\nimport pathHelper from \"../../utils/page\";\nimport {withRouter} from \"react-router\";\nimport KeyboardReturnIcon from '@material-ui/icons/KeyboardReturn';\n\nconst styles = theme => ({\n    selected: {\n        \"&:hover\": {},\n        backgroundColor:\n            theme.palette.type === \"dark\"\n                ? theme.palette.background.paper\n                : lighten(theme.palette.primary.main,0.8),\n    },\n\n    selectedShared: {\n        \"&:hover\": {},\n        backgroundColor:\n            theme.palette.type === \"dark\"\n                ? lighten(theme.palette.background.paper,0.15)\n                : lighten(theme.palette.primary.main,0.8),\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n        }\n    },\n    icon: {\n        verticalAlign: \"middle\",\n        marginRight: \"20px\",\n        color: theme.palette.text.secondary\n    },\n    tableIcon:{\n        marginRight: \"20px\",\n        verticalAlign: \"middle\",\n    },\n    folderNameSelected: {\n        color: theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n        userSelect: \"none\"\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n        userSelect: \"none\"\n    },\n    folderName: {\n        marginRight: \"20px\",\n        display: \"flex\",\n    },\n    hideAuto: {\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\"\n        }\n    },\n    tableRow: {\n        padding: \"10px 16px\"\n    }\n});\n\nconst mapStateToProps = state => {\n    return {\n        selected: state.explorer.selected\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nclass TableRowCompoment extends Component {\n    state = {};\n\n    render() {\n        const { classes } = this.props;\n        const isShare = pathHelper.isSharePage(this.props.location.pathname);\n\n        let icon;\n        if (this.props.file.type === \"dir\") {\n            icon = <FolderIcon className={classes.icon} />;\n        }else if (this.props.file.type === \"up\"){\n            icon = <KeyboardReturnIcon className={classes.icon}/>\n        } else {\n           icon = <TypeIcon className={classes.tableIcon} fileName={this.props.file.name}/>\n        }\n\n        const isSelected =\n            this.props.selected.findIndex(value => {\n                return value === this.props.file;\n            }) !== -1;\n\n        return (\n            <TableRow\n                onContextMenu={this.props.contextMenu}\n                onClick={this.props.handleClick}\n                onDoubleClick={this.props.handleDoubleClick.bind(this)}\n                className={classNames(\n                    {\n                        [classes.selected]: isSelected&&!isShare,\n                        [classes.selectedShared]: isSelected&&isShare,\n                        [classes.notSelected]: !isSelected\n                    }\n                )}\n            >\n                <TableCell component=\"th\" scope=\"row\" className={classes.tableRow}>\n                    <Typography\n                        variant=\"body2\"\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected\n                        })}\n                    >\n                        {icon}\n                        {this.props.file.name}\n                    </Typography>\n                </TableCell>\n                <TableCell className={classNames(classes.hideAuto,classes.tableRow)}>\n                    <Typography\n                        variant=\"body2\"\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected\n                        })}\n                    >\n                        {\" \"}\n                        {this.props.file.type !== \"dir\" &&this.props.file.type !== \"up\"&&\n                            sizeToString(this.props.file.size)}\n                    </Typography>\n                </TableCell>\n                <TableCell className={classNames(classes.hideAuto,classes.tableRow)}>\n                    <Typography\n                        variant=\"body2\"\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected\n                        })}\n                    >\n                        {\" \"}\n                        {this.props.file.date}\n                    </Typography>\n                </TableCell>\n            </TableRow>\n        );\n    }\n}\n\nTableRowCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired\n};\n\nconst TableItem = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(TableRowCompoment)));\n\nexport default TableItem;\n","import React  from \"react\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport classNames from \"classnames\";\nimport { ButtonBase, Typography, Tooltip, makeStyles } from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\nimport {lighten} from \"@material-ui/core/styles\";\nconst useStyles = makeStyles(theme => ({\n    container: {\n        padding: \"7px\"\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\"\n        },\n        backgroundColor:\n            theme.palette.type === \"dark\"\n                ? \"#fff\"\n                : lighten(theme.palette.primary.main, 0.8)\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n            border: \"1px solid #d0d0d0\"\n        },\n        backgroundColor: theme.palette.background.paper\n    },\n\n    button: {\n        height: \"50px\",\n        border: \"1px solid \" + theme.palette.divider,\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition:\n            \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"initial\"\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"2px\",\n        color: theme.palette.text.secondary,\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\"\n                ? theme.palette.background.paper\n                : theme.palette.primary.dark,\n        fontWeight: \"500\"\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\"\n    },\n    active:{\n        border: \"2px solid \" + theme.palette.primary.light,\n    },\n}));\n\nexport default function Folder({ folder,isActive }) {\n    const selected = useSelector(state => state.explorer.selected);\n\n    const classes = useStyles();\n\n    const isSelected =\n        selected.findIndex(value => {\n            return value === folder;\n        }) !== -1;\n\n    return (\n        <ButtonBase\n            focusRipple\n            className={classNames(\n                {\n                    [classes.selected]: isSelected,\n                    [classes.notSelected]: !isSelected,\n                    [classes.active]: isActive,\n                },\n                classes.button,\n            )}\n        >\n            <div\n                className={classNames(classes.icon, {\n                    [classes.iconSelected]: isSelected,\n                    [classes.iconNotSelected]: !isSelected\n                })}\n            >\n                <FolderIcon />\n            </div>\n            <Tooltip title={folder.name} aria-label={folder.name}>\n                <Typography\n                    variant=\"body2\"\n                    className={classNames(classes.folderName, {\n                        [classes.folderNameSelected]: isSelected,\n                        [classes.folderNameNotSelected]: !isSelected\n                    })}\n                >\n                    {folder.name}\n                </Typography>\n            </Tooltip>\n        </ButtonBase>\n    );\n}\n","import React from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport Folder from \"../Folder\"\nexport default function FolderDropWarpper({ folder}) {\n    const [{ canDrop, isOver }, drop] = useDrop({\n        accept: \"object\",\n        drop: () => ({ folder }),\n        collect: monitor => ({\n            isOver: monitor.isOver(),\n            canDrop: (monitor.canDrop())\n        })\n    });\n    const isActive = canDrop && isOver;\n    return (\n        <div ref={drop}>\n        <Folder folder={folder} isActive={isActive}/></div>\n    );\n}\n  ","import React, { useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n    changeContextMenu,\n    setSelectedTarget,\n    selectFile as selectFileAction,\n    navigateTo,\n    showImgPreivew,\n    openMusicDialog,\n    toggleSnackbar,\n    dragAndDrop,\n    openLoadingDialog\n} from \"../../actions/index\";\nimport statusHelper from \"../../utils/page\";\nimport FileIcon from \"./FileIcon\";\nimport SmallIcon from \"./SmallIcon\";\nimport TableItem from \"./TableRow\";\nimport classNames from \"classnames\";\nimport { isPreviewable } from \"../../config\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useDrag } from \"react-dnd\";\nimport { getEmptyImage } from \"react-dnd-html5-backend\";\nimport DropWarpper from \"./DnD/DropWarpper\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport Auth from \"../../middleware/Auth\";\nimport { pathBack } from \"../../utils\";\n\nconst useStyles = makeStyles(() => ({\n    container: {\n        padding: \"7px\"\n    },\n    fixFlex: {\n        minWidth: 0\n    },\n    dragging: {\n        opacity: 0.4\n    }\n}));\n\nexport default function ObjectIcon(props) {\n    const path = useSelector(state => state.navigator.path);\n    const selected = useSelector(state => state.explorer.selected);\n    const viewMethod = useSelector(\n        state => state.viewUpdate.explorerViewMethod\n    );\n    const navigatorPath = useSelector(state => state.navigator.path);\n    const location = useLocation();\n    const history = useHistory();\n\n    const dispatch = useDispatch();\n    const ContextMenu = useCallback(\n        (type, open) => dispatch(changeContextMenu(type, open)),\n        [dispatch]\n    );\n    const SetSelectedTarget = useCallback(\n        targets => dispatch(setSelectedTarget(targets)),\n        [dispatch]\n    );\n\n    const NavitateTo = useCallback(targets => dispatch(navigateTo(targets)), [\n        dispatch\n    ]);\n    const ShowImgPreivew = useCallback(\n        targets => dispatch(showImgPreivew(targets)),\n        [dispatch]\n    );\n    const OpenMusicDialog = useCallback(() => dispatch(openMusicDialog()), [\n        dispatch\n    ]);\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const DragAndDrop = useCallback(\n        (source, target) => dispatch(dragAndDrop(source, target)),\n        [dispatch]\n    );\n    const OpenLoadingDialog = useCallback(\n        text => dispatch(openLoadingDialog(text)),\n        [dispatch]\n    );\n\n    const classes = useStyles();\n\n    const contextMenu = e => {\n        if (props.file.type === \"up\") {\n            return;\n        }\n        e.preventDefault();\n        if (\n            selected.findIndex(value => {\n                return value === props.file;\n            }) === -1\n        ) {\n            SetSelectedTarget([props.file]);\n        }\n        ContextMenu(\"file\", true);\n    };\n\n    const selectFile = e => {\n        dispatch(selectFileAction(props.file, e, props.index))\n    };\n    const enterFolder = () => {\n      NavitateTo(\n          path === \"/\" ? path + props.file.name : path + \"/\" + props.file.name\n      );\n    };\n    const handleClick = e => {\n        if (props.file.type === \"up\") {\n            NavitateTo(pathBack(navigatorPath));\n        }\n        if (\n            statusHelper.isMobile() ||\n            statusHelper.isSharePage(location.pathname)\n        ) {\n            selectFile(e);\n            if (props.file.type === \"dir\" && !e.ctrlKey) {\n                enterFolder();\n                return;\n            }\n        } else {\n            selectFile(e);\n        }\n    };\n\n    const handleDoubleClick = () => {\n        if (props.file.type === \"up\") {\n            return;\n        }\n        if (props.file.type === \"dir\") {\n            enterFolder();\n            return;\n        }\n        const isShare = statusHelper.isSharePage(location.pathname);\n        if (isShare) {\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                ToggleSnackbar(\"top\", \"right\", \"请先登录\", \"warning\");\n                return;\n            }\n        }\n        if (window.shareInfo && !window.shareInfo.preview) {\n            OpenLoadingDialog(\"获取下载地址...\");\n            return;\n        }\n        const previewPath =\n            selected[0].path === \"/\"\n                ? selected[0].path + selected[0].name\n                : selected[0].path + \"/\" + selected[0].name;\n        switch (isPreviewable(selected[0].name)) {\n            case \"img\":\n                ShowImgPreivew(selected[0]);\n                return;\n            case \"msDoc\":\n                if (isShare) {\n                    history.push(\n                        selected[0].key +\n                            \"/doc?name=\" +\n                            encodeURIComponent(selected[0].name) +\n                            \"&share_path=\" +\n                            encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                history.push(\n                    \"/doc?p=\" +\n                    encodeURIComponent(previewPath) +\n                        \"&id=\" +\n                        selected[0].id\n                );\n                return;\n            case \"audio\":\n                OpenMusicDialog();\n                return;\n            case \"video\":\n                if (isShare) {\n                    history.push(\n                        selected[0].key +\n                            \"/video?name=\" +\n                            encodeURIComponent(selected[0].name) +\n                            \"&share_path=\" +\n                            encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                history.push(\n                    \"/video?p=\" +\n                    encodeURIComponent(previewPath) +\n                    \"&id=\" +\n                    selected[0].id\n                );\n                return;\n            case \"edit\":\n                if (isShare) {\n                    history.push(\n                        selected[0].key +\n                            \"/text?name=\" +\n                            encodeURIComponent(selected[0].name) +\n                            \"&share_path=\" +\n                            encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                history.push(\"/text?p=\" + encodeURIComponent(previewPath) + \"&id=\" + selected[0].id);\n                return;\n            case \"pdf\":\n                if (isShare) {\n                    history.push(\n                        selected[0].key +\n                        \"/pdf?name=\" +\n                        encodeURIComponent(selected[0].name) +\n                        \"&share_path=\" +\n                        encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                history.push(\"/pdf?p=\" + encodeURIComponent(previewPath) + \"&id=\" + selected[0].id);\n                return;\n            case \"code\":\n                if (isShare) {\n                    history.push(\n                        selected[0].key +\n                        \"/code?name=\" +\n                        encodeURIComponent(selected[0].name) +\n                        \"&share_path=\" +\n                        encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                history.push(\"/code?p=\" + encodeURIComponent(previewPath) + \"&id=\" + selected[0].id);\n                return;\n            default:\n                OpenLoadingDialog(\"获取下载地址...\");\n                return;\n        }\n    };\n\n    const [{ isDragging }, drag, preview] = useDrag({\n        item: {\n            object: props.file,\n            type: \"object\",\n            selected: [...selected],\n            viewMethod: viewMethod\n        },\n        end: (item, monitor) => {\n            const dropResult = monitor.getDropResult();\n            if (item && dropResult) {\n                if (dropResult.folder) {\n                    if (\n                        item.object.id !== dropResult.folder.id ||\n                        item.object.type !== dropResult.folder.type\n                    ) {\n                        DragAndDrop(item.object, dropResult.folder);\n                    }\n                }\n            }\n        },\n        canDrag: () => {\n            return (\n                !statusHelper.isMobile() &&\n                statusHelper.isHomePage(location.pathname)\n            );\n        },\n        collect: monitor => ({\n            isDragging: monitor.isDragging()\n        })\n    });\n\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true });\n        // eslint-disable-next-line\n    }, []);\n\n    if (viewMethod === \"list\") {\n        return (\n            <TableItem\n                contextMenu={contextMenu}\n                handleClick={handleClick}\n                handleDoubleClick={handleDoubleClick.bind(this)}\n                file={props.file}\n            />\n        );\n    }\n\n    return (\n        <div\n            ref={drag}\n            className={classNames({\n                [classes.container]: viewMethod !== \"list\",\n                [classes.dragging]: isDragging\n            })}\n        >\n            <div\n                className={classes.fixFlex}\n                onContextMenu={contextMenu}\n                onClick={handleClick}\n                onDoubleClick={handleDoubleClick.bind(this)}\n            >\n                {props.file.type === \"dir\" && viewMethod !== \"list\" && (\n                    <DropWarpper folder={props.file} />\n                )}\n                {props.file.type === \"file\" && viewMethod === \"icon\" && (\n                    <FileIcon ref={drag} file={props.file} />\n                )}\n                {props.file.type === \"file\" && viewMethod === \"smallIcon\" && (\n                    <SmallIcon file={props.file} />\n                )}\n            </div>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    changeContextMenu,\n    setNavigatorLoadingStatus,\n    navigateTo,\n    openCreateFolderDialog,\n    openRenameDialog,\n    openMoveDialog,\n    openRemoveDialog,\n    openShareDialog,\n    showImgPreivew,\n    openMusicDialog,\n    toggleSnackbar,\n    openRemoteDownloadDialog,\n    openTorrentDownloadDialog,\n    openGetSourceDialog,\n    openCopyDialog,\n    openLoadingDialog,\n    setSelectedTarget,\n    openDecompressDialog, refreshFileList\n} from \"../../actions/index\";\nimport { isCompressFile, isPreviewable, isTorrent } from \"../../config\";\nimport { allowSharePreview } from \"../../utils/index\";\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\nimport DownloadIcon from \"@material-ui/icons/CloudDownload\";\nimport NewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport OpenFolderIcon from \"@material-ui/icons/FolderOpen\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport RenameIcon from \"@material-ui/icons/BorderColor\";\nimport MoveIcon from \"@material-ui/icons/Input\";\nimport LinkIcon from \"@material-ui/icons/InsertLink\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport { FilePlus, MagnetOn } from \"mdi-material-ui\";\nimport {\n    withStyles,\n    Typography,\n    MenuItem,\n    Divider,\n    ListItemIcon\n} from \"@material-ui/core\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router-dom\";\nimport Auth from \"../../middleware/Auth\";\nimport { Archive, Unarchive } from \"@material-ui/icons\";\nimport { openCompressDialog, openCreateFileDialog } from \"../../actions\";\nimport Menu from \"@material-ui/core/Menu\";\nimport {FolderUpload} from \"mdi-material-ui\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\n\nconst styles = () => ({\n    propover: {\n        minWidth: \"200px!important\"\n    },\n    divider:{\n        marginTop:4,\n        marginBottom:4,\n    }\n});\n\nconst mapStateToProps = state => {\n    return {\n        menuType: state.viewUpdate.contextType,\n        menuOpen: state.viewUpdate.contextOpen,\n        isMultiple: state.explorer.selectProps.isMultiple,\n        withFolder: state.explorer.selectProps.withFolder,\n        withFile: state.explorer.selectProps.withFile,\n        path: state.navigator.path,\n        selected: state.explorer.selected,\n        keywords: state.explorer.keywords,\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeContextMenu: (type, open) => {\n            dispatch(changeContextMenu(type, open));\n        },\n        setNavigatorLoadingStatus: status => {\n            dispatch(setNavigatorLoadingStatus(status));\n        },\n        setSelectedTarget: targets => {\n            dispatch(setSelectedTarget(targets));\n        },\n        navigateTo: path => {\n            dispatch(navigateTo(path));\n        },\n        openCreateFolderDialog: () => {\n            dispatch(openCreateFolderDialog());\n        },\n        openCreateFileDialog: () => {\n            dispatch(openCreateFileDialog());\n        },\n        openRenameDialog: () => {\n            dispatch(openRenameDialog());\n        },\n        openMoveDialog: () => {\n            dispatch(openMoveDialog());\n        },\n        openRemoveDialog: () => {\n            dispatch(openRemoveDialog());\n        },\n        openShareDialog: () => {\n            dispatch(openShareDialog());\n        },\n        showImgPreivew: first => {\n            dispatch(showImgPreivew(first));\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openRemoteDownloadDialog: () => {\n            dispatch(openRemoteDownloadDialog());\n        },\n        openTorrentDownloadDialog: () => {\n            dispatch(openTorrentDownloadDialog());\n        },\n        openGetSourceDialog: () => {\n            dispatch(openGetSourceDialog());\n        },\n        openCopyDialog: () => {\n            dispatch(openCopyDialog());\n        },\n        openLoadingDialog: text => {\n            dispatch(openLoadingDialog(text));\n        },\n        openDecompressDialog: () => {\n            dispatch(openDecompressDialog());\n        },\n        openCompressDialog: () => {\n            dispatch(openCompressDialog());\n        },\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n    };\n};\n\nclass ContextMenuCompoment extends Component {\n    X = 0;\n    Y = 0;\n\n    state = {};\n\n    componentDidMount = () => {\n        window.document.addEventListener(\"mousemove\", this.setPoint);\n    };\n\n    setPoint = e => {\n        this.Y = e.clientY;\n        this.X = e.clientX;\n    };\n\n    openArchiveDownload = () => {\n        this.props.changeContextMenu(\"file\", false);\n        this.props.openLoadingDialog(\"打包中...\");\n    };\n\n    openDownload = () => {\n        if (!allowSharePreview()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"未登录用户无法预览\",\n                \"warning\"\n            );\n            this.props.changeContextMenu(\"file\", false);\n            return;\n        }\n        this.props.changeContextMenu(\"file\", false);\n        this.props.openLoadingDialog(\"获取下载地址...\");\n    };\n\n    enterFolder = () => {\n        this.props.navigateTo(\n            this.props.path === \"/\"\n                ? this.props.path + this.props.selected[0].name\n                : this.props.path + \"/\" + this.props.selected[0].name\n        );\n    };\n\n    clickUpload = id => {\n        this.props.changeContextMenu(\"empty\", false);\n        const uploadButton = document.getElementsByClassName(id)[0];\n        if (document.body.contains(uploadButton)) {\n            uploadButton.click();\n        } else {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"上传组件还未加载完成\",\n                \"warning\"\n            );\n        }\n    };\n\n    openPreview = () => {\n        const isShare = pathHelper.isSharePage(this.props.location.pathname);\n        if (isShare) {\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"请先登录\",\n                    \"warning\"\n                );\n                this.props.changeContextMenu(\"file\", false);\n                return;\n            }\n        }\n        this.props.changeContextMenu(\"file\", false);\n        const previewPath =\n            this.props.selected[0].path === \"/\"\n                ? this.props.selected[0].path + this.props.selected[0].name\n                : this.props.selected[0].path +\n                  \"/\" +\n                  this.props.selected[0].name;\n        switch (isPreviewable(this.props.selected[0].name)) {\n            case \"img\":\n                this.props.showImgPreivew(this.props.selected[0]);\n                return;\n            case \"msDoc\":\n                if (isShare) {\n                    this.props.history.push(\n                        this.props.selected[0].key +\n                            \"/doc?name=\" +\n                            encodeURIComponent(this.props.selected[0].name) +\n                            \"&share_path=\" +\n                            encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                this.props.history.push(\n                    \"/doc?p=\" + encodeURIComponent(previewPath) + \"&id=\" + this.props.selected[0].id\n                );\n                return;\n            case \"audio\":\n                this.props.openMusicDialog();\n                return;\n            case \"video\":\n                if (isShare) {\n                    this.props.history.push(\n                        this.props.selected[0].key +\n                            \"/video?name=\" +\n                            encodeURIComponent(this.props.selected[0].name) +\n                            \"&share_path=\" +\n                            encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                this.props.history.push(\n                    \"/video?p=\" + encodeURIComponent(previewPath) + \"&id=\" + this.props.selected[0].id\n                );\n                return;\n            case \"pdf\":\n                if (isShare) {\n                    this.props.history.push(\n                        this.props.selected[0].key +\n                        \"/pdf?name=\" +\n                        encodeURIComponent(this.props.selected[0].name) +\n                        \"&share_path=\" +\n                        encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                this.props.history.push(\n                    \"/pdf?p=\" + encodeURIComponent(previewPath) + \"&id=\" + this.props.selected[0].id\n                );\n                return;\n            case \"edit\":\n                if (isShare) {\n                    this.props.history.push(\n                        this.props.selected[0].key +\n                            \"/text?name=\" +\n                            encodeURIComponent(this.props.selected[0].name) +\n                            \"&share_path=\" +\n                            encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                this.props.history.push(\n                    \"/text?p=\" + encodeURIComponent(previewPath) + \"&id=\" + this.props.selected[0].id\n                );\n                return;\n            case \"code\":\n                if (isShare) {\n                    this.props.history.push(\n                        this.props.selected[0].key +\n                        \"/code?name=\" +\n                        encodeURIComponent(this.props.selected[0].name) +\n                        \"&share_path=\" +\n                        encodeURIComponent(previewPath)\n                    );\n                    return;\n                }\n                this.props.history.push(\n                    \"/code?p=\" + encodeURIComponent(previewPath) + \"&id=\" + this.props.selected[0].id\n                );\n                return;\n            default:\n                return;\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n\n        return (\n            <div>\n                <Menu\n                    keepMounted\n                    open={this.props.menuOpen}\n                    onClose={() =>\n                        this.props.changeContextMenu(this.props.menuType, false)\n                    }\n                    anchorReference=\"anchorPosition\"\n                    anchorPosition={{ top: this.Y, left: this.X }}\n                    anchorOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"left\"\n                    }}\n                    transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"left\"\n                    }}\n                >\n                    {this.props.menuType === \"empty\" && (\n                        <>\n                            <MenuItem onClick={()=>{\n                                this.props.refreshFileList();\n                                this.props.changeContextMenu(this.props.menuType, false)\n                            }\n\n                            }>\n                                <ListItemIcon>\n                                    <RefreshIcon />\n                                </ListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    刷新\n                                </Typography>\n                            </MenuItem>\n                            <Divider className={classes.divider}/>\n                            <MenuItem onClick={()=>this.clickUpload(\"uploadFileForm\")}>\n                                <ListItemIcon>\n                                    <UploadIcon />\n                                </ListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    上传文件\n                                </Typography>\n                            </MenuItem>\n                            <MenuItem onClick={()=>this.clickUpload(\"uploadFolderForm\")}>\n                                <ListItemIcon>\n                                    <FolderUpload />\n                                </ListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    上传目录\n                                </Typography>\n                            </MenuItem>\n                            {user.group.allowRemoteDownload && (\n                                <MenuItem\n                                    onClick={() =>\n                                        this.props.openRemoteDownloadDialog()\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <DownloadIcon />\n                                    </ListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        离线下载\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            <Divider className={classes.divider}/>\n                            <MenuItem\n                                onClick={() =>\n                                    this.props.openCreateFolderDialog()\n                                }\n                            >\n                                <ListItemIcon>\n                                    <NewFolderIcon />\n                                </ListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    创建文件夹\n                                </Typography>\n                            </MenuItem>\n                            <MenuItem\n                                onClick={() =>\n                                    this.props.openCreateFileDialog()\n                                }\n                            >\n                                <ListItemIcon>\n                                    <FilePlus />\n                                </ListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    创建文件\n                                </Typography>\n                            </MenuItem>\n                        </>\n                    )}\n                    {this.props.menuType !== \"empty\" && (\n                        <>\n                            {!this.props.isMultiple && this.props.withFolder && (\n                                <>\n                                    <MenuItem onClick={this.enterFolder}>\n                                        <ListItemIcon>\n                                            <OpenFolderIcon />\n                                        </ListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            进入\n                                        </Typography>\n                                    </MenuItem>\n                                    {isHomePage && <Divider className={classes.divider} />}\n                                </>\n                            )}\n                            {!this.props.isMultiple &&\n                                this.props.withFile &&\n                                (!this.props.share ||\n                                    this.props.share.preview) &&\n                                isPreviewable(this.props.selected[0].name) && (\n                                    <>\n                                        <MenuItem\n                                            onClick={() => this.openPreview()}\n                                        >\n                                            <ListItemIcon>\n                                                <OpenIcon />\n                                            </ListItemIcon>\n                                            <Typography variant=\"inherit\">\n                                                打开\n                                            </Typography>\n                                        </MenuItem>\n                                    </>\n                                )}\n\n                            {!this.props.isMultiple && this.props.withFile && (\n                                <>\n                                    <MenuItem\n                                        onClick={() => this.openDownload()}\n                                    >\n                                        <ListItemIcon>\n                                            <DownloadIcon />\n                                        </ListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            下载\n                                        </Typography>\n                                    </MenuItem>\n                                    {isHomePage && <Divider className={classes.divider} />}\n                                </>\n                            )}\n\n                            {(this.props.isMultiple || this.props.withFolder) &&\n                                (user.group.allowArchiveDownload ||\n                                    !isHomePage) && (\n                                    <MenuItem\n                                        onClick={() =>\n                                            this.openArchiveDownload()\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <DownloadIcon />\n                                        </ListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            打包下载\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n\n                            {!this.props.isMultiple &&\n                                this.props.withFile &&\n                                isHomePage &&\n                                user.policy.allowSource && (\n                                    <MenuItem\n                                        onClick={() =>\n                                            this.props.openGetSourceDialog()\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <LinkIcon />\n                                        </ListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            获取外链\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n\n                            {!this.props.isMultiple &&\n                                isHomePage &&\n                                user.group.allowRemoteDownload &&\n                                this.props.withFile &&\n                                isTorrent(this.props.selected[0].name) && (\n                                    <MenuItem\n                                        onClick={() =>\n                                            this.props.openTorrentDownloadDialog()\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <MagnetOn />\n                                        </ListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            创建离线下载任务\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n                            {!this.props.isMultiple &&\n                                isHomePage &&\n                                user.group.compress &&\n                                this.props.withFile &&\n                                isCompressFile(this.props.selected[0].name) && (\n                                    <MenuItem\n                                        onClick={() =>\n                                            this.props.openDecompressDialog()\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <Unarchive />\n                                        </ListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            解压缩\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n\n                            {isHomePage && user.group.compress && (\n                                <MenuItem\n                                    onClick={() =>\n                                        this.props.openCompressDialog()\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <Archive />\n                                    </ListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        创建压缩文件\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <MenuItem\n                                    onClick={() => this.props.openShareDialog()}\n                                >\n                                    <ListItemIcon>\n                                        <ShareIcon />\n                                    </ListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        创建分享链接\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <>\n                                    <MenuItem\n                                        onClick={() =>\n                                            this.props.openRenameDialog()\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <RenameIcon />\n                                        </ListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            重命名\n                                        </Typography>\n                                    </MenuItem>\n                                    {this.props.keywords === \"\" &&\n                                        <MenuItem\n                                            onClick={() =>\n                                                this.props.openCopyDialog()\n                                            }\n                                        >\n                                            <ListItemIcon>\n                                                <FileCopyIcon />\n                                            </ListItemIcon>\n                                            <Typography variant=\"inherit\">\n                                                复制\n                                            </Typography>\n                                        </MenuItem>\n                                    }\n\n                                </>\n                            )}\n                            {isHomePage && (\n                                <div>\n                                    {this.props.keywords === \"\" &&\n                                        <MenuItem\n                                            onClick={() =>\n                                                this.props.openMoveDialog()\n                                            }\n                                        >\n                                            <ListItemIcon>\n                                                <MoveIcon />\n                                            </ListItemIcon>\n                                            <Typography variant=\"inherit\">\n                                                移动\n                                            </Typography>\n                                        </MenuItem>\n                                    }\n\n                                    <Divider className={classes.divider} />\n                                    <MenuItem\n                                        className={classes.propover}\n                                        onClick={() =>\n                                            this.props.openRemoveDialog()\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <DeleteIcon />\n                                        </ListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            删除\n                                        </Typography>\n                                    </MenuItem>\n                                </div>\n                            )}\n                        </>\n                    )}\n                </Menu>\n            </div>\n        );\n    }\n}\n\nContextMenuCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    menuType: PropTypes.string.isRequired\n};\n\nconst ContextMenu = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ContextMenuCompoment)));\n\nexport default ContextMenu;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    navigateTo,\n    changeContextMenu,\n    navigateUp,\n    setSelectedTarget,\n    openRemoveDialog,\n} from \"../../actions/index\";\nimport explorer from \"../../redux/explorer\"\nimport ObjectIcon from \"./ObjectIcon\";\nimport ContextMenu from \"./ContextMenu\";\nimport EmptyIcon from \"@material-ui/icons/Unarchive\";\nimport SadIcon from \"@material-ui/icons/SentimentVeryDissatisfied\";\nimport classNames from \"classnames\";\nimport ImgPreivew from \"./ImgPreview\";\nimport pathHelper from \"../../utils/page\";\nimport { isMac } from \"../../utils\"\nimport { withRouter } from \"react-router-dom\";\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    withStyles,\n    Typography,\n    Grid,\n    CircularProgress,\n    Paper,\n} from \"@material-ui/core\";\nimport { GlobalHotKeys,  configure } from \"react-hotkeys\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\n\nconst styles = theme => ({\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: \"center\",\n        color: theme.palette.text.secondary,\n        margin: \"10px\"\n    },\n    root: {\n        flexGrow: 1,\n        padding: \"10px\",\n        overflowY: \"auto\",\n        height: \"calc(100vh - 113px)\",\n        [theme.breakpoints.up(\"sm\")]: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 113px)\"\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"100%\"\n        }\n    },\n    rootTable: {\n        padding: \"0px\",\n        backgroundColor: theme.palette.background.paper.white,\n        [theme.breakpoints.up(\"sm\")]: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 113px)\"\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"100%\"\n        }\n    },\n    typeHeader: {\n        margin: \"10px 25px\",\n        color: \"#6b6b6b\",\n        fontWeight: \"500\"\n    },\n    loading: {\n        justifyContent: \"center\",\n        display: \"flex\",\n        marginTop: \"40px\"\n    },\n    errorBox: {\n        padding: theme.spacing(4)\n    },\n    errorMsg: {\n        marginTop: \"10px\"\n    },\n    emptyContainer: {\n        bottom: \"0\",\n        height: \"300px\",\n        margin: \"50px auto\",\n        width: \"300px\",\n        color: theme.palette.text.disabled,\n        textAlign: \"center\",\n        paddingTop: \"20px\"\n    },\n    emptyIcon: {\n        fontSize: \"160px\"\n    },\n    emptyInfoBig: {\n        fontSize: \"25px\",\n        color: theme.palette.text.disabled\n    },\n    emptyInfoSmall: {\n        color: theme.palette.text.hint\n    },\n    hideAuto: {\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\"\n        }\n    },\n    flexFix: {\n        minWidth: 0\n    },\n    upButton: {\n        marginLeft: \"20px\",\n        marginTop: \"10px\",\n        marginBottom: \"10px\"\n    },\n    clickAway: {\n        height: \"100%\",\n        width: \"100%\"\n    },\n    rootShare: {\n        height: \"100%\",\n        minHeight: 500\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1\n    }\n});\n\nconst mapStateToProps = state => {\n    return {\n        path: state.navigator.path,\n        drawerDesktopOpen: state.viewUpdate.open,\n        viewMethod: state.viewUpdate.explorerViewMethod,\n        sortMethod: state.viewUpdate.sortMethod,\n        fileList: state.explorer.fileList,\n        dirList: state.explorer.dirList,\n        loading: state.viewUpdate.navigatorLoading,\n        navigatorError: state.viewUpdate.navigatorError,\n        navigatorErrorMsg: state.viewUpdate.navigatorErrorMsg,\n        keywords: state.explorer.keywords,\n        selected: state.explorer.selected\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        navigateToPath: path => {\n            dispatch(navigateTo(path));\n        },\n\n        changeContextMenu: (type, open) => {\n            dispatch(changeContextMenu(type, open));\n        },\n        navigateUp: () => {\n            dispatch(navigateUp());\n        },\n        setSelectedTarget: targets => {\n            dispatch(setSelectedTarget(targets));\n        },\n        openRemoveDialog: () => {\n            dispatch(openRemoveDialog());\n        },\n        changeSort: method => {\n            dispatch(explorer.actions.changeSortMethod(method));\n        }\n    };\n};\n\nclass ExplorerCompoment extends Component {\n    constructor() {\n        super();\n        this.keyMap = {\n            DELETE_FILE: \"del\",\n            SELECT_ALL: `${isMac() ? 'command' : 'ctrl'}+a`\n        };\n\n        this.handlers = {\n            DELETE_FILE: () => {\n                if (this.props.selected.length > 0 && !this.props.share) {\n                    this.props.openRemoveDialog();\n                }\n            },\n            SELECT_ALL: e => {\n                e.preventDefault();\n                if (\n                    this.props.selected.length >=\n                    this.props.dirList.length + this.props.fileList.length\n                ) {\n                    this.props.setSelectedTarget([]);\n                } else {\n                    this.props.setSelectedTarget([\n                        ...this.props.dirList,\n                        ...this.props.fileList\n                    ]);\n                }\n            }\n        };\n\n        configure({\n            ignoreTags: ['input', 'select', 'textarea'],\n        })\n    }\n\n    contextMenu = e => {\n        e.preventDefault();\n        if (\n            this.props.keywords === \"\" &&\n            !pathHelper.isSharePage(this.props.location.pathname)\n        ) {\n            if (!this.props.loading) {\n                this.props.changeContextMenu(\"empty\", true);\n            }\n        }\n    };\n\n    componentDidUpdate() {\n        this.away = 0;\n    }\n\n    ClickAway = e => {\n        const element = e.target;\n        if (element.dataset.clickaway) {\n            this.props.setSelectedTarget([]);\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n\n        const showView = !this.props.loading && (this.props.dirList.length !== 0 ||\n          this.props.fileList.length !== 0)\n        const listView = (\n          <Table className={classes.table}>\n            <TableHead>\n              <TableRow>\n                <TableCell>\n                  <TableSortLabel\n                    active={\n                      this.props.sortMethod ===\n                      \"namePos\" ||\n                      this.props.sortMethod ===\n                      \"nameRev\"\n                    }\n                    direction={\n                      this.props.sortMethod ===\n                        \"namePos\"\n                        ? \"asc\"\n                        : \"des\"\n                    }\n                    onClick={() => {\n                      this.props.changeSort(\n                        this.props.sortMethod ===\n                          \"namePos\"\n                          ? \"nameRev\"\n                          : \"namePos\"\n                      );\n                    }}\n                  >\n                    名称\n                    {this.props.sortMethod ===\n                      \"namePos\" ||\n                      this.props.sortMethod ===\n                      \"nameRev\" ? (\n                        <span\n                          className={\n                            classes.visuallyHidden\n                          }\n                        >\n                          {this.props.sortMethod ===\n                            \"nameRev\"\n                            ? \"sorted descending\"\n                            : \"sorted ascending\"}\n                        </span>\n                      ) : null}\n                  </TableSortLabel>\n                </TableCell>\n                <TableCell className={classes.hideAuto}>\n                  <TableSortLabel\n                    active={\n                      this.props.sortMethod ===\n                      \"sizePos\" ||\n                      this.props.sortMethod ===\n                      \"sizeRes\"\n                    }\n                    direction={\n                      this.props.sortMethod ===\n                        \"sizePos\"\n                        ? \"asc\"\n                        : \"des\"\n                    }\n                    onClick={() => {\n                      this.props.changeSort(\n                        this.props.sortMethod ===\n                          \"sizePos\"\n                          ? \"sizeRes\"\n                          : \"sizePos\"\n                      );\n                    }}\n                  >\n                    大小\n                    {this.props.sortMethod ===\n                      \"sizePos\" ||\n                      this.props.sortMethod ===\n                      \"sizeRes\" ? (\n                        <span\n                          className={\n                            classes.visuallyHidden\n                          }\n                        >\n                          {this.props.sortMethod ===\n                            \"sizeRes\"\n                            ? \"sorted descending\"\n                            : \"sorted ascending\"}\n                        </span>\n                      ) : null}\n                  </TableSortLabel>\n                </TableCell>\n                <TableCell className={classes.hideAuto}>\n                  <TableSortLabel\n                    active={\n                      this.props.sortMethod ===\n                      \"timePos\" ||\n                      this.props.sortMethod ===\n                      \"timeRev\"\n                    }\n                    direction={\n                      this.props.sortMethod ===\n                        \"timePos\"\n                        ? \"asc\"\n                        : \"des\"\n                    }\n                    onClick={() => {\n                      this.props.changeSort(\n                        this.props.sortMethod ===\n                          \"timePos\"\n                          ? \"timeRev\"\n                          : \"timePos\"\n                      );\n                    }}\n                  >\n                    日期\n                    {this.props.sortMethod ===\n                      \"timePos\" ||\n                      this.props.sortMethod ===\n                      \"timeRev\" ? (\n                        <span\n                          className={\n                            classes.visuallyHidden\n                          }\n                        >\n                          {this.props.sortMethod ===\n                            \"sizeRes\"\n                            ? \"sorted descending\"\n                            : \"sorted ascending\"}\n                        </span>\n                      ) : null}\n                  </TableSortLabel>\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {pathHelper.isMobile() &&\n                this.props.path !== \"/\" && (\n                  <ObjectIcon\n                    file={{\n                      type: \"up\",\n                      name: \"上级目录\"\n                    }}\n                  />\n                )}\n              {this.props.dirList.map((value, index) => (\n                <ObjectIcon key={value.id} file={value} index={index}/>\n              ))}\n              {this.props.fileList.map((value, index) => (\n                <ObjectIcon key={value.id} file={value} index={index}/>\n              ))}\n            </TableBody>\n          </Table>\n        )\n\n        const normalView = (\n          <div className={classes.flexFix}>\n              {this.props.dirList.length !== 0 &&\n              (\n                <>\n                  <Typography\n                      data-clickAway={\"true\"}\n                      variant=\"body2\"\n                      className={classes.typeHeader}\n                  >\n                      文件夹\n                  </Typography>\n                  <Grid\n                      data-clickAway={\"true\"}\n                      container\n                      spacing={0}\n                      alignItems=\"flex-start\"\n                  >\n                      {this.props.dirList.map(\n                          (value, index) => (\n                              <Grid\n                                  key={value.id}\n                                  item\n                                  xs={6}\n                                  md={3}\n                                  sm={4}\n                                  lg={2}\n                              >\n                                  <ObjectIcon\n                                      key={value.id}\n                                      file={value}\n                                      index={index}\n                                  />\n                              </Grid>\n                          )\n                      )}\n                  </Grid>\n                </>\n              )}\n              {this.props.fileList.length !== 0 &&\n              (\n                <>\n                  <Typography\n                      data-clickAway={\"true\"}\n                      variant=\"body2\"\n                      className={classes.typeHeader}\n                  >\n                      文件\n                  </Typography>\n                  <Grid\n                      data-clickAway={\"true\"}\n                      container\n                      spacing={0}\n                      alignItems=\"flex-start\"\n                  >\n                      {this.props.fileList.map(\n                          (value, index) => (\n                              <Grid\n                                  key={value.id}\n                                  item\n                                  xs={6}\n                                  md={3}\n                                  sm={4}\n                                  lg={2}\n                              >\n                                  <ObjectIcon\n                                      key={value.id}\n                                      index={index}\n                                      file={value}\n                                  />\n                              </Grid>\n                          )\n                      )}\n                  </Grid>\n                </>\n            )}\n          </div>\n        )\n        const view = this.props.viewMethod === \"list\" ? listView : normalView\n        return (\n            <div\n                onContextMenu={this.contextMenu}\n                onClick={this.ClickAway}\n                data-clickAway={\"true\"}\n                className={classNames(\n                    {\n                        [classes.root]: this.props.viewMethod !== \"list\",\n                        [classes.rootTable]: this.props.viewMethod === \"list\",\n                        [classes.rootShare]: this.props.share\n                    },\n                    classes.button\n                )}\n            >\n                <GlobalHotKeys handlers={this.handlers} keyMap={this.keyMap} />\n                <ContextMenu share={this.props.share} />\n                <ImgPreivew />\n                {this.props.navigatorError && (\n                    <Paper elevation={1} className={classes.errorBox}>\n                        <Typography variant=\"h5\" component=\"h3\">\n                            :( 请求时出现错误\n                        </Typography>\n                        <Typography\n                            color={\"textSecondary\"}\n                            className={classes.errorMsg}\n                        >\n                            {this.props.navigatorErrorMsg.message}\n                        </Typography>\n                    </Paper>\n                )}\n\n                {this.props.loading && !this.props.navigatorError && (\n                    <div className={classes.loading}>\n                        <CircularProgress />\n                    </div>\n                )}\n\n                {this.props.keywords === \"\" &&\n                    isHomePage &&\n                    this.props.dirList.length === 0 &&\n                    this.props.fileList.length === 0 &&\n                    !this.props.loading &&\n                    !this.props.navigatorError && (\n                        <div className={classes.emptyContainer}>\n                            <EmptyIcon className={classes.emptyIcon} />\n                            <div className={classes.emptyInfoBig}>\n                                拖拽文件至此\n                            </div>\n                            <div className={classes.emptyInfoSmall}>\n                                或点击右下方“上传文件”按钮添加文件\n                            </div>\n                        </div>\n                    )}\n                {((this.props.keywords !== \"\" &&\n                    this.props.dirList.length === 0 &&\n                    this.props.fileList.length === 0 &&\n                    !this.props.loading &&\n                    !this.props.navigatorError) ||\n                    (this.props.dirList.length === 0 &&\n                        this.props.fileList.length === 0 &&\n                        !this.props.loading &&\n                        !this.props.navigatorError &&\n                        !isHomePage)) && (\n                    <div className={classes.emptyContainer}>\n                        <SadIcon className={classes.emptyIcon} />\n                        <div className={classes.emptyInfoBig}>\n                            什么都没有找到\n                        </div>\n                    </div>\n                )}\n                {showView && view}\n            </div>\n        );\n    }\n}\n\nExplorerCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    path: PropTypes.string.isRequired\n};\n\nconst Explorer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ExplorerCompoment)));\n\nexport default Explorer;\n","export const isDefined = val => val != null\nexport const isFunction = val => typeof val === 'function'\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport const noop = () => { }\n\nexport const newScript = (src) => (cb) => {\n  const scriptElem = document.createElement('script')\n  if (typeof src === 'object') {\n    // copy every property to the element\n    for (const key in src) {\n      if (Object.prototype.hasOwnProperty.call(src, key)) {\n        scriptElem[key] = src[key];\n      }\n    }\n    src = src.src;\n  } else {\n    scriptElem.src = src\n  }\n  scriptElem.addEventListener('load', () => cb(null, src))\n  scriptElem.addEventListener('error', () => cb(true, src))\n  document.body.appendChild(scriptElem)\n  return scriptElem\n}\n\nconst keyIterator = (cols) => {\n  const keys = Object.keys(cols)\n  let i = -1\n  return {\n    next () {\n      i++ // inc\n      if (i >= keys.length) return null\n      else return keys[i]\n    }\n  }\n}\n\n// tasks should be a collection of thunk\nexport const parallel = (...tasks) => (each) => (cb) => {\n  let hasError = false\n  let successed = 0\n  const ret = []\n  tasks = tasks.filter(isFunction)\n\n  if (tasks.length <= 0) cb(null)\n  else {\n    tasks.forEach((task, i) => {\n      const thunk = task\n      thunk((err, ...args) => {\n        if (err) hasError = true\n        else {\n          // collect result\n          if (args.length <= 1) args = args[0]\n\n          ret[i] = args\n          successed ++\n        }\n\n        if (isFunction(each)) each.call(null, err, args, i)\n\n        if (hasError) cb(true)\n        else if (tasks.length === successed) {\n          cb(null, ret)\n        }\n      })\n    })\n  }\n}\n\n// tasks should be a collection of thunk\nexport const series = (...tasks) => (each) => (cb) => {\n  tasks = tasks.filter(val => val != null)\n  const nextKey = keyIterator(tasks)\n  const nextThunk = () => {\n    const key = nextKey.next()\n    let thunk = tasks[key]\n    // eslint-disable-next-line prefer-spread\n    if (Array.isArray(thunk)) thunk = parallel.apply(null, thunk).call(null, each)\n    return [ +key, thunk ] // convert `key` to number\n  }\n  let key, thunk\n  let next = nextThunk()\n  key = next[0]\n  thunk = next[1]\n  if (thunk == null) return cb(null)\n\n  const ret = []\n  const iterator = () => {\n    thunk((err, ...args) => {\n      if (args.length <= 1) args = args[0]\n      if (isFunction(each)) each.call(null, err, args, key)\n\n      if (err) cb(err)\n      else {\n        // collect result\n        ret.push(args)\n\n        next = nextThunk()\n        key = next[0]\n        thunk = next[1]\n        if (thunk == null) return cb(null, ret) // finished\n        else iterator()\n      }\n    })\n  }\n  iterator()\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport hoistStatics from \"hoist-non-react-statics\";\nimport { newScript, series, noop } from \"./utils\";\n\nconst loadedScript = [];\nconst pendingScripts = {};\nlet failedScript = [];\n\nconst addCache = entry => {\n    if (loadedScript.indexOf(entry) < 0) {\n        loadedScript.push(entry);\n    }\n};\n\nconst removeFailedScript = () => {\n    if (failedScript.length > 0) {\n        failedScript.forEach(script => {\n            const node = document.querySelector(`script[src='${script}']`);\n            if (node != null) {\n                node.parentNode.removeChild(node);\n            }\n        });\n\n        failedScript = [];\n    }\n};\n\nexport function startLoadingScripts(scripts, onComplete = noop) {\n  // sequence load\n  const loadNewScript = script => {\n      const src = typeof script === \"object\" ? script.src : script;\n      if (loadedScript.indexOf(src) < 0) {\n          return taskComplete => {\n              const callbacks = pendingScripts[src] || [];\n              callbacks.push(taskComplete);\n              pendingScripts[src] = callbacks;\n              if (callbacks.length === 1) {\n                  return newScript(script)(err => {\n                      pendingScripts[src].forEach(cb => cb(err, src));\n                      delete pendingScripts[src];\n                  });\n              }\n          };\n      }\n  };\n  const tasks = scripts.map(src => {\n      if (Array.isArray(src)) {\n          return src.map(loadNewScript);\n      } else return loadNewScript(src);\n  });\n\n  series(...tasks)((err, src) => {\n      if (err) {\n          failedScript.push(src);\n      } else {\n          if (Array.isArray(src)) {\n              src.forEach(addCache);\n          } else addCache(src);\n      }\n  })(err => {\n      removeFailedScript();\n      onComplete(err);\n  });\n}\n\nconst uploaderLoader = () => WrappedComponent => {\n    class ScriptLoader extends Component {\n        static propTypes = {\n            onScriptLoaded: PropTypes.func\n        };\n\n        static defaultProps = {\n            onScriptLoaded: noop\n        };\n\n        constructor(props, context) {\n            super(props, context);\n\n            this.state = {\n                isScriptLoaded: false,\n                isScriptLoadSucceed: false\n            };\n\n            this._isMounted = false;\n        }\n\n        componentDidMount() {\n            this._isMounted = true;\n            const scripts = [\n                [\"https://cdn.jsdelivr.net/gh/742481030/cloudreve-static@0.3.1.1/static/js/uploader/moxie.js\"],\n                [\"https://cdn.jsdelivr.net/gh/742481030/cloudreve-static@0.3.1.1/static/js/uploader/plupload.dev.js\"],\n                [\"https://cdn.jsdelivr.net/gh/742481030/cloudreve-static@0.3.1.1/static/js/uploader/i18n/zh_CN.js\"],\n                [\"https://cdn.jsdelivr.net/gh/742481030/cloudreve-static@0.3.1.1/static/js/uploader/ui.js\"],\n                [\"https://cdn.jsdelivr.net/gh/742481030/cloudreve-static@0.3.1.1/static/js/uploader/uploader_\" + window.policyType + \".js\"]\n            ];\n            startLoadingScripts(scripts, err => {\n                if (this._isMounted) {\n                    this.setState(\n                        {\n                            isScriptLoaded: true,\n                            isScriptLoadSucceed: !err\n                        },\n                        () => {\n                            if (!err) {\n                                this.props.onScriptLoaded();\n                            }\n                        }\n                    );\n                }\n            });\n        }\n\n        componentWillUnmount() {\n            this._isMounted = false;\n        }\n\n        getWrappedInstance() {\n            // eslint-disable-next-line react/no-string-refs\n            return this.refs.wrappedInstance;\n        }\n\n        render() {\n            const props = {\n                ...this.props,\n                ...this.state,\n                ref: \"wrappedInstance\"\n            };\n\n            return <WrappedComponent {...props} />;\n        }\n    }\n\n    return hoistStatics(ScriptLoader, WrappedComponent);\n};\n\nexport default uploaderLoader;\n","import React, { Component } from \"react\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport AddIcon from \"@material-ui/icons/AddCircleOutline\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\nimport { darken, lighten } from \"@material-ui/core/styles/colorManipulator\";\nimport {\n    withStyles,\n    Dialog,\n    ListItemText,\n    ListItem,\n    List,\n    Divider,\n    AppBar,\n    Toolbar,\n    IconButton,\n    Typography,\n    Slide,\n    ListItemSecondaryAction,\n    withWidth,\n    DialogContent\n} from \"@material-ui/core\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport { withTheme } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    appBar: {\n        position: \"relative\"\n    },\n    flex: {\n        flex: 1\n    },\n    progressBar: {\n        marginTop: 5\n    },\n    minHight: {\n        [theme.breakpoints.up(\"sm\")]: {\n            minWidth: 500\n        },\n        padding: 0\n    },\n    dialogContent: {\n        padding: 0\n    },\n    successStatus: {\n        color: \"#4caf50\"\n    },\n    errorStatus: {\n        color: \"#ff5722\",\n        wordBreak: \"break-all\"\n    },\n    listAction: {\n        marginLeft: 20,\n        marginRight: 20\n    },\n    delete: {\n        zIndex: 9\n    },\n    progressContainer: {\n        position: \"relative\"\n    },\n    progressContent: {\n        position: \"relative\",\n        zIndex: 9\n    },\n    progress: {\n        transition: \"width .4s linear\",\n        zIndex: 1,\n        height: \"100%\",\n        position: \"absolute\",\n        left: 0,\n        top: 0\n    },\n    fileName:{\n        wordBreak: \"break-all\",\n    }\n});\nclass FileList extends Component {\n    state = {\n        open: false,\n        files: []\n    };\n\n    //入队\n    enQueue(files) {\n        this.setState({\n            files: [...this.state.files, ...files]\n        });\n    }\n\n    deQueue(file) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex(f => {\n            return f.id === file.id;\n        });\n        if (fileID !== -1) {\n            filesNow.splice(fileID, 1);\n            this.setState({\n                files: filesNow,\n                open: filesNow.length !== 0\n            });\n        }\n    }\n\n    updateStatus(file) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex(f => {\n            return f.id === file.id;\n        });\n        if (!file.errMsg || file.ignoreMsg) {\n            if (filesNow[fileID] && filesNow[fileID].status !== 4) {\n                filesNow[fileID] = file;\n                this.setState({\n                    files: filesNow\n                });\n            }\n        } else {\n            file.ignoreMsg = true;\n        }\n    }\n\n    setComplete(file) {\n        console.log(\"setComplete\");\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex(f => {\n            return f.id === file.id;\n        });\n        if (fileID !== -1) {\n            if (filesNow[fileID].status !== 4) {\n                filesNow[fileID].status = 5;\n                this.setState({\n                    files: filesNow\n                });\n            }\n        }\n    }\n\n    setError(file, errMsg) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex(f => {\n            return f.id === file.id;\n        });\n        if (fileID !== -1) {\n            filesNow[fileID].status = 4;\n            filesNow[fileID].errMsg = errMsg;\n        } else {\n            file.status = 4;\n            file.errMsg = errMsg;\n            filesNow.push(file);\n        }\n        this.setState({\n            files: filesNow\n        });\n    }\n\n    Transition(props) {\n        return <Slide direction=\"up\" {...props} />;\n    }\n    openFileList = () => {\n        if (!this.state.open) {\n            this.setState({ open: true });\n        }\n    };\n\n    cancelUpload = file => {\n        this.props.cancelUpload(file);\n        this.deQueue(file);\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    addNewFile = () => {\n        document.getElementsByClassName(\"uploadFileForm\")[0].click();\n    };\n\n    getProgressBackground = () => {\n        return this.props.theme.palette.type === \"light\"\n            ? lighten(this.props.theme.palette.primary.main, 0.8)\n            : darken(this.props.theme.palette.background.paper, 0.2);\n    };\n\n    render() {\n        const { classes } = this.props;\n        const { width } = this.props;\n\n        this.props.inRef({\n            openFileList: this.openFileList.bind(this),\n            enQueue: this.enQueue.bind(this),\n            updateStatus: this.updateStatus.bind(this),\n            setComplete: this.setComplete.bind(this),\n            setError: this.setError.bind(this)\n        });\n\n        return (\n            <Dialog\n                fullScreen={isWidthDown(\"sm\", width)}\n                open={this.state.open}\n                onClose={this.handleClose}\n                TransitionComponent={this.Transition}\n            >\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton\n                            color=\"inherit\"\n                            onClick={this.handleClose}\n                            aria-label=\"Close\"\n                        >\n                            <CloseIcon />\n                        </IconButton>\n                        <Typography\n                            variant=\"h6\"\n                            color=\"inherit\"\n                            className={classes.flex}\n                        >\n                            上传队列\n                        </Typography>\n                        <IconButton color=\"inherit\" onClick={this.addNewFile}>\n                            <AddIcon />\n                        </IconButton>\n                    </Toolbar>\n                </AppBar>\n                <DialogContent className={classes.dialogContent}>\n                    <List className={classes.minHight}>\n                        {this.state.files.map((item, i) => (\n                            <div key={i} className={classes.progressContainer}>\n                                {item.status === 2 && (\n                                    <div\n                                        style={{\n                                            backgroundColor: this.getProgressBackground(),\n                                            width: item.percent + \"%\"\n                                        }}\n                                        className={classes.progress}\n                                    />\n                                )}\n                                <ListItem\n                                    className={classes.progressContent}\n                                    button\n                                >\n                                    <TypeIcon fileName={item.name} isUpload />\n                                    {item.status === 1 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={<div>排队中...</div>}\n                                        />\n                                    )}\n                                    {item.status === 2 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={\n                                                <div>\n                                                    {item.percent <= 99 && (\n                                                        <>\n                                                            {window.plupload\n                                                                .formatSize(\n                                                                    item.speed\n                                                                )\n                                                                .toUpperCase()}\n                                                            /s 已上传{\" \"}\n                                                            {window.plupload\n                                                                .formatSize(\n                                                                    item.loaded\n                                                                )\n                                                                .toUpperCase()}{\" \"}\n                                                            , 共{\" \"}\n                                                            {window.plupload\n                                                                .formatSize(\n                                                                    item.size\n                                                                )\n                                                                .toUpperCase()}{\" \"}\n                                                            - {item.percent}%{\" \"}\n                                                        </>\n                                                    )}\n                                                    {item.percent > 99 && (\n                                                        <div>处理中...</div>\n                                                    )}\n                                                </div>\n                                            }\n                                        />\n                                    )}\n                                    {item.status === 3 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={item.status}\n                                        />\n                                    )}\n                                    {item.status === 4 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={\n                                                <div\n                                                    className={\n                                                        classes.errorStatus\n                                                    }\n                                                >\n                                                    {item.errMsg}\n                                                    <br />\n                                                </div>\n                                            }\n                                        />\n                                    )}\n                                    {item.status === 5 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={\n                                                <div\n                                                    className={\n                                                        classes.successStatus\n                                                    }\n                                                >\n                                                    已完成\n                                                    <br />\n                                                </div>\n                                            }\n                                        />\n                                    )}\n                                    <ListItemSecondaryAction\n                                        className={classes.delete}\n                                    >\n                                        <IconButton\n                                            aria-label=\"Delete\"\n                                            onClick={() =>\n                                                this.cancelUpload(item)\n                                            }\n                                        >\n                                            <DeleteIcon />\n                                        </IconButton>\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                                <Divider />\n                            </div>\n                        ))}\n                    </List>\n                </DialogContent>\n            </Dialog>\n        );\n    }\n}\nFileList.propTypes = {};\n\nexport default withStyles(styles)(withWidth()(withTheme(FileList)));\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { makeStyles, Badge } from \"@material-ui/core\";\nimport SpeedDial from \"@material-ui/lab/SpeedDial\";\nimport SpeedDialIcon from \"@material-ui/lab/SpeedDialIcon\";\nimport SpeedDialAction from \"@material-ui/lab/SpeedDialAction\";\nimport CreateNewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport PublishIcon from \"@material-ui/icons/Publish\";\nimport { openCreateFileDialog, openCreateFolderDialog, toggleSnackbar } from \"../../actions\";\nimport {useDispatch} from \"react-redux\";\nimport AutoHidden from \"./AutoHidden\";\nimport statusHelper from \"../../utils/page\"\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport {FolderUpload,FilePlus} from \"mdi-material-ui\";\n\nconst useStyles = makeStyles(() => ({\n    fab: {\n        margin: 0,\n        top: \"auto\",\n        right: 20,\n        bottom: 20,\n        left: \"auto\",\n        zIndex: 5,\n        position: \"fixed\"\n    },\n    badge: {\n        position: \"absolute\",\n        bottom: 26,\n        top: \"auto\",\n        zIndex: 9999,\n        right: 7\n    },\n    '@global': {\n        '.MuiSpeedDialAction-staticTooltipLabel': {\n            width:100,\n        },\n    },\n}));\n\nexport default function UploadButton(props) {\n    const [open, setOpen] = useState(false);\n    const [queued, setQueued] = useState(5);\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const OpenNewFolderDialog = useCallback(\n        () =>\n            dispatch(openCreateFolderDialog()),\n        [dispatch]\n    );\n    const OpenNewFileDialog = useCallback(\n        () =>\n            dispatch(openCreateFileDialog()),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setQueued(props.Queued);\n    }, [props.Queued]);\n\n    const openUpload = id =>{\n      const uploadButton = document.getElementsByClassName(\n          id\n      )[0];\n      if (document.body.contains(uploadButton)) {\n          uploadButton.click();\n      } else {\n          ToggleSnackbar(\n              \"top\",\n              \"right\",\n              \"上传组件还未加载完成\",\n              \"warning\"\n          );\n      }\n    };\n    const uploadClicked = () => {\n        if (open) {\n            if (queued !== 0) {\n                props.openFileList();\n            } else {\n                openUpload(\"uploadFileForm\");\n            }\n        }\n    };\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <AutoHidden enable>\n            <Badge\n                badgeContent={queued}\n                classes={{\n                    badge: classes.badge // class name, e.g. `root-x`\n                }}\n                className={classes.fab}\n                invisible={queued === 0}\n                color=\"primary\"\n            >\n                <Backdrop open={open && statusHelper.isMobile()} />\n                <SpeedDial\n                    ariaLabel=\"SpeedDial openIcon example\"\n                    hidden={false}\n                    tooltipTitle=\"上传文件\"\n                    icon={<SpeedDialIcon openIcon={!statusHelper.isMobile()&&<PublishIcon />} />}\n                    onClose={handleClose}\n                    FabProps={{\n                         onClick: () => !statusHelper.isMobile() && uploadClicked(),\n                        color: \"secondary\",\n                    }}\n                    onOpen={handleOpen}\n                    open={open}\n                >\n                    {statusHelper.isMobile() && <SpeedDialAction\n                        key=\"NewFolder\"\n                        icon={<PublishIcon />}\n                        tooltipOpen\n                        tooltipTitle=\"上传文件\"\n                        onClick= {() => uploadClicked()}\n                        title={\"上传文件\"}/>}\n                    {!statusHelper.isMobile() && <SpeedDialAction\n                        key=\"NewFolder\"\n                        icon={<FolderUpload />}\n                        tooltipOpen\n                        tooltipTitle=\"上传目录\"\n                        onClick= {() => openUpload(\"uploadFolderForm\")}\n                        title={\"上传目录\"}/>}\n                    <SpeedDialAction\n                        key=\"NewFolder\"\n                        icon={<CreateNewFolderIcon />}\n                        tooltipOpen\n                        tooltipTitle=\"新建目录\"\n                        onClick= {() => OpenNewFolderDialog()}\n                     title={\"新建目录\"}/>\n                    <SpeedDialAction\n                        key=\"NewFile\"\n                        icon={<FilePlus />}\n                        tooltipOpen\n                        tooltipTitle=\"新建文件\"\n                        onClick= {() => OpenNewFileDialog()}\n                        title={\"新建文件\"}/>\n\n                </SpeedDial>\n            </Badge>\n        </AutoHidden>\n    );\n}\n","import React, { Component } from \"react\";\nimport uploaderLoader from \"../../loader\";\nimport { connect } from \"react-redux\";\nimport { refreshFileList, refreshStorage, toggleSnackbar } from \"../../actions\";\nimport FileList from \"./FileList.js\";\nimport Auth from \"../../middleware/Auth\";\nimport UploadButton from \"../Dial/Create.js\";\nimport { basename, pathJoin } from \"../../utils\";\n\nlet loaded = false;\n\nconst mapStateToProps = state => {\n    return {\n        path: state.navigator.path,\n        keywords: state.explorer.keywords\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        refreshStorage: () => {\n            dispatch(refreshStorage());\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        }\n    };\n};\n\nclass UploaderComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            queued: 0\n        };\n    }\n\n    setRef(val) {\n        window.fileList = val;\n    }\n\n    cancelUpload(file) {\n        this.uploader.removeFile(file);\n    }\n\n    getChunkSize(policyType) {\n        if (policyType === \"qiniu\") {\n            return 4 * 1024 * 1024;\n        }\n        if (policyType === \"onedrive\") {\n            return 100 * 1024 * 1024;\n        }\n        return 0;\n    }\n\n    fileAdd = (up, files) => {\n        const path = window.currntPath ? window.currntPath : this.props.path;\n        if (\n            this.props.keywords === \"\" &&\n            window.location.href\n                .split(\"#\")[1]\n                .toLowerCase()\n                .startsWith(\"/home\")\n        ) {\n            window.fileList[\"openFileList\"]();\n            const enqueFiles = files\n              // 不上传Mac下的布局文件 .DS_Store\n              .filter(file => {\n                const isDsStore = file.name.toLowerCase() === \".ds_store\"\n                if (isDsStore) {\n                  up.removeFile(file)\n                }\n                return !isDsStore\n              })\n              .map(file => {\n                const source = file.getSource();\n                if (source.relativePath && source.relativePath !== \"\") {\n                  file.path =  basename(\n                        pathJoin([path, source.relativePath])\n                    );\n                    window.pathCache[file.id] = basename(\n                        pathJoin([path, source.relativePath])\n                    );\n                } else {\n                    window.pathCache[file.id] = path;\n                    file.path = path;\n                }\n                return file\n              })\n            window.fileList[\"enQueue\"](enqueFiles);\n        } else {\n            window.plupload.each(files, files => {\n                up.removeFile(files);\n            });\n        }\n    };\n\n    UNSAFE_componentWillReceiveProps({ isScriptLoaded, isScriptLoadSucceed }) {\n        if (isScriptLoaded && !this.props.isScriptLoaded) {\n            // load finished\n            if (isScriptLoadSucceed) {\n                if (loaded) {\n                    return;\n                }\n                loaded = true;\n                const user = Auth.GetUser();\n                this.uploader = window.Qiniu.uploader({\n                    runtimes: \"html5\",\n                    browse_button: [\"pickfiles\", \"pickfolder\"],\n                    container: \"container\",\n                    drop_element: \"container\",\n                    max_file_size: user.policy.maxSize === \"0.00mb\" ? 0 :user.policy.maxSize,\n                    dragdrop: true,\n                    chunk_size: this.getChunkSize(user.policy.saveType),\n                    filters: {\n                        mime_types:\n                            (user.policy.allowedType === null || user.policy.allowedType.length === 0)\n                                ? []\n                                :  [{ title : \"files\", extensions : user.policy.allowedType.join(\",\") }],\n                    },\n                    // iOS不能多选？\n                    multi_selection: true,\n                    uptoken_url: \"/api/v3/file/upload/credential\",\n                    uptoken: user.policy.saveType === \"local\" ? \"token\" : null,\n                    domain: \"s\",\n                    max_retries: 0,\n                    get_new_uptoken: true,\n                    auto_start: true,\n                    log_level: 5,\n                    init: {\n                        FilesAdded: this.fileAdd,\n\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        BeforeUpload: function() {},\n                        QueueChanged: up => {\n                            this.setState({ queued: up.total.queued });\n                        },\n                        UploadProgress: (up, file) => {\n                            window.fileList[\"updateStatus\"](file);\n                        },\n                        UploadComplete: (up, file) => {\n                            if (file.length === 0) {\n                                return;\n                            }\n                            console.log(\n                                \"UploadComplete\",\n                                file[0].status,\n                                file[0]\n                            );\n                            for (let i = 0; i < file.length; i++) {\n                                if (file[i].status === 5) {\n                                    window.fileList[\"setComplete\"](file[i]);\n                                }\n                            }\n                            // 无异步操作的策略，直接刷新\n                            if (\n                                user.policy.saveType !== \"onedrive\" &&\n                                user.policy.saveType !== \"cos\"\n                            ) {\n                                this.props.refreshFileList();\n                                this.props.refreshStorage();\n                            }\n                        },\n                        Fresh: () => {\n                            this.props.refreshFileList();\n                            this.props.refreshStorage();\n                        },\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        FileUploaded: function() {},\n                        Error: (up, err, errTip) => {\n                            window.fileList[\"openFileList\"]();\n                            window.fileList[\"setError\"](err.file, errTip);\n                        },\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        FilesRemoved: () => {}\n                    }\n                });\n                // this.fileList[\"openFileList\"]();\n            } else this.onError();\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onError() {}\n\n    openFileList = () => {\n        window.fileList[\"openFileList\"]();\n    };\n\n    render() {\n        return (\n            <div>\n                <FileList\n                    inRef={this.setRef.bind(this)}\n                    cancelUpload={this.cancelUpload.bind(this)}\n                />\n                {this.props.keywords === \"\" && (\n                    <UploadButton\n                        Queued={this.state.queued}\n                        openFileList={this.openFileList}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nconst Uploader = connect(mapStateToProps, mapDispatchToProps, null, {\n    forwardRef: true\n})(uploaderLoader()(UploaderComponent));\n\nexport default Uploader;\n","import React,{useEffect} from \"react\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport { Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useDrop } from \"react-dnd\";\nimport classNames from \"classnames\";\nimport MoreIcon from \"@material-ui/icons/MoreHoriz\";\n\nconst useStyles = makeStyles(theme => ({\n    expandMore: {\n        color: \"#8d8d8d\"\n    },\n    active: {\n        border: \"2px solid \" + theme.palette.primary.light\n    },\n    button:{\n        textTransform: \"none\",\n    }\n}));\n\nexport default function PathButton(props) {\n    const inputRef = React.useRef(null)\n    \n    const [{ canDrop, isOver }, drop] = useDrop({\n        accept: \"object\",\n        drop: () => {\n            if (props.more) {\n                inputRef.current.click();\n            } else {\n                return {\n                    folder: {\n                        id: -1,\n                        path: props.path,\n                        name: props.folder === \"/\" ? \"\" : props.folder\n                    }\n                };\n            }\n        },\n        collect: monitor => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop()\n        })\n    });\n\n    const isActive = canDrop && isOver;\n\n    useEffect(() => {\n        if(props.more && isActive){\n            inputRef.current.click();\n        }\n        // eslint-disable-next-line\n    }, [isActive])\n\n    const classes = useStyles();\n    return (\n        \n        <span onClick={props.onClick}  ref={inputRef} >\n        <Button\n            ref={drop}\n            className={classNames({\n                [classes.active]: isActive\n            },classes.button)}\n            component=\"span\"\n            title={props.title}\n        >\n            {props.more && <MoreIcon />}\n            {!props.more && (\n                <>\n                    {props.folder}\n                    {props.last && (\n                        <ExpandMore className={classes.expandMore} />\n                    )}\n                </>\n            )}\n        </Button>\n        </span>\n        \n    );\n}\n","import React, { useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport {\n    MenuItem,\n    ListItemIcon,\n    ListItemText\n} from \"@material-ui/core\";\nimport { useDrop } from \"react-dnd\";\nimport classNames from \"classnames\";\n\nconst useStyles = makeStyles(theme => ({\n    active: {\n        border: \"2px solid \" + theme.palette.primary.light\n    }\n}));\n\nexport default function DropDownItem(props) {\n    const [{ canDrop, isOver }, drop] = useDrop({\n        accept: \"object\",\n        drop: () => {\n            console.log({\n                folder: {\n                    id: -1,\n                    path: props.path,\n                    name: props.folder === \"/\" ? \"\" : props.folder\n                }\n            });\n        },\n        collect: monitor => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop()\n        })\n    });\n\n    const isActive = canDrop && isOver;\n\n    useEffect(() => {\n        props.setActiveStatus(props.id,isActive);\n        // eslint-disable-next-line\n    }, [isActive])\n\n    const classes = useStyles();\n    return (\n        <MenuItem\n            ref={drop}\n            className={classNames({\n                [classes.active]: isActive\n            })}\n            onClick={e => props.navigateTo(e, props.id)}\n        >\n            <ListItemIcon>\n                <FolderIcon />\n            </ListItemIcon>\n            <ListItemText primary={props.folder} />\n        </MenuItem>\n    );\n}\n","import React from \"react\";\nimport DropDownItem from \"./DropDownItem\";\n\n\nexport default function DropDown(props) {\n\n    let timer;\n    let first = props.folders.length;\n    const status = [];\n    for (let index = 0; index < props.folders.length; index++) {\n        status[index] = false;\n        \n    }\n\n    const setActiveStatus = (id,value)=>{\n        status[id] = value;\n        if (value){\n            clearTimeout(timer);\n        }else{\n            let shouldClose = true;\n            status.forEach(element => {\n                if (element){\n                    shouldClose = false;\n                }\n            });\n            if (shouldClose){\n                if (first<=0){\n                    timer = setTimeout(()=>{\n                        props.onClose();\n                    },100)\n                }else{\n                    first--;\n                }\n            \n            }\n        }\n        console.log(status);\n    }\n\n    return (\n        <>\n            {props.folders.map((folder, id) => (\n                // eslint-disable-next-line react/jsx-key\n                <DropDownItem\n                    path={\"/\" + props.folders.slice(0, id).join(\"/\")}\n                    navigateTo={props.navigateTo}\n                    id={id}\n                    setActiveStatus = {setActiveStatus}\n                    folder={folder}\n                />\n            ))}\n        </>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport ViewListIcon from \"@material-ui/icons/ViewList\";\nimport ViewModuleIcon from \"@material-ui/icons/ViewModule\";\nimport ViewSmallIcon from \"@material-ui/icons/ViewComfy\";\nimport TextTotateVerticalIcon from \"@material-ui/icons/TextRotateVertical\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport NewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport {\n    navigateTo,\n    navigateUp,\n    changeViewMethod,\n    setNavigatorError,\n    setNavigatorLoadingStatus,\n    refreshFileList,\n    setSelectedTarget,\n    openCreateFolderDialog,\n    openShareDialog,\n    drawerToggleAction,\n    setShareUserPopover,\n    openResaveDialog,\n    openCompressDialog\n} from \"../../../actions/index\";\nimport explorer from \"../../../redux/explorer\"\nimport API from \"../../../middleware/Api\";\nimport { setCookie, setGetParameter, fixUrlHash } from \"../../../utils/index\";\nimport {\n    withStyles,\n    Divider,\n    Menu,\n    MenuItem,\n    ListItemIcon,\n    IconButton\n} from \"@material-ui/core\";\nimport PathButton from \"./PathButton\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport DropDown from \"./DropDown\";\nimport pathHelper from \"../../../utils/page\";\nimport classNames from \"classnames\";\nimport Auth from \"../../../middleware/Auth\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { Archive, Report as ReportIcon } from \"@material-ui/icons\";\nimport Report from \"../../Modals/Report\";\nimport { FilePlus } from \"mdi-material-ui\";\nimport { openCreateFileDialog } from \"../../../actions\";\n\nconst mapStateToProps = state => {\n    return {\n        path: state.navigator.path,\n        refresh: state.navigator.refresh,\n        drawerDesktopOpen: state.viewUpdate.open,\n        viewMethod: state.viewUpdate.explorerViewMethod,\n        keywords: state.explorer.keywords,\n        sortMethod: state.viewUpdate.sortMethod\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        navigateToPath: path => {\n            dispatch(navigateTo(path));\n        },\n        navigateUp: () => {\n            dispatch(navigateUp());\n        },\n        changeView: method => {\n            dispatch(changeViewMethod(method));\n        },\n        changeSort: method => {\n            dispatch(explorer.actions.changeSortMethod(method));\n        },\n        setNavigatorError: (status, msg) => {\n            dispatch(setNavigatorError(status, msg));\n        },\n        updateFileList: list => {\n            dispatch(explorer.actions.updateFileList(list));\n        },\n        setNavigatorLoadingStatus: status => {\n            dispatch(setNavigatorLoadingStatus(status));\n        },\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        setSelectedTarget: target => {\n            dispatch(setSelectedTarget(target));\n        },\n        openCreateFolderDialog: () => {\n            dispatch(openCreateFolderDialog());\n        },\n        openCreateFileDialog: () => {\n            dispatch(openCreateFileDialog());\n        },\n        openShareDialog: () => {\n            dispatch(openShareDialog());\n        },\n        handleDesktopToggle: open => {\n            dispatch(drawerToggleAction(open));\n        },\n        setShareUserPopover: e => {\n            dispatch(setShareUserPopover(e));\n        },\n        openResave: key => {\n            dispatch(openResaveDialog(key));\n        },\n        openCompressDialog: () => {\n            dispatch(openCompressDialog());\n        }\n    };\n};\n\nconst delay = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nconst sortOptions = [\n    \"文件名称正序\",\n    \"文件名称倒序\",\n    \"上传时间正序\",\n    \"上传时间倒序\",\n    \"文件大小正序\",\n    \"文件大小倒序\"\n];\n\nconst styles = theme => ({\n    container: {\n        [theme.breakpoints.down(\"xs\")]: {\n            display: \"none\"\n        },\n        height: \"49px\",\n        overflow: \"hidden\",\n        backgroundColor: theme.palette.background.paper\n    },\n    navigatorContainer: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n    },\n    nav: {\n        height: \"48px\",\n        padding: \"5px 15px\",\n        display: \"flex\"\n    },\n    optionContainer: {\n        paddingTop: \"6px\",\n        marginRight: \"10px\"\n    },\n    rightIcon: {\n        marginTop: \"6px\",\n        verticalAlign: \"top\",\n        color: \"#868686\"\n    },\n    expandMore: {\n        color: \"#8d8d8d\"\n    },\n    sideButton: {\n        padding: \"8px\",\n        marginRight: \"5px\"\n    },\n    roundBorder: {\n        borderRadius: \"4px 4px 0 0\"\n    }\n});\n\nclass NavigatorComponent extends Component {\n    keywords = \"\";\n    currentID = 0;\n\n    state = {\n        hidden: false,\n        hiddenFolders: [],\n        folders: [],\n        anchorEl: null,\n        hiddenMode: false,\n        anchorHidden: null,\n        anchorSort: null,\n        selectedIndex: 0,\n        openReport: false\n    };\n\n    constructor(props) {\n        super(props);\n        this.element = React.createRef();\n    }\n\n    componentDidMount = () => {\n        const url = new URL(fixUrlHash(window.location.href));\n        const c = url.searchParams.get(\"path\");\n        this.renderPath(c === null ? \"/\" : c);\n\n        if (!this.props.isShare) {\n            // 如果是在个人文件管理页，首次加载时打开侧边栏\n            this.props.handleDesktopToggle(true);\n        }\n\n        // 后退操作时重新导航\n        window.onpopstate = () => {\n            const url = new URL(fixUrlHash(window.location.href));\n            const c = url.searchParams.get(\"path\");\n            if (c !== null && c !== this.props.path) {\n                this.props.navigateToPath(c);\n            }\n        };\n    };\n\n    renderPath = (path = null) => {\n        this.props.setNavigatorError(false, null);\n        this.setState({\n            folders:\n                path !== null\n                    ? path.substr(1).split(\"/\")\n                    : this.props.path.substr(1).split(\"/\")\n        });\n        let newPath = path !== null ? path : this.props.path;\n        const apiURL = this.props.share\n            ? \"/share/list/\" + this.props.share.key\n            : this.keywords === \"\"\n            ? \"/directory\"\n            : \"/file/search/\";\n        newPath = this.keywords === \"\" ? newPath : this.keywords;\n\n        API.get(apiURL + encodeURIComponent(newPath))\n            .then(response => {\n                this.currentID = response.data.parent;\n                this.props.updateFileList(response.data.objects);\n                this.props.setNavigatorLoadingStatus(false);\n                const pathTemp = (path !== null\n                    ? path.substr(1).split(\"/\")\n                    : this.props.path.substr(1).split(\"/\")\n                ).join(\",\");\n                setCookie(\"path_tmp\", encodeURIComponent(pathTemp), 1);\n                if (this.keywords === \"\") {\n                    setGetParameter(\"path\", encodeURIComponent(newPath));\n                }\n            })\n            .catch(error => {\n                this.props.setNavigatorError(true, error);\n            });\n\n        this.checkOverFlow(true);\n    };\n\n    redresh = path => {\n        this.props.setNavigatorLoadingStatus(true);\n        this.props.setNavigatorError(false, \"error\");\n        this.renderPath(path);\n    };\n\n    UNSAFE_componentWillReceiveProps = nextProps => {\n        if (this.props.keywords !== nextProps.keywords) {\n            this.keywords = nextProps.keywords;\n        }\n        if (this.props.path !== nextProps.path) {\n            this.renderPath(nextProps.path);\n        }\n        if (this.props.refresh !== nextProps.refresh) {\n            this.redresh(nextProps.path);\n        }\n    };\n\n    componentWillUnmount() {\n        this.props.updateFileList([]);\n    }\n\n    componentDidUpdate = (prevProps, prevStates) => {\n        if (this.state.folders !== prevStates.folders) {\n            this.checkOverFlow(true);\n        }\n        if (this.props.drawerDesktopOpen !== prevProps.drawerDesktopOpen) {\n            delay(500).then(() => this.checkOverFlow());\n        }\n    };\n\n    checkOverFlow = force => {\n        if (this.overflowInitLock && !force) {\n            return;\n        }\n        if (this.element.current !== null) {\n            const hasOverflowingChildren =\n                this.element.current.offsetHeight <\n                    this.element.current.scrollHeight ||\n                this.element.current.offsetWidth <\n                    this.element.current.scrollWidth;\n            if (hasOverflowingChildren) {\n                this.overflowInitLock = true;\n                this.setState({ hiddenMode: true });\n            }\n            if (!hasOverflowingChildren && this.state.hiddenMode) {\n                this.setState({ hiddenMode: false });\n            }\n        }\n    };\n\n    navigateTo = (event, id) => {\n        if (id === this.state.folders.length - 1) {\n            //最后一个路径\n            this.setState({ anchorEl: event.currentTarget });\n        } else if (\n            id === -1 &&\n            this.state.folders.length === 1 &&\n            this.state.folders[0] === \"\"\n        ) {\n            this.props.refreshFileList();\n            this.handleClose();\n        } else if (id === -1) {\n            this.props.navigateToPath(\"/\");\n            this.handleClose();\n        } else {\n            this.props.navigateToPath(\n                \"/\" + this.state.folders.slice(0, id + 1).join(\"/\")\n            );\n            this.handleClose();\n        }\n    };\n\n    handleClose = () => {\n        this.setState({ anchorEl: null, anchorHidden: null, anchorSort: null });\n    };\n\n    showHiddenPath = e => {\n        this.setState({ anchorHidden: e.currentTarget });\n    };\n\n    showSortOptions = e => {\n        this.setState({ anchorSort: e.currentTarget });\n    };\n\n    performAction = e => {\n        this.handleClose();\n        if (e === \"refresh\") {\n            this.redresh();\n            return;\n        }\n        const presentPath = this.props.path.split(\"/\");\n        const newTarget = [\n            {\n                id: this.currentID,\n                type: \"dir\",\n                name: presentPath.pop(),\n                path: presentPath.length === 1 ? \"/\" : presentPath.join(\"/\")\n            }\n        ];\n        //this.props.navitateUp();\n        switch (e) {\n            case \"share\":\n                this.props.setSelectedTarget(newTarget);\n                this.props.openShareDialog();\n                break;\n            case \"newfolder\":\n                this.props.openCreateFolderDialog();\n                break;\n            case \"compress\":\n                this.props.setSelectedTarget(newTarget);\n                this.props.openCompressDialog();\n                break;\n            case \"newFile\":\n                this.props.openCreateFileDialog();\n                break;\n            default:\n                break;\n        }\n    };\n\n    toggleViewMethod = () => {\n        const newMethod =\n            this.props.viewMethod === \"icon\"\n                ? \"list\"\n                : this.props.viewMethod === \"list\"\n                ? \"smallIcon\"\n                : \"icon\";\n        Auth.SetPreference(\"view_method\", newMethod);\n        this.props.changeView(newMethod);\n    };\n\n    handleMenuItemClick = (e, index) => {\n        this.setState({ selectedIndex: index, anchorEl: null });\n        const optionsTable = {\n            0: \"namePos\",\n            1: \"nameRev\",\n            2: \"timePos\",\n            3: \"timeRev\",\n            4: \"sizePos\",\n            5: \"sizeRes\"\n        };\n        this.props.changeSort(optionsTable[index]);\n        this.handleClose();\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n        const user = Auth.GetUser();\n\n        const presentFolderMenu = (\n            <Menu\n                id=\"presentFolderMenu\"\n                anchorEl={this.state.anchorEl}\n                open={Boolean(this.state.anchorEl)}\n                onClose={this.handleClose}\n                disableAutoFocusItem={true}\n            >\n                <MenuItem onClick={() => this.performAction(\"refresh\")}>\n                    <ListItemIcon>\n                        <RefreshIcon />\n                    </ListItemIcon>\n                    刷新\n                </MenuItem>\n                {this.props.keywords === \"\" && isHomePage && (\n                    <div>\n                        <Divider />\n                        <MenuItem onClick={() => this.performAction(\"share\")}>\n                            <ListItemIcon>\n                                <ShareIcon />\n                            </ListItemIcon>\n                            分享\n                        </MenuItem>\n                        {user.group.compress && (\n                            <MenuItem\n                                onClick={() => this.performAction(\"compress\")}\n                            >\n                                <ListItemIcon>\n                                    <Archive />\n                                </ListItemIcon>\n                                压缩\n                            </MenuItem>\n                        )}\n                        <Divider />\n                        <MenuItem\n                            onClick={() => this.performAction(\"newfolder\")}\n                        >\n                            <ListItemIcon>\n                                <NewFolderIcon />\n                            </ListItemIcon>\n                            创建文件夹\n                        </MenuItem>\n\n                        <MenuItem\n                            onClick={() => this.performAction(\"newFile\")}\n                        >\n                            <ListItemIcon>\n                                <FilePlus />\n                            </ListItemIcon>\n                            创建文件\n                        </MenuItem>\n\n                    </div>\n                )}\n            </Menu>\n        );\n\n        return (\n            <div\n                className={classNames(\n                    {\n                        [classes.roundBorder]: this.props.isShare\n                    },\n                    classes.container\n                )}\n            >\n                <div className={classes.navigatorContainer}>\n                    <div className={classes.nav} ref={this.element}>\n                        <span>\n                            <PathButton\n                                folder=\"/\"\n                                path=\"/\"\n                                onClick={e => this.navigateTo(e, -1)}\n                            />\n                            <RightIcon className={classes.rightIcon} />\n                        </span>\n                        {this.state.hiddenMode && (\n                            <span>\n                                <PathButton\n                                    more\n                                    title=\"显示路径\"\n                                    onClick={this.showHiddenPath}\n                                />\n                                <Menu\n                                    id=\"hiddenPathMenu\"\n                                    anchorEl={this.state.anchorHidden}\n                                    open={Boolean(this.state.anchorHidden)}\n                                    onClose={this.handleClose}\n                                    disableAutoFocusItem={true}\n                                >\n                                    <DropDown\n                                        onClose={this.handleClose}\n                                        folders={this.state.folders.slice(\n                                            0,\n                                            -1\n                                        )}\n                                        navigateTo={this.navigateTo}\n                                    />\n                                </Menu>\n                                <RightIcon className={classes.rightIcon} />\n                                {/* <Button component=\"span\" onClick={(e)=>this.navigateTo(e,this.state.folders.length-1)}>\n                                    {this.state.folders.slice(-1)}  \n                                    <ExpandMore className={classes.expandMore}/>\n                                </Button> */}\n                                <PathButton\n                                    folder={this.state.folders.slice(-1)}\n                                    path={\n                                        \"/\" +\n                                        this.state.folders\n                                            .slice(0, -1)\n                                            .join(\"/\")\n                                    }\n                                    last={true}\n                                    onClick={e =>\n                                        this.navigateTo(\n                                            e,\n                                            this.state.folders.length - 1\n                                        )\n                                    }\n                                />\n                                {presentFolderMenu}\n                            </span>\n                        )}\n                        {!this.state.hiddenMode &&\n                            this.state.folders.map((folder, id, folders) => (\n                                <span key={id}>\n                                    {folder !== \"\" && (\n                                        <span>\n                                            <PathButton\n                                                folder={folder}\n                                                path={\n                                                    \"/\" +\n                                                    folders\n                                                        .slice(0, id)\n                                                        .join(\"/\")\n                                                }\n                                                last={id === folders.length - 1}\n                                                onClick={e =>\n                                                    this.navigateTo(e, id)\n                                                }\n                                            />\n                                            {id === folders.length - 1 &&\n                                                presentFolderMenu}\n                                            {id !== folders.length - 1 && (\n                                                <RightIcon\n                                                    className={\n                                                        classes.rightIcon\n                                                    }\n                                                />\n                                            )}\n                                        </span>\n                                    )}\n                                </span>\n                            ))}\n                    </div>\n                    <div className={classes.optionContainer}>\n                        {this.props.viewMethod === \"icon\" && (\n                            <IconButton\n                                title=\"列表展示\"\n                                className={classes.sideButton}\n                                onClick={this.toggleViewMethod}\n                            >\n                                <ViewListIcon fontSize=\"small\" />\n                            </IconButton>\n                        )}\n                        {this.props.viewMethod === \"list\" && (\n                            <IconButton\n                                title=\"小图标展示\"\n                                className={classes.sideButton}\n                                onClick={this.toggleViewMethod}\n                            >\n                                <ViewSmallIcon fontSize=\"small\" />\n                            </IconButton>\n                        )}\n\n                        {this.props.viewMethod === \"smallIcon\" && (\n                            <IconButton\n                                title=\"大图标展示\"\n                                className={classes.sideButton}\n                                onClick={this.toggleViewMethod}\n                            >\n                                <ViewModuleIcon fontSize=\"small\" />\n                            </IconButton>\n                        )}\n\n                        <IconButton\n                            title=\"排序方式\"\n                            className={classes.sideButton}\n                            onClick={this.showSortOptions}\n                        >\n                            <TextTotateVerticalIcon fontSize=\"small\" />\n                        </IconButton>\n                        <Menu\n                            id=\"sort-menu\"\n                            anchorEl={this.state.anchorSort}\n                            open={Boolean(this.state.anchorSort)}\n                            onClose={this.handleClose}\n                        >\n                            {sortOptions.map((option, index) => (\n                                <MenuItem\n                                    key={option}\n                                    selected={\n                                        index === this.state.selectedIndex\n                                    }\n                                    onClick={event =>\n                                        this.handleMenuItemClick(event, index)\n                                    }\n                                >\n                                    {option}\n                                </MenuItem>\n                            ))}\n                        </Menu>\n                        {this.props.share && (\n                            <>\n                                <IconButton\n                                    title={\"保存到我的文件\"}\n                                    className={classes.sideButton}\n                                    onClick={() =>\n                                        this.props.openResave(\n                                            this.props.share.key\n                                        )\n                                    }\n                                >\n                                    <SaveIcon fontSize=\"small\" />\n                                </IconButton>\n                                <IconButton\n                                    title={\"举报\"}\n                                    className={classes.sideButton}\n                                    onClick={() =>\n                                        this.setState({ openReport: true })\n                                    }\n                                >\n                                    <ReportIcon fontSize=\"small\" />\n                                </IconButton>\n                                <Report\n                                    open={this.state.openReport}\n                                    share={this.props.share}\n                                    onClose={() =>\n                                        this.setState({ openReport: false })\n                                    }\n                                />\n                            </>\n                        )}\n                        {this.props.share && (\n                            <IconButton\n                                title={\n                                    \"由 \" +\n                                    this.props.share.creator.nick +\n                                    \" 创建\"\n                                }\n                                className={classes.sideButton}\n                                onClick={e =>\n                                    this.props.setShareUserPopover(\n                                        e.currentTarget\n                                    )\n                                }\n                                style={{ padding: 5 }}\n                            >\n                                <Avatar\n                                    style={{ height: 23, width: 23 }}\n                                    src={\n                                        \"/api/v3/user/avatar/\" +\n                                        this.props.share.creator.key +\n                                        \"/s\"\n                                    }\n                                />\n                            </IconButton>\n                        )}\n                    </div>\n                </div>\n                <Divider />\n            </div>\n        );\n    }\n}\n\nNavigatorComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    path: PropTypes.string.isRequired\n};\n\nconst Navigator = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(NavigatorComponent)));\n\nexport default Navigator;\n","import React from \"react\";\nimport SmallIcon from \"../SmallIcon\";\nimport FileIcon from \"../FileIcon\";\nimport { useSelector } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(() => ({\n    dragging:{\n        width:\"200px\",\n    },\n    cardDragged: {\n        position: \"absolute\",\n        \"transform-origin\": \"bottom left\",\n    },\n}));\n\nconst diliverIcon = (object,viewMethod,classes)=>{\n    return (\n        <>\n            {object.type === \"dir\" && viewMethod !== \"list\" && (\n                <div className={classes.dragging}>\n                <SmallIcon file={object} />\n                </div>\n            )}\n            {object.type === \"file\" && viewMethod === \"icon\" && (\n                <div className={classes.dragging}>\n                    <FileIcon file={object} />\n                </div>\n            )}\n            {object.type === \"file\" &&\n                viewMethod === \"smallIcon\" && (\n                    <div className={classes.dragging}>\n                    <SmallIcon file={object} />\n                    </div>\n                )}\n        </>\n    )\n}\n\nconst Preview = props => {\n    const selected = useSelector(state => state.explorer.selected);\n    const viewMethod = useSelector(\n        state => state.viewUpdate.explorerViewMethod\n    );\n    const classes = useStyles();\n    return (\n        <>\n            {selected.length === 0 && diliverIcon(props.object,viewMethod,classes)}\n            {selected.length>0&&<>\n                {selected.slice(0, 3).map((card, i) => (\n                    <div\n                    key={card.id}\n                    className={classes.cardDragged}\n                    style={{\n                      zIndex: selected.length - i,\n                      transform: `rotateZ(${-i * 2.5}deg)`,\n                    }}\n                  >\n                    {diliverIcon(card,viewMethod,classes)}\n                  </div>\n                ))}\n                </>\n            }\n        </>\n    );\n};\nexport default Preview;\n","import React from 'react'\nimport { useDragLayer } from 'react-dnd'\nimport Preview from './Preview'\nconst layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 100,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%',\n}\nfunction snapToGrid(x, y) {\n    const snappedX = Math.round(x / 32) * 32\n    const snappedY = Math.round(y / 32) * 32\n    return [snappedX, snappedY]\n}\nfunction getItemStyles(initialOffset, currentOffset, isSnapToGrid) {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none',\n    }\n  }\n  let { x, y } = currentOffset\n  if (isSnapToGrid) {\n    x -= initialOffset.x\n    y -= initialOffset.y\n    ;[x, y] = snapToGrid(x, y)\n    x += initialOffset.x\n    y += initialOffset.y\n  }\n  const transform = `translate(${x}px, ${y}px)`\n  return {\n    transform,\n    WebkitTransform: transform,\n    opacity:y>200?1:0.4,\n  }\n}\nconst CustomDragLayer = props => {\n  const {\n    itemType,\n    isDragging,\n    item,\n    initialOffset,\n    currentOffset,\n  } = useDragLayer(monitor => ({\n    item: monitor.getItem(),\n    itemType: monitor.getItemType(),\n    initialOffset: monitor.getInitialSourceClientOffset(),\n    currentOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging(),\n  }))\n  function renderItem() {\n    switch (itemType) {\n      case \"object\":\n        return <Preview object={item.object} />\n      default:\n        return null\n    }\n  }\n  if (!isDragging) {\n    return null\n  }\n  return (\n    <div style={layerStyles}>\n      <div\n        style={getItemStyles(initialOffset, currentOffset, props.snapToGrid)}\n      >\n        {renderItem()}\n      </div>\n    </div>\n  )\n}\nexport default CustomDragLayer\n","import React from \"react\";\nimport { mediaType } from \"../../config\";\nimport ImageIcon from \"@material-ui/icons/PhotoSizeSelectActual\";\nimport VideoIcon from \"@material-ui/icons/Videocam\";\nimport AudioIcon from \"@material-ui/icons/Audiotrack\";\nimport PdfIcon from \"@material-ui/icons/PictureAsPdf\";\nimport {\n    Android,\n    FileExcelBox,\n    FilePowerpointBox,\n    FileWordBox, LanguageC, LanguageCpp, LanguageGo, LanguageJavascript, LanguagePhp, LanguagePython,\n    MagnetOn,\n    ScriptText,\n    WindowRestore,\n    ZipBox\n} from \"mdi-material-ui\";\nimport FileShowIcon from \"@material-ui/icons/InsertDriveFile\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport useTheme from \"@material-ui/core/styles/useTheme\";\nimport { Avatar } from \"@material-ui/core\";\n\nconst icons = {\n    audio: {\n        color: \"#651fff\",\n        icon: AudioIcon\n    },\n    video: {\n        color: \"#d50000\",\n        icon: VideoIcon\n    },\n    image: {\n        color: \"#d32f2f\",\n        icon: ImageIcon\n    },\n    pdf: {\n        color: \"#f44336\",\n        icon: PdfIcon\n    },\n    word: {\n        color: \"#538ce5\",\n        icon: FileWordBox\n    },\n    ppt: {\n        color: \"rgb(239, 99, 63)\",\n        icon: FilePowerpointBox\n    },\n    excel: {\n        color: \"#4caf50\",\n        icon: FileExcelBox\n    },\n    text: {\n        color: \"#607d8b\",\n        icon: ScriptText\n    },\n    torrent: {\n        color: \"#5c6bc0\",\n        icon: MagnetOn\n    },\n    zip: {\n        color: \"#f9a825\",\n        icon: ZipBox\n    },\n    excute: {\n        color: \"#1a237e\",\n        icon: WindowRestore\n    },\n    android: {\n        color: \"#8bc34a\",\n        icon: Android\n    },\n    file: {\n        color: \"#607d8b\",\n        icon: FileShowIcon\n    },\n    php: {\n        color: \"#777bb3\",\n        icon: LanguagePhp\n    },\n    go: {\n        color: \"#16b3da\",\n        icon: LanguageGo\n    },\n    python:{\n        color: \"#3776ab\",\n        icon: LanguagePython\n    },\n    c:{\n        color: \"#a8b9cc\",\n        icon: LanguageC,\n    },\n    cpp:{\n        color: \"#004482\",\n        icon: LanguageCpp,\n    },\n    js:{\n        color: \"#f4d003\",\n        icon: LanguageJavascript,\n    },\n};\n\nconst getColor = (theme, color) =>\n    theme.palette.type === \"light\" ? color : lighten(color, 0.2);\n\nlet color;\n\nconst TypeIcon = props => {\n    const theme = useTheme();\n\n    const fileSuffix = props.fileName\n        .split(\".\")\n        .pop()\n        .toLowerCase();\n    let fileType = \"file\";\n    Object.keys(mediaType).forEach(k => {\n        if (mediaType[k].indexOf(fileSuffix) !== -1) {\n            fileType = k;\n        }\n    });\n    const IconComponent = icons[fileType].icon;\n    color = getColor(theme, icons[fileType].color);\n    if (props.getColorValue) {\n        props.getColorValue(color);\n    }\n\n    return (\n        <>\n            {props.isUpload && (\n                <Avatar\n                    className={props.className}\n                    style={{\n                        backgroundColor: color\n                    }}\n                >\n                    <IconComponent\n                        style={{\n                            color: theme.palette.background.paper,\n                        }}\n                    />\n                </Avatar>\n            )}\n            {!props.isUpload && (\n                <IconComponent\n                    className={props.className}\n                    style={{\n                        color: color\n                    }}\n                />\n            )}\n        </>\n    );\n};\n\nexport default TypeIcon;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport Auth from \"./Auth\"\nimport {\n    Route,\n    Redirect,\n  } from \"react-router-dom\";\n\nfunction AuthRoute({ children, ...rest }) {\n    return (\n      <Route\n        {...rest}\n        render={({ location }) =>\n        Auth.Check(rest.isLogin) ? (\n            children\n          ) : (\n            <Redirect\n              to={{\n                pathname: \"/login\",\n                state: { from: location }\n              }}\n            />\n          )\n        }\n      />\n    );\n  }\n\nexport default AuthRoute","import React from \"react\";\nimport  { Facebook } from \"react-content-loader\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n    loader: {\n        width: \"80%\",\n        [theme.breakpoints.up(\"md\")]: {\n            width: \" 50%\"\n        },\n\n        marginTop: 30\n    }\n}));\n\nconst MyLoader = props => {\n    return (\n        <Facebook className={props.className} />\n    );\n};\n\nfunction PageLoading() {\n    const classes = useStyles();\n\n    return (\n        <div\n            style={{\n                textAlign: \"center\"\n            }}\n        >\n            <MyLoader className={classes.loader} />\n        </div>\n    );\n}\n\nexport default PageLoading;\n","import React from \"react\";\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\nimport {lighten, makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme=>({\n    icon:{\n        fontSize: \"160px\",\n    },\n    emptyContainer: {\n        bottom: \"0\",\n        height: \"300px\",\n        margin: \"50px auto\",\n        width: \"300px\",\n        color: lighten(theme.palette.text.disabled,0.4),\n        textAlign: \"center\",\n        paddingTop: \"20px\"\n    },\n    emptyInfoBig: {\n        fontSize: \"25px\",\n        color: lighten(theme.palette.text.disabled,0.4),\n    },\n}));\n\nexport default function Notice(props) {\n    const classes = useStyles();\n    return (\n        <div className={classes.emptyContainer}>\n            <SentimentVeryDissatisfiedIcon className={classes.icon}/>\n            <div className={classes.emptyInfoBig}>\n                {props.msg}\n            </div>\n        </div>\n\n    )\n}","import React, { useEffect, useState } from \"react\"\nimport { useSelector } from \"react-redux\"\nimport { useLocation } from \"react-router\";\nimport {\n  makeStyles,\n  Link,\n  useTheme,\n  useMediaQuery,\n} from \"@material-ui/core\"\nimport pageHelper from '../../utils/page'\n\nconst useStyles = makeStyles(() => ({\n  icp: {\n    padding: '8px 24px',\n    textAlign: 'right',\n    width: '100vw',\n    position: 'absolute',\n    bottom: 0,\n  }\n}))\n\nexport const ICPFooter = () => {\n  const siteICPId = useSelector(state => state.siteConfig.siteICPId);\n  const classes = useStyles()\n  const theme = useTheme()\n  const matchMediaQuery = useMediaQuery(theme.breakpoints.down('sm'))\n  const location = useLocation()\n  const [show, setShow] = useState(true)\n\n  useEffect(() => {\n    // 只在分享和登录界面显示\n    const isSharePage = pageHelper.isSharePage(location.pathname)\n    const isLoginPage = pageHelper.isLoginPage(location.pathname)\n    setShow(siteICPId && !matchMediaQuery && (isSharePage || isLoginPage))\n  }, [siteICPId, matchMediaQuery, location]);\n\n  if (!show) {\n    return (<></>)\n  }\n  return (\n    <div className={classes.icp}>\n      {`备案号: `}\n      <Link \n        href=\"http://www.beian.gov.cn/portal/registerSystemInfo\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        {siteICPId}\n      </Link>\n    </div>\n  )\n}\n","import React from \"react\"\nimport ContentLoader from \"react-content-loader\"\n\nconst MyLoader = () => (\n    <ContentLoader \n      height={80}\n      width={200}\n      speed={2}\n      primaryColor=\"#f3f3f3\"\n      secondaryColor=\"#e4e4e4\"\n    >\n      <rect x=\"4\" y=\"4\" rx=\"7\" ry=\"7\" width=\"392\" height=\"116\" />\n    </ContentLoader>\n)\n\nfunction captchaPlacholder (){\n    return (<MyLoader />)\n}\n\nexport default captchaPlacholder","import {setSiteConfig, toggleSnackbar, enableLoadUploader, changeViewMethod} from \"../actions/index\"\nimport { fixUrlHash } from \"../utils/index\"\nimport API from \"./Api\"\nimport Auth from \"./Auth\"\nimport pathHelper from \"../utils/page\";\n\nconst initUserConfig = (siteConfig) => {\n    if (siteConfig.user!==undefined && !siteConfig.user.anonymous){\n        const themes = JSON.parse(siteConfig.themes);\n        const user = siteConfig.user;\n        delete siteConfig.user\n    \n        //更换用户自定配色\n        if (user[\"preferred_theme\"] !== \"\" && themes[user[\"preferred_theme\"]] !== undefined){\n            siteConfig.theme = themes[user[\"preferred_theme\"]]\n        }\n\n        // 更新登录态\n        Auth.authenticate(user);\n    }\n    if (siteConfig.user!==undefined &&siteConfig.user.anonymous){\n        Auth.SetUser(siteConfig.user);\n    }\n    return siteConfig\n}\n\nexport const InitSiteConfig = (rawStore) => {\n  // 从缓存获取默认配置\n  const configCache = JSON.parse(localStorage.getItem('siteConfigCache'));\n  if (configCache != null) {\n      rawStore.siteConfig = configCache\n  }\n  // 检查是否有path参数\n  const url = new URL(fixUrlHash(window.location.href));\n  const c = url.searchParams.get(\"path\");\n  rawStore.navigator.path = c===null?\"/\":c;\n  // 初始化用户个性配置\n  rawStore.siteConfig = initUserConfig(rawStore.siteConfig);\n\n  // 更改站点标题\n  document.title = rawStore.siteConfig.title;\n  return rawStore\n}\n\nexport function enableUploaderLoad(){\n    // 开启上传组件加载\n    const user = Auth.GetUser();\n    window.policyType = user!==null?user.policy.saveType : \"local\";\n    window.uploadConfig = user!==null?user.policy:{};\n    window.pathCache = [];\n}\n\nexport async function UpdateSiteConfig(store) {\n    API.get(\"/site/config\").then(function(response) {\n        const themes = JSON.parse(response.data.themes);\n        response.data.theme = themes[response.data.defaultTheme]\n        response.data = initUserConfig(response.data)\n        store.dispatch(setSiteConfig(response.data));\n        localStorage.setItem('siteConfigCache', JSON.stringify(response.data));\n\n        // 偏爱的列表样式\n        const preferListMethod = Auth.GetPreference(\"view_method\");\n        if(preferListMethod){\n            store.dispatch(changeViewMethod(preferListMethod));\n        }else{\n            const path = window.location.hash.split(\"#\");\n            if(path.length >=1 && pathHelper.isSharePage(path[1])){\n                store.dispatch(changeViewMethod(response.data.share_view_method));\n            }else{\n                store.dispatch(changeViewMethod(response.data.home_view_method));\n            }\n        }\n\n    }).catch(function(error) {\n        store.dispatch(toggleSnackbar(\"top\", \"right\", \"无法加载站点配置：\" + error.message, \"error\"));\n    }).then(function () {\n        enableUploaderLoad(store);\n        store.dispatch(enableLoadUploader())\n    });\n}","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class ReCAPTCHA extends React.Component {\n    constructor() {\n        super();\n        this.handleExpired = this.handleExpired.bind(this);\n        this.handleErrored = this.handleErrored.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleRecaptchaRef = this.handleRecaptchaRef.bind(this);\n    }\n\n    getValue() {\n        if (this.props.grecaptcha && this._widgetId !== undefined) {\n            return this.props.grecaptcha.getResponse(this._widgetId);\n        }\n        return null;\n    }\n\n    getWidgetId() {\n        if (this.props.grecaptcha && this._widgetId !== undefined) {\n            return this._widgetId;\n        }\n        return null;\n    }\n\n    execute() {\n        const { grecaptcha } = this.props;\n\n        if (grecaptcha && this._widgetId !== undefined) {\n            return grecaptcha.execute(this._widgetId);\n        } else {\n            this._executeRequested = true;\n        }\n    }\n\n    reset() {\n        if (this.props.grecaptcha && this._widgetId !== undefined) {\n            this.props.grecaptcha.reset(this._widgetId);\n        }\n    }\n\n    handleExpired() {\n        if (this.props.onExpired) {\n            this.props.onExpired();\n        } else {\n            this.handleChange(null);\n        }\n    }\n\n    handleErrored() {\n        if (this.props.onErrored) this.props.onErrored();\n    }\n\n    handleChange(token) {\n        if (this.props.onChange) this.props.onChange(token);\n    }\n\n    explicitRender() {\n        if (this.props.grecaptcha && this.props.grecaptcha.render && this._widgetId === undefined) {\n            const wrapper = document.createElement(\"div\");\n            this._widgetId = this.props.grecaptcha.render(wrapper, {\n                sitekey: this.props.sitekey,\n                callback: this.handleChange,\n                theme: this.props.theme,\n                type: this.props.type,\n                tabindex: this.props.tabindex,\n                \"expired-callback\": this.handleExpired,\n                \"error-callback\": this.handleErrored,\n                size: this.props.size,\n                stoken: this.props.stoken,\n                hl: this.props.hl,\n                badge: this.props.badge,\n            });\n            this.captcha.appendChild(wrapper);\n        }\n        if (this._executeRequested && this.props.grecaptcha && this._widgetId !== undefined) {\n            this._executeRequested = false;\n            this.execute();\n        }\n    }\n\n    componentDidMount() {\n        this.explicitRender();\n    }\n\n    componentDidUpdate() {\n        this.explicitRender();\n    }\n\n    componentWillUnmount() {\n        if (this._widgetId !== undefined) {\n            this.delayOfCaptchaIframeRemoving();\n            this.reset();\n        }\n    }\n\n    delayOfCaptchaIframeRemoving() {\n        const temporaryNode = document.createElement(\"div\");\n        document.body.appendChild(temporaryNode);\n        temporaryNode.style.display = \"none\";\n\n        // move of the recaptcha to a temporary node\n        while (this.captcha.firstChild) {\n            temporaryNode.appendChild(this.captcha.firstChild);\n        }\n\n        // delete the temporary node after reset will be done\n        setTimeout(() => {\n            document.body.removeChild(temporaryNode);\n        }, 5000);\n    }\n\n    handleRecaptchaRef(elem) {\n        this.captcha = elem;\n    }\n\n    render() {\n        // consume properties owned by the reCATPCHA, pass the rest to the div so the user can style it.\n        /* eslint-disable no-unused-vars */\n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        const {\n            sitekey,\n            onChange,\n            theme,\n            type,\n            tabindex,\n            onExpired,\n            onErrored,\n            size,\n            stoken,\n            grecaptcha,\n            badge,\n            hl,\n            ...childProps\n        } = this.props;\n        /* eslint-enable no-unused-vars */\n        return <div {...childProps} ref={this.handleRecaptchaRef} />;\n    }\n}\n\nReCAPTCHA.displayName = \"ReCAPTCHA\";\nReCAPTCHA.propTypes = {\n    sitekey: PropTypes.string.isRequired,\n    onChange: PropTypes.func,\n    grecaptcha: PropTypes.object,\n    theme: PropTypes.oneOf([\"dark\", \"light\"]),\n    type: PropTypes.oneOf([\"image\", \"audio\"]),\n    tabindex: PropTypes.number,\n    onExpired: PropTypes.func,\n    onErrored: PropTypes.func,\n    size: PropTypes.oneOf([\"compact\", \"normal\", \"invisible\"]),\n    stoken: PropTypes.string,\n    hl: PropTypes.string,\n    badge: PropTypes.oneOf([\"bottomright\", \"bottomleft\", \"inline\"]),\n};\nReCAPTCHA.defaultProps = {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onChange: () => {},\n    theme: \"light\",\n    type: \"image\",\n    tabindex: 0,\n    size: \"normal\",\n    badge: \"bottomright\",\n};","import ReCAPTCHA from \"./ReCaptchaWrapper\";\nimport makeAsyncScriptLoader from \"react-async-script\";\n\nconst callbackName = \"onloadcallback\";\nconst globalName = \"grecaptcha\";\n\nfunction getURL() {\n    const hostname = \"recaptcha.net\";\n    return `https://${hostname}/recaptcha/api.js?onload=${callbackName}&render=explicit`;\n}\n\nexport default makeAsyncScriptLoader(getURL, {\n    callbackName,\n    globalName,\n})(ReCAPTCHA);","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    toggleSnackbar,\n    applyThemes,\n    setSessionStatus\n} from \"../../actions/index\";\nimport Placeholder from \"../Placeholder/Captcha\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    Button,\n    FormControl,\n    Divider,\n    Link,\n    Input,\n    InputLabel,\n    Paper,\n    Avatar,\n    Typography\n} from \"@material-ui/core\";\nimport { bufferDecode, bufferEncode } from \"../../utils/index\";\nimport { enableUploaderLoad } from \"../../middleware/Init\";\nimport { Fingerprint, VpnKey } from \"@material-ui/icons\";\nimport VpnIcon from \"@material-ui/icons/VpnKeyOutlined\";\nimport {useLocation} from \"react-router\";\nimport ReCaptcha from \"./ReCaptcha\";\nconst useStyles = makeStyles(theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        marginBottom: 110\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1)\n    },\n    submit: {\n        marginTop: theme.spacing(3)\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\"\n    },\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"block\",\n        },\n    },\n    captchaPlaceholder: {\n        width: 200,\n    },\n    buttonContainer: {\n        display: \"flex\"\n    },\n    authnLink: {\n        textAlign: \"center\",\n        marginTop: 16\n    }\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction LoginForm() {\n    const [email, setEmail] = useState(\"\");\n    const [pwd, setPwd] = useState(\"\");\n    const [captcha, setCaptcha] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [useAuthn, setUseAuthn] = useState(false);\n    const [captchaData, setCaptchaData] = useState(null);\n    const [twoFA,setTwoFA] = useState(false);\n    const [faCode,setFACode] = useState(\"\");\n\n    const loginCaptcha = useSelector(state => state.siteConfig.loginCaptcha);\n    const useReCaptcha = useSelector(state => state.siteConfig.captcha_IsUseReCaptcha);\n    const reCaptchaKey = useSelector(state => state.siteConfig.captcha_ReCaptchaKey);\n    const title = useSelector(state => state.siteConfig.title);\n    const QQLogin = useSelector(state => state.siteConfig.QQLogin);\n    const authn = useSelector(state => state.siteConfig.authn);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const ApplyThemes = useCallback(theme => dispatch(applyThemes(theme)), [\n        dispatch\n    ]);\n    const SetSessionStatus = useCallback(\n        status => dispatch(setSessionStatus(status)),\n        [dispatch]\n    );\n\n    const history = useHistory();\n    const location = useLocation();\n    const query = useQuery();\n\n    const classes = useStyles();\n\n    const refreshCaptcha = () => {\n        API.get(\"/site/captcha\")\n            .then(response => {\n                setCaptchaData(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法加载验证码：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    useEffect(() => {\n        setEmail(query.get(\"username\"));\n        if (loginCaptcha && !useReCaptcha) {\n            refreshCaptcha();\n        }\n    }, [location,loginCaptcha]);\n\n    const afterLogin = data =>{\n      Auth.authenticate(data);\n\n      // 设置用户主题色\n      if (data[\"preferred_theme\"] !== \"\") {\n          ApplyThemes(data[\"preferred_theme\"]);\n      }\n      enableUploaderLoad();\n\n      // 设置登录状态\n      SetSessionStatus(true);\n\n      history.push(\"/home\");\n      ToggleSnackbar(\"top\", \"right\", \"登录成功\", \"success\");\n\n      localStorage.removeItem(\"siteConfigCache\");\n    }\n\n    const authnLogin = e => {\n        e.preventDefault();\n        if (!navigator.credentials) {\n            ToggleSnackbar(\"top\", \"right\", \"当前浏览器或环境不支持\", \"warning\");\n\n            return;\n        }\n\n        setLoading(true);\n\n        API.get(\"/user/authn/\" + email)\n            .then(response => {\n                const credentialRequestOptions = response.data;\n                console.log(credentialRequestOptions);\n                credentialRequestOptions.publicKey.challenge = bufferDecode(\n                    credentialRequestOptions.publicKey.challenge\n                );\n                credentialRequestOptions.publicKey.allowCredentials.forEach(\n                    function(listItem) {\n                        listItem.id = bufferDecode(listItem.id);\n                    }\n                );\n\n                return navigator.credentials.get({\n                    publicKey: credentialRequestOptions.publicKey\n                });\n            })\n            .then(assertion => {\n                const authData = assertion.response.authenticatorData;\n                const clientDataJSON = assertion.response.clientDataJSON;\n                const rawId = assertion.rawId;\n                const sig = assertion.response.signature;\n                const userHandle = assertion.response.userHandle;\n\n                return API.post(\n                    \"/user/authn/finish/\" + email,\n                    JSON.stringify({\n                        id: assertion.id,\n                        rawId: bufferEncode(rawId),\n                        type: assertion.type,\n                        response: {\n                            authenticatorData: bufferEncode(authData),\n                            clientDataJSON: bufferEncode(clientDataJSON),\n                            signature: bufferEncode(sig),\n                            userHandle: bufferEncode(userHandle)\n                        }\n                    })\n                );\n            })\n            .then(response => {\n                afterLogin(response.data)\n            })\n            .catch(error => {\n                console.log(error);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const login = e => {\n        e.preventDefault();\n        setLoading(true);\n        API.post(\"/user/session\", {\n            userName: email,\n            Password: pwd,\n            captchaCode: captcha\n        })\n            .then(response => {\n                setLoading(false);\n                if (response.rawData.code === 203){\n                    setTwoFA(true);\n                }else{\n                    afterLogin(response.data)\n                }\n\n            })\n            .catch(error => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                if (!useReCaptcha) {\n                    refreshCaptcha();\n                }\n            });\n    };\n\n    const initQQLogin = () =>{\n        setLoading(true);\n        API.post(\"/user/qq\")\n            .then(response => {\n                window.location.href = response.data\n            })\n            .catch(error => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            });\n    };\n\n    const twoFALogin = e =>{\n        e.preventDefault();\n        setLoading(true);\n        API.post(\"/user/2fa\",{\n            code:faCode,\n        })\n            .then(response => {\n                setLoading(false);\n                afterLogin(response.data)\n            })\n            .catch(error => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            });\n    };\n\n    return (\n        <div className={classes.layout}>\n            {!twoFA &&\n            <>\n                <Paper className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    登录 {title}\n                </Typography>\n                {!useAuthn && (\n                    <form className={classes.form} onSubmit={login}>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"email\">电子邮箱</InputLabel>\n                            <Input\n                                id=\"email\"\n                                type=\"email\"\n                                name=\"email\"\n                                onChange={e => setEmail(e.target.value)}\n                                autoComplete\n                                value={email}\n                                autoFocus\n                            />\n                        </FormControl>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"password\">密码</InputLabel>\n                            <Input\n                                name=\"password\"\n                                onChange={e => setPwd(e.target.value)}\n                                type=\"password\"\n                                id=\"password\"\n                                value={pwd}\n                                autoComplete\n                            />\n                        </FormControl>\n                        {loginCaptcha && !useReCaptcha && (\n                            <div className={classes.captchaContainer}>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <InputLabel htmlFor=\"captcha\">\n                                        验证码\n                                    </InputLabel>\n                                    <Input\n                                        name=\"captcha\"\n                                        onChange={e =>\n                                            setCaptcha(e.target.value)\n                                        }\n                                        type=\"text\"\n                                        id=\"captcha\"\n                                        value={captcha}\n                                        autoComplete\n                                    />\n                                </FormControl>{\" \"}\n                                <div>\n                                    {captchaData === null && (\n                                        <div\n                                            className={\n                                                classes.captchaPlaceholder\n                                            }\n                                        >\n                                            <Placeholder />\n                                        </div>\n                                    )}\n                                    {captchaData !== null && (\n                                        <img\n                                            src={captchaData}\n                                            alt=\"captcha\"\n                                            onClick={refreshCaptcha}\n                                        />\n                                    )}\n                                </div>\n                            </div>\n                        )}\n                        {loginCaptcha && useReCaptcha && (\n                            <div className={classes.captchaContainer}>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <div>\n                                        <ReCaptcha\n                                            style={{ display: \"inline-block\" }}\n                                            sitekey={reCaptchaKey}\n                                            onChange={value =>\n                                                setCaptcha(value)\n                                            }\n                                            id=\"captcha\"\n                                            name=\"captcha\"\n                                        />\n                                    </div>\n                                </FormControl>{\" \"}\n                            </div>\n                        )}\n                        {QQLogin && (\n                            <div className={classes.buttonContainer}>\n                                <Button\n                                    type=\"submit\"\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    className={classes.submit}\n                                >\n                                    登录\n                                </Button>\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    style={{ marginLeft: \"10px\" }}\n                                    disabled={loading}\n                                    className={classes.submit}\n                                    onClick={initQQLogin}\n                                >\n                                    使用QQ登录\n                                </Button>\n                            </div>\n                        )}\n                        {!QQLogin && (\n                            <Button\n                                type=\"submit\"\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                disabled={loading}\n                                className={classes.submit}\n                            >\n                                登录\n                            </Button>\n                        )}\n                    </form>\n                )}\n                {useAuthn && (\n                    <form className={classes.form}>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"email\">电子邮箱</InputLabel>\n                            <Input\n                                id=\"email\"\n                                type=\"email\"\n                                name=\"email\"\n                                onChange={e => setEmail(e.target.value)}\n                                autoComplete\n                                value={email}\n                                autoFocus\n                            />\n                        </FormControl>\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            disabled={loading}\n                            onClick={authnLogin}\n                            className={classes.submit}\n                        >\n                            下一步\n                        </Button>\n                    </form>\n                )}\n                <Divider />\n                <div className={classes.link}>\n                    <div>\n                        <Link href={\"/#/forget\"}>忘记密码</Link>\n                    </div>\n                    <div>\n                        <Link href={\"/#/signup\"}>注册账号</Link>\n                    </div>\n                </div>\n            </Paper>\n\n                {authn &&<div className={classes.authnLink}>\n                    <Button color=\"primary\" onClick={() => setUseAuthn(!useAuthn)}>\n                        {!useAuthn && (\n                            <>\n                                <Fingerprint\n                                    style={{\n                                        marginRight: 8\n                                    }}\n                                />\n                                使用外部验证器登录\n                            </>\n                        )}\n                        {useAuthn && (\n                            <>\n                                <VpnKey\n                                    style={{\n                                        marginRight: 8\n                                    }}\n                                />\n                                使用密码登录\n                            </>\n                        )}\n                    </Button>\n                </div>}\n            </>\n            }\n            {twoFA &&\n            <Paper className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <VpnIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    二步验证\n                </Typography>\n                <form className={classes.form} onSubmit={twoFALogin}>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"code\">请输入六位二步验证代码</InputLabel>\n                        <Input\n                            id=\"code\"\n                            type=\"number\"\n                            name=\"code\"\n                            onChange={(event)=>setFACode(event.target.value )}\n                            autoComplete\n                            value={faCode}\n                            autoFocus />\n                    </FormControl>\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={loading}\n                        className={classes.submit}\n                    >\n                        继续登录\n                    </Button>  </form>                          <Divider/>\n\n            </Paper>\n            }\n\n        </div>\n    );\n}\n\nexport default LoginForm;\n","import React, { useCallback, useEffect } from \"react\";\nimport DPlayer from \"react-dplayer\";\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport { getBaseURL } from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\n\nconst useStyles = makeStyles(theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        marginBottom: 50\n    },\n    player: {\n        borderRadius: \"4px\",\n        maxHeight:600,\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function VideoViewer() {\n    const math = useRouteMatch();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(title => dispatch(changeSubTitle(title)), [\n        dispatch\n    ]);\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    const classes = useStyles();\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.root} elevation={1}>\n                <DPlayer\n                    className={classes.player}\n                    options={{\n                        video: {\n                            url:\n                                getBaseURL() +\n                                (pathHelper.isSharePage(location.pathname)\n                                    ? \"/share/preview/\" +\n                                      id +\n                                      (query.get(\"share_path\") !== \"\"\n                                          ? \"?path=\" +\n                                            encodeURIComponent(\n                                                query.get(\"share_path\")\n                                            )\n                                          : \"\")\n                                    : \"/file/preview/\" + query.get(\"id\"))\n                        }\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport {  useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\n\nimport {\n    Tooltip,\n    Card,\n    Avatar,\n    CardHeader,\n    Typography,\n    Grid,\n    IconButton,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport {useHistory} from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation } from \"react-router\";\nimport TimeAgo from \"timeago-react\";\n\nconst useStyles = makeStyles(theme => ({\n    cardContainer: {\n        padding: theme.spacing(1)\n    },\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\"\n    },\n    actions: {\n        display: \"flex\"\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        }\n    },\n    shareTitle: {\n        maxWidth: \"200px\"\n    },\n    avatarFile: {\n        backgroundColor: theme.palette.primary.light\n    },\n    avatarFolder: {\n        backgroundColor: theme.palette.secondary.light\n    },\n    gird: {\n        marginTop: \"30px\"\n    },\n    loadMore: {\n        textAlign: \"right\",\n        marginTop: \"20px\",\n        marginBottom: \"40px\"\n    },\n    badge: {\n        marginLeft: theme.spacing(1),\n        height: 17\n    },\n    orderSelect: {\n        textAlign: \"right\",\n        marginTop: 5\n    }\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function SearchResult() {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n\n    const query = useQuery();\n    const location = useLocation();\n    const history = useHistory();\n\n    const [page, setPage] = useState(1);\n    const [total, setTotal] = useState(0);\n    const [shareList, setShareList] = useState([]);\n    const [orderBy, setOrderBy] = useState(\"created_at DESC\");\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const search = (keywords, page, orderBy) => {\n        const order = orderBy.split(\" \");\n        API.get(\n            \"/share/search?page=\" +\n            page +\n            \"&order_by=\" +\n            order[0] +\n            \"&order=\" +\n            order[1] +\n            \"&keywords=\" +\n            encodeURIComponent(keywords)\n        )\n            .then(response => {\n                if (response.data.items.length === 0) {\n                    ToggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"找不到符合条件的分享\",\n                        \"info\"\n                    );\n                }\n                setTotal(response.data.total);\n                setShareList(response.data.items);\n            })\n            .catch(() => {\n                ToggleSnackbar(\"top\", \"right\", \"加载失败\", \"error\");\n            });\n    };\n\n    useEffect(() => {\n        const keywords = query.get(\"keywords\");\n        if (keywords) {\n            search(keywords, page, orderBy);\n        } else {\n            ToggleSnackbar(\"top\", \"right\", \"请输入搜索关键词\", \"warning\");\n        }\n    }, [location]);\n\n    const handlePageChange = (event, value) => {\n        setPage(value);\n        const keywords = query.get(\"keywords\");\n        search(keywords, value, orderBy);\n    };\n\n    const handleOrderChange = event => {\n        setOrderBy(event.target.value);\n        const keywords = query.get(\"keywords\");\n        search(keywords, page, event.target.value);\n    };\n\n    return (\n        <div className={classes.layout}>\n            <Grid container>\n                <Grid sm={6} xs={6}>\n                    <Typography color=\"textSecondary\" variant=\"h4\">\n                        搜索结果\n                    </Typography>\n                </Grid>\n                <Grid sm={6} xs={6} className={classes.orderSelect}>\n                    <FormControl>\n                        <Select\n                            color={\"secondary\"}\n                            onChange={handleOrderChange}\n                            value={orderBy}\n                        >\n                            <MenuItem value={\"created_at DESC\"}>\n                                创建日期由晚到早\n                            </MenuItem>\n                            <MenuItem value={\"created_at ASC\"}>\n                                创建日期由早到晚\n                            </MenuItem>\n                            <MenuItem value={\"downloads DESC\"}>\n                                下载次数由大到小\n                            </MenuItem>\n                            <MenuItem value={\"downloads ASC\"}>\n                                下载次数由小到大\n                            </MenuItem>\n                            <MenuItem value={\"views DESC\"}>\n                                浏览次数由大到小\n                            </MenuItem>\n                            <MenuItem value={\"views ASC\"}>\n                                浏览次数由小到大\n                            </MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n            </Grid>\n            <Grid container spacing={24} className={classes.gird}>\n                {shareList.map(value => (\n                    <Grid\n                        item\n                        xs={12}\n                        sm={4}\n                        key={value.id}\n                        className={classes.cardContainer}\n                    >\n                        <Card className={classes.card}>\n                            <CardHeader\n                                avatar={\n                                    <div>\n                                        {!value.is_dir && (\n                                            <TypeIcon\n                                                fileName={\n                                                    value.source\n                                                        ? value.source.name\n                                                        : \"\"\n                                                }\n                                                isUpload\n                                            />\n                                        )}{\" \"}\n                                        {value.is_dir && (\n                                            <Avatar\n                                                className={classes.avatarFolder}\n                                            >\n                                                <FolderIcon />\n                                            </Avatar>\n                                        )}\n                                    </div>\n                                }\n                                action={\n                                    <Tooltip placement=\"top\" title=\"打开\">\n                                        <IconButton\n                                            onClick={() =>\n                                                history.push(\n                                                    \"/s/\" +\n                                                        value.key\n                                                )\n                                            }\n                                        >\n                                            <OpenIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                }\n                                title={\n                                    <Tooltip\n                                        placement=\"top\"\n                                        title={\n                                            value.source\n                                                ? value.source.name\n                                                : \"[原始对象不存在]\"\n                                        }\n                                    >\n                                        <Typography\n                                            noWrap\n                                            className={classes.shareTitle}\n                                        >\n                                            {value.source\n                                                ? value.source.name\n                                                : \"[原始对象不存在]\"}{\" \"}\n                                        </Typography>\n                                    </Tooltip>\n                                }\n                                subheader={<span>分享于{\" \"}<TimeAgo\n                                    datetime={value.create_date}\n                                    locale=\"zh_CN\"\n                                /></span>}\n                            />\n                        </Card>\n                    </Grid>\n                ))}\n            </Grid>\n            <div className={classes.loadMore}>\n                <Pagination\n                    count={Math.ceil(total / 18)}\n                    onChange={handlePageChange}\n                    color=\"secondary\"\n                />\n            </div>{\" \"}\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport UnlockIcon from \"@material-ui/icons/LockOpen\";\nimport EyeIcon from \"@material-ui/icons/RemoveRedEye\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nimport {\n    withStyles,\n    Tooltip,\n    Card,\n    Avatar,\n    CardHeader,\n    CardActions,\n    Typography,\n    Grid,\n    IconButton,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Button,\n    TextField\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { VisibilityOff, VpnKey } from \"@material-ui/icons\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport {withRouter} from \"react-router-dom\";\n\nconst styles = theme => ({\n    cardContainer: {\n        padding: theme.spacing(1)\n    },\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\"\n    },\n    actions: {\n        display: \"flex\"\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        }\n    },\n    shareTitle: {\n        maxWidth: \"200px\"\n    },\n    avatarFile: {\n        backgroundColor: theme.palette.primary.light\n    },\n    avatarFolder: {\n        backgroundColor: theme.palette.secondary.light\n    },\n    gird: {\n        marginTop: \"30px\"\n    },\n    loadMore: {\n        textAlign: \"right\",\n        marginTop: \"20px\",\n        marginBottom: \"40px\"\n    },\n    badge: {\n        marginLeft: theme.spacing(1),\n        height: 17\n    },\n    orderSelect:{\n        textAlign:\"right\",\n        marginTop: 5,\n    }\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        }\n    };\n};\n\nclass MyShareCompoment extends Component {\n    state = {\n        page: 1,\n        total: 0,\n        shareList: [],\n        showPwd: null,\n        orderBy:\"created_at DESC\",\n    };\n\n    componentDidMount = () => {\n        this.loadList(1,this.state.orderBy);\n    };\n\n    showPwd = pwd => {\n        this.setState({ showPwd: pwd });\n    };\n\n    handleClose = () => {\n        this.setState({ showPwd: null });\n    };\n\n    removeShare = (id) => {\n        API\n            .delete(\"/share/\"+id)\n            .then(() => {\n                    let oldList = this.state.shareList;\n                    oldList = oldList.filter(value => {\n                        return value.key !== id;\n                    });\n                    this.setState({\n                        shareList: oldList,\n                        total:this.state.total-1,\n                    });\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"分享已取消\",\n                        \"success\"\n                    );\n                    if (oldList.length === 0){\n                        this.loadList(1,this.state.orderBy);\n                    }\n\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    changePermission = id => {\n        const newPwd = Math.random()\n            .toString(36)\n            .substr(2)\n            .slice(2, 8);\n        const oldList = this.state.shareList;\n        const shareIndex = oldList.findIndex(value => {\n            return value.key === id;\n        });\n        API\n            .patch(\"/share/\"+id, {\n                prop:\"password\",\n                value:oldList[shareIndex].password === \"\" ? newPwd : \"\",\n            })\n            .then(response => {\n                oldList[shareIndex].password = response.data;\n                this.setState({\n                    shareList: oldList\n                });\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    changePreviewOption = id => {\n        const oldList = this.state.shareList;\n        const shareIndex = oldList.findIndex(value => {\n            return value.key === id;\n        });\n        API\n            .patch(\"/share/\"+id, {\n                prop:\"preview_enabled\",\n                value:oldList[shareIndex].preview?\"false\":\"true\",\n            })\n            .then(response => {\n                oldList[shareIndex].preview = response.data;\n                this.setState({\n                    shareList: oldList\n                });\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    loadList = (page,orderBy) => {\n        const order = orderBy.split(\" \");\n        API.get(\"/share?page=\" + page + \"&order_by=\" + order[0] + \"&order=\" + order[1])\n            .then(response => {\n                if (response.data.items.length === 0) {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"没有更多了\",\n                        \"info\"\n                    );\n                }\n                this.setState({\n                    total: response.data.total,\n                    shareList: response.data.items\n                });\n            })\n            .catch(() => {\n                this.props.toggleSnackbar(\"top\", \"right\", \"加载失败\", \"error\");\n            });\n    };\n\n    handlePageChange = (event, value) => {\n        this.setState({\n            page: value\n        });\n        this.loadList(value,this.state.orderBy);\n    };\n\n    handleOrderChange =  event => {\n        this.setState({\n            orderBy:event.target.value,\n        });\n        this.loadList(this.state.page,event.target.value);\n    };\n\n    isExpired = share => {\n        return share.expire < -1 || share.remain_downloads === 0;\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                <Grid container>\n                    <Grid sm={6} xs={6}>\n                        <Typography color=\"textSecondary\" variant=\"h4\">\n\n                            我的分享\n                        </Typography>\n                        </Grid>\n                    <Grid sm={6} xs={6} className={classes.orderSelect}>\n                        <FormControl>\n                            <Select color={\"secondary\"}  onChange={this.handleOrderChange} value={this.state.orderBy}>\n                                <MenuItem value={\"created_at DESC\"}>创建日期由晚到早</MenuItem>\n                                <MenuItem value={\"created_at ASC\"}>创建日期由早到晚</MenuItem>\n                                <MenuItem value={\"downloads DESC\"}>下载次数由大到小</MenuItem>\n                                <MenuItem value={\"downloads ASC\"}>下载次数由小到大</MenuItem>\n                                <MenuItem value={\"views DESC\"}>浏览次数由大到小</MenuItem>\n                                <MenuItem value={\"views ASC\"}>浏览次数由小到大</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={24} className={classes.gird}>\n                    {this.state.shareList.map(value => (\n                        <Grid\n                            item\n                            xs={12}\n                            sm={4}\n                            key={value.id}\n                            className={classes.cardContainer}\n                        >\n                            <Card className={classes.card}>\n                                <CardHeader\n                                    avatar={\n                                        <div>\n                                            {!value.is_dir && (\n                                                <TypeIcon\n                                                    fileName={\n                                                        value.source\n                                                            ? value.source.name\n                                                            : \"\"\n                                                    }\n                                                    isUpload\n                                                />\n                                            )}{\" \"}\n                                            {value.is_dir && (\n                                                <Avatar\n                                                    className={\n                                                        classes.avatarFolder\n                                                    }\n                                                >\n                                                    <FolderIcon />\n                                                </Avatar>\n                                            )}\n                                        </div>\n                                    }\n                                    title={\n                                        <Tooltip\n                                            placement=\"top\"\n                                            title={\n                                                value.source\n                                                    ? value.source.name\n                                                    : \"[原始对象不存在]\"\n                                            }\n                                        >\n                                            <Typography\n                                                noWrap\n                                                className={classes.shareTitle}\n                                            >\n                                                {value.source\n                                                    ? value.source.name\n                                                    : \"[原始对象不存在]\"}{\" \"}\n                                            </Typography>\n                                        </Tooltip>\n                                    }\n                                    subheader={\n                                        <span>\n                                            {value.create_date}\n                                            {this.isExpired(value) && (\n                                                <Chip\n                                                    size=\"small\"\n                                                    className={classes.badge}\n                                                    label=\"已失效\"\n                                                />\n                                            )}\n                                        </span>\n                                    }\n                                />\n                                <Divider />\n                                <CardActions\n                                    disableActionSpacing\n                                    style={{\n                                        display: \"block\",\n                                        textAlign: \"right\"\n                                    }}\n                                >\n                                    <Tooltip placement=\"top\" title=\"打开\">\n                                        <IconButton\n                                            onClick={() =>\n                                                this.props.history.push(\"/s/\"+value.key + (value.password === \"\" ?\"\":\"?password=\" + value.password))\n                                            }\n                                        >\n                                            <OpenIcon />\n                                        </IconButton>\n                                    </Tooltip>{\" \"}\n                                    {value.password !== \"\" && (\n                                        <>\n                                            <Tooltip\n                                                placement=\"top\"\n                                                title=\"变更为公开分享\"\n                                                onClick={() =>\n                                                    this.changePermission(\n                                                        value.key\n                                                    )\n                                                }\n                                            >\n                                                <IconButton>\n                                                    <LockIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                            <Tooltip\n                                                placement=\"top\"\n                                                title=\"查看密码\"\n                                                onClick={() =>\n                                                    this.showPwd(\n                                                        value.password\n                                                    )\n                                                }\n                                            >\n                                                <IconButton>\n                                                    <VpnKey />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </>\n                                    )}\n                                    {value.password === \"\" && (\n                                        <Tooltip\n                                            placement=\"top\"\n                                            title=\"变更为私密分享\"\n                                            onClick={() =>\n                                                this.changePermission(\n                                                    value.key\n                                                )\n                                            }\n                                        >\n                                            <IconButton>\n                                                <UnlockIcon />\n                                            </IconButton>\n                                        </Tooltip>\n                                    )}\n                                    <Tooltip\n                                        placement=\"top\"\n                                        title={\n                                            value.preview\n                                                ? \"禁止预览\"\n                                                : \"允许预览\"\n                                        }\n                                        onClick={() =>\n                                            this.changePreviewOption(\n                                                value.key\n                                            )\n                                        }\n                                    >\n                                        <IconButton>\n                                            {!value.preview ? (\n                                                <VisibilityOff />\n                                            ) : (\n                                                <EyeIcon />\n                                            )}\n                                        </IconButton>\n                                    </Tooltip>\n                                    <Tooltip\n                                        placement=\"top\"\n                                        title=\"取消分享\"\n                                        onClick={() =>\n                                            this.removeShare(value.key)\n                                        }\n                                    >\n                                        <IconButton>\n                                            <DeleteIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                </CardActions>\n                            </Card>\n                        </Grid>\n                    ))}\n                </Grid>\n                <div className={classes.loadMore}>\n                    <Pagination\n                            count={Math.ceil(this.state.total / 18)}\n                            onChange={this.handlePageChange}\n                            color=\"secondary\"\n                        />\n                </div>{\" \"}\n                <Dialog\n                    open={this.state.showPwd !== null}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle> 分享密码 </DialogTitle>{\" \"}\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            value={this.state.showPwd}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>{\" \"}\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            关闭{\" \"}\n                        </Button>{\" \"}\n                    </DialogActions>{\" \"}\n                </Dialog>{\" \"}\n            </div>\n        );\n    }\n}\n\nconst MyShare = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(MyShareCompoment)));\n\nexport default MyShare;\n","import React, {useState, useEffect} from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    CircularProgress\n} from \"@material-ui/core\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nconst useStyles = makeStyles(theme => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\"\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\"\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12\n    },\n    content:{\n        padding:0,\n    }\n}));\n\nexport default function SelectFileDialog(props) {\n    const [files,setFiles] = useState(props.files);\n\n    useEffect(()=>{\n        setFiles(props.files);\n    },[props.files]);\n\n\n    const handleChange = index => event =>{\n        const filesCopy = [...files];\n        // eslint-disable-next-line\n        filesCopy.map((v,k)=>{\n            if (v.index === index){\n                filesCopy[k] = {...filesCopy[k],selected:event.target.checked ? \"true\" : \"false\"};\n            }\n        });\n        setFiles(filesCopy);\n    };\n\n    const submit = () =>{\n        const index = [];\n        // eslint-disable-next-line\n        files.map(v=>{\n            if(v.selected === \"true\"){\n                index.push(parseInt(v.index));\n            }\n        });\n        props.onSubmit(index);\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">选择要下载的文件</DialogTitle>\n            <DialogContent dividers={\"paper\"} className={classes.content}>\n                {files.map((v, k) => {\n                    return (\n                        <MenuItem key={k}>\n                        <FormGroup row>\n                            <FormControlLabel\n                                control={\n                                    <Checkbox\n                                        onChange={handleChange(v.index)}\n                                        checked={v.selected === \"true\"}\n                                        value=\"checkedA\"\n                                    />\n                                }\n                                label={v.path}\n                            />\n                        </FormGroup></MenuItem>\n                    );\n                })}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button color=\"primary\" onClick={submit} disabled={props.modalsLoading}>\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useCallback, useEffect } from \"react\";\nimport {\n    Card,\n    CardContent,\n    darken,\n    IconButton,\n    lighten,\n    LinearProgress,\n    makeStyles,\n    Typography,\n    useTheme\n} from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { hex2bin, sizeToString } from \"../../utils\";\nimport PermMediaIcon from \"@material-ui/icons/PermMedia\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { ExpandMore, HighlightOff } from \"@material-ui/icons\";\nimport classNames from \"classnames\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Table from \"@material-ui/core/Table\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport API from \"../../middleware/Api\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TimeAgo from \"timeago-react\";\nimport SelectFileDialog from \"../Modals/SelectFile\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0\n        },\n        \"&:before\": {\n            display: \"none\"\n        },\n        \"&$expanded\": {}\n    },\n    expanded: {}\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 56\n        }\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"flex\",\n        \"&$expanded\": {\n            margin: \"0\"\n        }\n    },\n    expanded: {}\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles(theme => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0)\n    }\n}))(MuiExpansionPanelDetails);\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        marginTop: \"20px\",\n        justifyContent: \"space-between\"\n    },\n    iconContainer: {\n        width: \"90px\",\n        height: \"96px\",\n        padding: \" 35px 29px 29px 29px\",\n        paddingLeft: \"35px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\"\n        }\n    },\n    content: {\n        width: \"100%\",\n        minWidth: 0,\n        [theme.breakpoints.up(\"sm\")]: {\n            borderInlineStart: \"1px \" + theme.palette.divider + \" solid\"\n        }\n    },\n    contentSide: {\n        minWidth: 0,\n        paddingTop: \"24px\",\n        paddingRight: \"28px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\"\n        }\n    },\n    iconBig: {\n        fontSize: \"30px\"\n    },\n    iconMultiple: {\n        fontSize: \"30px\",\n        color: \"#607D8B\"\n    },\n    progress: {\n        marginTop: 8,\n        marginBottom: 4\n    },\n    expand: {\n        transition: \".15s transform ease-in-out\"\n    },\n    expanded: {\n        transform: \"rotate(180deg)\"\n    },\n    subFileName: {\n        display: \"flex\"\n    },\n    subFileIcon: {\n        marginRight: \"20px\"\n    },\n    scroll: {\n        overflowY: \"auto\"\n    },\n    action: {\n        padding: theme.spacing(2),\n        textAlign: \"right\"\n    },\n    actionButton: {\n        marginLeft: theme.spacing(1)\n    },\n    info: {\n        padding: theme.spacing(2)\n    },\n    infoTitle: {\n        fontWeight: 700\n    },\n    infoValue: {\n        color: theme.palette.text.secondary\n    },\n    bitmap: {\n        width: \"100%\",\n        height: \"50px\",\n        backgroundColor: theme.palette.background.default\n    }\n}));\n\nexport default function DownloadingCard(props) {\n    const canvasRef = React.createRef();\n    const classes = useStyles();\n    const theme = useTheme();\n\n    const [expanded, setExpanded] = React.useState(\"\");\n    const [task, setTask] = React.useState(props.task);\n    const [loading, setLoading] = React.useState(false);\n    const [selectDialogOpen,setSelectDialogOpen] = React.useState(false);\n\n    const handleChange = panel => (event, newExpanded) => {\n        setExpanded(newExpanded ? panel : false);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setTask(props.task);\n    }, [props.task]);\n\n    useEffect(() => {\n        if (task.info.bitfield === \"\") {\n            return;\n        }\n        let result = \"\";\n        task.info.bitfield.match(/.{1,2}/g).forEach(str => {\n            result += hex2bin(str);\n        });\n        const canvas = canvasRef.current;\n        const context = canvas.getContext(\"2d\");\n        context.clearRect(0, 0, canvas.width, canvas.height);\n        context.strokeStyle = theme.palette.primary.main;\n        for (let i = 0; i < canvas.width; i++) {\n            let bit =\n                result[Math.round(((i + 1) / canvas.width) * task.info.numPieces)];\n            bit = bit ? bit : result.slice(-1);\n            if (bit === \"1\") {\n                context.beginPath();\n                context.moveTo(i, 0);\n                context.lineTo(i, canvas.height);\n                context.stroke();\n            }\n        }\n        // eslint-disable-next-line\n    }, [task.info.bitfield,task.info.numPieces, theme]);\n\n    const getPercent = (completed, total) => {\n        if (total === 0) {\n            return 0;\n        }\n        return (completed / total) * 100;\n    };\n\n\n    const activeFiles = useCallback(() => {\n      return task.info.files.filter(v => v.selected === \"true\");\n    }, [task.info.files]);\n\n    const deleteFile = index => {\n        setLoading(true);\n        const current = activeFiles();\n        const newIndex = [];\n        const newFiles = [];\n        // eslint-disable-next-line\n        current.map(v => {\n            if (v.index !== index && v.selected) {\n                newIndex.push(parseInt(v.index));\n                newFiles.push({\n                    ...v,\n                    selected: \"true\"\n                });\n            } else {\n                newFiles.push({\n                    ...v,\n                    selected: \"false\"\n                });\n            }\n        });\n        API.put(\"/aria2/select/\" + task.info.gid, {\n            indexes: newIndex\n        })\n            .then(() => {\n                setTask({\n                    ...task,\n                    info: {\n                        ...task.info,\n                        files: newFiles\n                    }\n                });\n                ToggleSnackbar(\"top\", \"right\", \"文件已删除\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const getDownloadName = useCallback(() => {\n        if (task.info.bittorrent.info.name !== \"\") {\n            return task.info.bittorrent.info.name;\n        }\n        return task.name === \".\" ? \"[未知]\" : task.name;\n    }, [task]);\n\n    const getIcon = useCallback(() => {\n        if (task.info.bittorrent.mode === \"multi\") {\n            return (\n                <Badge badgeContent={activeFiles().length} color=\"secondary\">\n                    <PermMediaIcon className={classes.iconMultiple} />\n                </Badge>\n            );\n        } else {\n            return (\n                <TypeIcon\n                    className={classes.iconBig}\n                    fileName={getDownloadName(task)}\n                />\n            );\n        }\n        // eslint-disable-next-line\n    }, [task, classes]);\n\n    const cancel = () => {\n        setLoading(true);\n        API.delete(\"/aria2/task/\" + task.info.gid, )\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"任务已取消，状态会在稍后更新\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const changeSelectedFile = fileIndex =>{\n        setLoading(true);\n        API.put(\"/aria2/select/\" + task.info.gid, {\n            indexes: fileIndex\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"操作成功，状态会在稍后更新\", \"success\");\n                setSelectDialogOpen(false);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <Card className={classes.card}>\n            <SelectFileDialog\n                open = {selectDialogOpen}\n                onClose ={()=>setSelectDialogOpen(false)}\n                modalsLoading={loading}\n                files={props.task.info.files}\n                onSubmit={changeSelectedFile}\n            />\n            <ExpansionPanel\n                square\n                expanded={expanded === task.info.gid}\n                onChange={handleChange(task.info.gid)}\n            >\n                <ExpansionPanelSummary\n                    aria-controls=\"panel1d-content\"\n                    id=\"panel1d-header\"\n                >\n                    <div className={classes.iconContainer}>{getIcon()}</div>\n                    <CardContent className={classes.content}>\n                        <Typography color=\"primary\" noWrap>\n                            <Tooltip title={getDownloadName()}>\n                                <span>{getDownloadName()}</span>\n                            </Tooltip>\n                        </Typography>\n                        <LinearProgress\n                            color=\"secondary\"\n                            variant=\"determinate\"\n                            className={classes.progress}\n                            value={getPercent(task.downloaded, task.total)}\n                        />\n                        <Typography\n                            variant=\"body2\"\n                            color=\"textSecondary\"\n                            noWrap\n                        >\n                            {task.total > 0 && (\n                                <span>\n                                    {getPercent(\n                                        task.downloaded,\n                                        task.total\n                                    ).toFixed(2)}\n                                    % -{\" \"}\n                                    {task.downloaded === 0\n                                        ? \"0Bytes\"\n                                        : sizeToString(task.downloaded)}\n                                    /\n                                    {task.total === 0\n                                        ? \"0Bytes\"\n                                        : sizeToString(task.total)}{\" \"}\n                                    -{\" \"}\n                                    {task.speed === \"0\"\n                                        ? \"0B/s\"\n                                        : sizeToString(task.speed) + \"/s\"}\n                                </span>\n                            )}\n                            {task.total === 0 && <span> - </span>}\n                        </Typography>\n                    </CardContent>\n                    <CardContent className={classes.contentSide}>\n                        <IconButton>\n                            <ExpandMore\n                                className={classNames(\n                                    {\n                                        [classes.expanded]:\n                                            expanded === task.info.gid\n                                    },\n                                    classes.expand\n                                )}\n                            />\n                        </IconButton>\n                    </CardContent>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Divider />\n                    {task.info.bittorrent.mode === \"multi\" &&\n                        <div className={classes.scroll}>\n                            <Table size=\"small\">\n                                <TableBody>\n                                    {activeFiles().map((value) => {\n                                        return (\n                                            <TableRow\n                                                key={value.index}\n                                                style={{\n                                                    background:\n                                                        \"linear-gradient(to right, \" +\n                                                        (theme.palette.type ===\n                                                        \"dark\"\n                                                            ? darken(\n                                                                theme.palette\n                                                                    .primary.main,\n                                                                0.4\n                                                            )\n                                                            : lighten(\n                                                                theme.palette\n                                                                    .primary.main,\n                                                                0.85\n                                                            )) +\n                                                        \" 0%,\" +\n                                                        (theme.palette.type ===\n                                                        \"dark\"\n                                                            ? darken(\n                                                                theme.palette\n                                                                    .primary.main,\n                                                                0.4\n                                                            )\n                                                            : lighten(\n                                                                theme.palette\n                                                                    .primary.main,\n                                                                0.85\n                                                            )) +\n                                                        \" \" +\n                                                        getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(0) +\n                                                        \"%,\" +\n                                                        theme.palette.background\n                                                            .paper +\n                                                        \" \" +\n                                                        getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(0) +\n                                                        \"%,\" +\n                                                        theme.palette.background\n                                                            .paper +\n                                                        \" 100%)\"\n                                                }}\n                                            >\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography\n                                                        className={\n                                                            classes.subFileName\n                                                        }\n                                                    >\n                                                        <TypeIcon\n                                                            className={\n                                                                classes.subFileIcon\n                                                            }\n                                                            fileName={value.path}\n                                                        />\n                                                        {value.path}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {\" \"}\n                                                        {sizeToString(value.length)}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(2)}\n                                                        %\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell>\n                                                    <Tooltip title=\"删除此文件\">\n                                                        <IconButton\n                                                            onClick={() =>\n                                                                deleteFile(\n                                                                    value.index\n                                                                )\n                                                            }\n                                                            disabled={loading}\n                                                            size={\"small\"}\n                                                        >\n                                                            <HighlightOff />\n                                                        </IconButton>\n                                                    </Tooltip>\n                                                </TableCell>\n                                            </TableRow>\n                                        );\n                                    })}\n                                </TableBody>\n                            </Table>\n                        </div>\n                    }\n\n                    <div className={classes.action}>\n                        <Button\n                            className={classes.actionButton}\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            onClick={() => window.location.href=\"/#/home?path=\" + encodeURIComponent(task.dst)}\n                        >\n                            打开存放目录\n                        </Button>\n                        {task.info.bittorrent.mode === \"multi\" &&\n                            <Button\n                                className={classes.actionButton}\n                                variant=\"outlined\"\n                                color=\"secondary\"\n                                disabled={loading}\n                                onClick={() => setSelectDialogOpen(true)}\n                            >\n                                选择要下载的文件\n                            </Button>\n                        }\n                        <Button\n                            className={classes.actionButton}\n                            onClick={cancel}\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            disabled={loading}\n                        >\n                            取消任务\n                        </Button>\n                    </div>\n                    <Divider />\n                    <div className={classes.info}>\n                        {task.info.bitfield !== \"\" && (\n                            <canvas\n                                width={\"700\"}\n                                height={\"100\"}\n                                ref={canvasRef}\n                                className={classes.bitmap}\n                            />\n                        )}\n\n                        <Grid container>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    更新于：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    <TimeAgo\n                                        datetime={parseInt(task.update + \"000\")}\n                                        locale=\"zh_CN\"\n                                    />\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    上传大小：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {sizeToString(task.info.uploadLength)}\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    上传速度：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {sizeToString(task.info.uploadSpeed)} / s\n                                </Grid>\n                            </Grid>\n                            {task.info.bittorrent.mode !== \"\" && (\n                                <>\n                                    <Grid container xs={12} sm={8}>\n                                        <Grid\n                                            item\n                                            sm={2}\n                                            xs={4}\n                                            className={classes.infoTitle}\n                                        >\n                                            InfoHash：\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            sm={10}\n                                            xs={8}\n                                            style={{\n                                                wordBreak:\"break-all\",\n                                            }}\n                                            className={classes.infoValue}\n                                        >\n                                            {task.info.infoHash}\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container xs={12} sm={4}>\n                                        <Grid\n                                            item\n                                            xs={4}\n                                            className={classes.infoTitle}\n                                        >\n                                            做种者：\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            xs={8}\n                                            className={classes.infoValue}\n                                        >\n                                            {task.info.numSeeders}\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container xs={12} sm={4}>\n                                        <Grid\n                                            item\n                                            xs={4}\n                                            className={classes.infoTitle}\n                                        >\n                                            做种中：\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            xs={8}\n                                            className={classes.infoValue}\n                                        >\n                                            {task.info.seeder === \"true\"\n                                                ? \"是\"\n                                                : \"否\"}\n                                        </Grid>\n                                    </Grid>\n                                </>\n                            )}\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    分片大小：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {sizeToString(task.info.pieceLength)}\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    分片数量：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {task.info.numPieces}\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </div>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </Card>\n    );\n}\n","import React, { useCallback } from \"react\";\nimport {\n    Card,\n    CardContent,\n    IconButton,\n    makeStyles,\n    Typography,\n    useTheme\n} from \"@material-ui/core\";\nimport { sizeToString } from \"../../utils\";\nimport PermMediaIcon from \"@material-ui/icons/PermMedia\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { ExpandMore } from \"@material-ui/icons\";\nimport classNames from \"classnames\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Table from \"@material-ui/core/Table\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\n\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0\n        },\n        \"&:before\": {\n            display: \"none\"\n        },\n        \"&$expanded\": {}\n    },\n    expanded: {}\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 56\n        }\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"flex\",\n        \"&$expanded\": {\n            margin: \"0\"\n        }\n    },\n    expanded: {}\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles(theme => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0)\n    }\n}))(MuiExpansionPanelDetails);\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        marginTop: \"20px\",\n        justifyContent: \"space-between\"\n    },\n    iconContainer: {\n        width: \"90px\",\n        height: \"96px\",\n        padding: \" 35px 29px 29px 29px\",\n        paddingLeft: \"35px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\"\n        }\n    },\n    content: {\n        width: \"100%\",\n        minWidth: 0,\n        [theme.breakpoints.up(\"sm\")]: {\n            borderInlineStart: \"1px \" + theme.palette.divider + \" solid\"\n        },\n        textAlign:\"left\",\n    },\n    contentSide: {\n        minWidth: 0,\n        paddingTop: \"24px\",\n        paddingRight: \"28px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\"\n        }\n    },\n    iconBig: {\n        fontSize: \"30px\"\n    },\n    iconMultiple: {\n        fontSize: \"30px\",\n        color: \"#607D8B\"\n    },\n    progress: {\n        marginTop: 8,\n        marginBottom: 4\n    },\n    expand: {\n        transition: \".15s transform ease-in-out\"\n    },\n    expanded: {\n        transform: \"rotate(180deg)\"\n    },\n    subFileName: {\n        display: \"flex\"\n    },\n    subFileIcon: {\n        marginRight: \"20px\"\n    },\n    scroll: {\n        overflowY: \"auto\"\n    },\n    action: {\n        padding: theme.spacing(2),\n        textAlign: \"right\"\n    },\n    actionButton: {\n        marginLeft: theme.spacing(1)\n    },\n    info: {\n        padding: theme.spacing(2)\n    },\n    infoTitle: {\n        fontWeight: 700\n    },\n    infoValue: {\n        color: theme.palette.text.secondary\n    },\n}));\n\nexport default function FinishedCard(props) {\n    const classes = useStyles();\n    const theme = useTheme();\n\n    const [expanded, setExpanded] = React.useState(false);\n\n    const handleChange = () => (event, newExpanded) => {\n        setExpanded(!!newExpanded);\n    };\n\n\n\n    const getPercent = (completed, total) => {\n        if (total == 0) {\n            return 0;\n        }\n        return (completed / total) * 100;\n    };\n\n    const getDownloadName = useCallback(() => {\n        return props.task.name === \".\" ? \"[未知]\" : props.task.name;\n    }, [props.task.name]);\n\n    const activeFiles = useCallback(() => {\n        return props.task.files.filter(v => v.selected === \"true\");\n    }, [props.task.files]);\n\n    const getIcon = useCallback(() => {\n        if (props.task.files.length > 1) {\n            return (\n                <Badge badgeContent={activeFiles().length} color=\"secondary\">\n                    <PermMediaIcon className={classes.iconMultiple} />\n                </Badge>\n            );\n        } else {\n            return (\n                <TypeIcon\n                    className={classes.iconBig}\n                    fileName={getDownloadName(props.task)}\n                />\n            );\n        }\n    }, [props.task, classes]);\n\n    const getTaskError = error =>{\n        try{\n            const res = JSON.parse(error)\n            return res.msg + \"：\" + res.error\n        }catch (e) {\n            return \"文件转存失败\"\n        }\n\n    };\n\n    return (\n        <Card className={classes.card}>\n            <ExpansionPanel\n                square\n                expanded={expanded}\n                onChange={handleChange(\"\")}\n            >\n                <ExpansionPanelSummary\n                    aria-controls=\"panel1d-content\"\n                    id=\"panel1d-header\"\n                >\n                    <div className={classes.iconContainer}>{getIcon()}</div>\n                    <CardContent className={classes.content}>\n                        <Typography color=\"primary\" noWrap>\n                            <Tooltip title={getDownloadName()}>\n                                <span>{getDownloadName()}</span>\n                            </Tooltip>\n                        </Typography>\n                        {props.task.status === 3&&\n                            <Tooltip title={props.task.error}>\n                                <Typography\n                                    variant=\"body2\"\n                                    color=\"error\"\n                                    noWrap\n                                >\n                                    下载出错：{props.task.error}\n                                </Typography>\n                            </Tooltip>\n\n                        }\n                        {props.task.status === 5&&\n                            <Typography\n                                variant=\"body2\"\n                                color=\"textSecondary\"\n                                noWrap\n                            >\n                                已取消{props.task.error !== \"\" &&<span>：{props.task.error}</span>}\n                            </Typography>\n                        }\n                        {(props.task.status === 4 && props.task.task_status === 4)&&\n                            <Typography\n                                variant=\"body2\"\n                                style={{\n                                    color:theme.palette.success.main,\n                                }}\n                                noWrap\n                            >\n                                已完成\n                            </Typography>\n                        }\n                        {(props.task.status === 4 && props.task.task_status === 0)&&\n                            <Typography\n                                variant=\"body2\"\n                                style={{\n                                    color:theme.palette.success.light,\n                                }}\n                                noWrap\n                            >\n                                已完成，转存排队中\n                            </Typography>\n                        }\n                        {(props.task.status === 4 && props.task.task_status === 1)&&\n                            <Typography\n                                variant=\"body2\"\n                                style={{\n                                    color:theme.palette.success.light,\n                                }}\n                                noWrap\n                            >\n                                已完成，转存处理中\n                            </Typography>\n                        }\n                        {(props.task.status === 4 && props.task.task_status === 2)&&\n                        <Typography\n                            variant=\"body2\"\n                            color={\"error\"}\n                            noWrap\n                        >\n                            {getTaskError(props.task.task_error)}\n                        </Typography>\n                        }\n\n                    </CardContent>\n                    <CardContent className={classes.contentSide}>\n                        <IconButton>\n                            <ExpandMore\n                                className={classNames(\n                                    {\n                                        [classes.expanded]:\n                                            expanded\n                                    },\n                                    classes.expand\n                                )}\n                            />\n                        </IconButton>\n                    </CardContent>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Divider />\n                    {props.task.files.length>1 &&\n                        <div className={classes.scroll}>\n                            <Table>\n                                <TableBody>\n                                    {activeFiles().map((value) => {\n                                        return (\n                                            <TableRow\n                                                key={value.index}\n                                            >\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography\n                                                        className={\n                                                            classes.subFileName\n                                                        }\n                                                    >\n                                                        <TypeIcon\n                                                            className={\n                                                                classes.subFileIcon\n                                                            }\n                                                            fileName={value.path}\n                                                        />\n                                                        {value.path}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {\" \"}\n                                                        {sizeToString(value.length)}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(2)}\n                                                        %\n                                                    </Typography>\n                                                </TableCell>\n                                            </TableRow>\n                                        );\n                                    })}\n                                </TableBody>\n                            </Table>\n                        </div>\n                    }\n\n                    <div className={classes.action}>\n                        <Button\n                            className={classes.actionButton}\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            onClick={() => window.location.href=\"/#/home?path=\" + encodeURIComponent(props.task.dst)}\n                        >\n                            打开存放目录\n                        </Button>\n                    </div>\n                    <Divider />\n                    <div className={classes.info}>\n                        <Grid container>\n                            <Grid container xs={12} sm={6}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    创建日期：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {props.task.create}\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={6}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    最后更新：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {props.task.update}\n                                </Grid>\n                            </Grid>\n                        </Grid>\n\n                    </div>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </Card>\n    );\n}\n","import React, { useCallback } from \"react\";\nimport { openRemoteDownloadDialog } from \"../../actions\";\nimport { useDispatch } from \"react-redux\";\nimport AutoHidden from \"./AutoHidden\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Fab from \"@material-ui/core/Fab\";\nimport { Add } from \"@material-ui/icons\";\nimport Modals from \"../FileManager/Modals\";\n\nconst useStyles = makeStyles(() => ({\n    fab: {\n        margin: 0,\n        top: \"auto\",\n        right: 20,\n        bottom: 20,\n        left: \"auto\",\n        zIndex: 5,\n        position: \"fixed\"\n    },\n}));\n\nexport default function RemoteDownloadButton() {\n\n    const classes = useStyles();\n    const dispatch = useDispatch();\n\n    const OpenRemoteDownloadDialog = useCallback(\n        () => dispatch(openRemoteDownloadDialog()),\n        [dispatch]\n    );\n\n\n    return (\n        <>\n        <Modals/>\n        <AutoHidden enable>\n            <Fab\n                className={classes.fab}\n                color=\"secondary\"\n                onClick={()=>OpenRemoteDownloadDialog()}\n            >\n                <Add/>\n            </Fab>\n        </AutoHidden>\n            </>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { toggleSnackbar } from \"../../actions\";\nimport API from \"../../middleware/Api\";\nimport {\n    withStyles,\n    Typography,\n    Button,\n    IconButton\n} from \"@material-ui/core\";\nimport DownloadingCard from \"./DownloadingCard\";\nimport FinishedCard from \"./FinishedCard\";\nimport RemoteDownloadButton from \"../Dial/Aria2\";\nimport Auth from \"../../middleware/Auth\";\n\nconst styles = theme => ({\n    actions: {\n        display: \"flex\"\n    },\n    title: {\n        marginTop: \"20px\"\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 700,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        }\n    },\n    shareTitle: {\n        maxWidth: \"200px\"\n    },\n    avatarFile: {\n        backgroundColor: theme.palette.primary.light\n    },\n    avatarFolder: {\n        backgroundColor: theme.palette.secondary.light\n    },\n    gird: {\n        marginTop: \"30px\"\n    },\n    hide: {\n        display: \"none\"\n    },\n    loadingAnimation: {\n        borderRadius: \"6px 6px 0 0\"\n    },\n    shareFix: {\n        marginLeft: \"20px\"\n    },\n    loadMore: {\n        textAlign: \"center\",\n        marginTop: \"20px\",\n        marginBottom: \"20px\"\n    },\n    margin:{\n        marginTop:theme.spacing(2),\n    }\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        }\n    };\n};\n\nclass DownloadComponent extends Component {\n    page = 0;\n    interval = 0;\n\n    state = {\n        downloading: [],\n        loading: false,\n        finishedList: [],\n        continue: true\n    };\n\n    componentDidMount = () => {\n        this.loadDownloading();\n        this.loadMore();\n    };\n\n    componentWillUnmount() {\n        clearTimeout(this.interval);\n    }\n\n    loadDownloading = () => {\n        this.setState({\n            loading: true\n        });\n        API.get(\"/aria2/downloading\")\n            .then(response => {\n                this.setState({\n                    downloading: response.data,\n                    loading: false\n                });\n                // 设定自动更新\n                clearTimeout(this.interval);\n                if(response.data.length > 0){\n                    this.interval = setTimeout(this.loadDownloading,1000 * response.data[0].interval);\n                }\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    loadMore = () => {\n        this.setState({\n            loading: true\n        });\n        API\n            .get(\"/aria2/finished?page=\" + ++this.page)\n            .then(response => {\n                this.setState({\n                    finishedList: [...this.state.finishedList,...response.data],\n                    loading: false,\n                    continue: response.data.length >= 10\n                });\n            })\n            .catch(() => {\n                this.props.toggleSnackbar(\"top\", \"right\", \"加载失败\", \"error\");\n                this.setState({\n                    loading: false\n                });\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n\n        return (\n            <div className={classes.layout}>\n                {user.group.allowRemoteDownload&& <RemoteDownloadButton/>}\n                <Typography\n                    color=\"textSecondary\"\n                    variant=\"h4\"\n                    className={classes.title}\n                >\n                    进行中\n                    <IconButton\n                        disabled={this.state.loading}\n                        onClick={this.loadDownloading}\n                    >\n                        <RefreshIcon />\n                    </IconButton>\n                </Typography>\n                {this.state.downloading.map((value, k) => (\n                    <DownloadingCard key={ k } task={value} />\n                ))}\n                <Typography\n                    color=\"textSecondary\"\n                    variant=\"h4\"\n                    className={classes.title}\n                >\n                    已完成\n                </Typography>\n                <div className={classes.loadMore}>\n                    {this.state.finishedList.map((value, k) => {\n                        if (value.files) {\n                            return (\n                                <FinishedCard key={k} task={value}/>\n                            )\n                        }\n                        return null\n\n                    })}\n                    <Button\n                        size=\"large\"\n                        className={classes.margin}\n                        disabled={!this.state.continue}\n                        onClick={this.loadMore}\n                    >\n                        加载更多\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst Download = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(DownloadComponent));\n\nexport default Download;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\n\nimport {\n    withStyles,\n    Button,\n    Card,\n    Divider,\n    CardHeader,\n    CardContent,\n    CardActions,\n    TextField,\n    Avatar\n} from \"@material-ui/core\";\nimport { withRouter} from \"react-router\";\n\nconst styles = theme => ({\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\"\n    },\n    actions: {\n        display: \"flex\"\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        }\n    },\n    continue: {\n        marginLeft: \"auto\",\n        marginRight: \"10px\",\n        marginRottom: \"10px\"\n    }\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        }\n    };\n};\n\nclass LockedFileCompoment extends Component {\n    constructor(props) {\n        super(props);\n        const query = new URLSearchParams(this.props.location.search);\n        this.state = {\n            pwd: query.get(\"password\"),\n        };\n\n    }\n\n    handleChange = name => event => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    submit = e => {\n        e.preventDefault();\n        if (this.state.pwd === \"\") {\n            return;\n        }\n        this.props.setPassowrd(this.state.pwd);\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                <Card className={classes.card}>\n                    <CardHeader\n                        avatar={\n                            <Avatar\n                                aria-label=\"Recipe\"\n                                src={\n                                    \"/api/v3/user/avatar/\"+this.props.share.creator.key + \"/l\"\n                                }\n                            />\n                        }\n                        title={this.props.share.creator.nick + \" 的加密分享\"}\n                        subheader={this.props.share.create_date}\n                    />\n                    <Divider />\n                    <CardContent>\n                        <form onSubmit={this.submit}>\n                            <TextField\n                                id=\"pwd\"\n                                label=\"输入分享密码\"\n                                value={this.state.pwd}\n                                onChange={this.handleChange(\"pwd\")}\n                                margin=\"normal\"\n                                type=\"password\"\n                                autoFocus\n                                fullWidth\n                                color=\"secondary\"\n                            />\n                        </form>\n                    </CardContent>\n                    <CardActions\n                        className={classes.actions}\n                        disableActionSpacing\n                    >\n                        <Button\n                            onClick={this.submit}\n                            color=\"secondary\"\n                            className={classes.continue}\n                            variant=\"contained\"\n                            disabled={\n                                this.state.pwd === \"\" || this.props.loading\n                            }\n                        >\n                            继续\n                        </Button>\n                    </CardActions>\n                </Card>\n            </div>\n        );\n    }\n}\n\nconst LockedFile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(LockedFileCompoment)));\n\nexport default LockedFile;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Typography } from \"@material-ui/core\";\nimport { useHistory } from \"react-router\";\nimport Link from \"@material-ui/core/Link\";\n\nconst useStyles = makeStyles(theme => ({\n    boxHeader: {\n        textAlign: \"center\",\n        padding: 24\n    },\n    avatar: {\n        backgroundColor: theme.palette.secondary.main,\n        margin: \"0 auto\",\n        width: 50,\n        height: 50,\n        cursor: \"pointer\"\n    },\n    shareDes: {\n        marginTop: 12\n    },\n    shareInfo: {\n        color: theme.palette.text.disabled,\n        fontSize: 14\n    }\n}));\n\nexport default function Creator(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const getSecondDes = () => {\n        if (props.share.expire > 0) {\n            if (props.share.expire >= 24 * 3600) {\n                return (\n                    Math.round(props.share.expire / (24 * 3600)) + \" 天后到期\"\n                );\n            }\n            return Math.round(props.share.expire / 3600) + \" 小时后到期\";\n        }\n        return props.share.create_date;\n    };\n\n    const userProfile = () => {\n        history.push(\"/profile/\" + props.share.creator.key);\n        props.onClose && props.onClose();\n    };\n\n    return (\n        <div className={classes.boxHeader}>\n            <Avatar\n                className={classes.avatar}\n                alt={props.share.creator.nick}\n                src={\"/api/v3/user/avatar/\" + props.share.creator.key + \"/l\"}\n                onClick={() => userProfile()}\n            />\n            <Typography variant=\"h6\" className={classes.shareDes}>\n                {props.isFolder && (\n                    <>\n                        此分享由{\" \"}\n                        <Link\n                            onClick={() => userProfile()}\n                            href={\"javascript:void(0)\"}\n                            color=\"inherit\"\n                        >\n                            {props.share.creator.nick}\n                        </Link>{\" \"}\n                        创建\n                    </>\n                )}\n                {!props.isFolder && (\n                    <>\n                        {\" \"}\n                        <Link\n                            onClick={() => userProfile()}\n                            href={\"javascript:void(0)\"}\n                            color=\"inherit\"\n                        >\n                            {props.share.creator.nick}\n                        </Link>{\" \"}\n                        向您分享了 1 个文件\n                    </>\n                )}\n            </Typography>\n            <Typography className={classes.shareInfo}>\n                {props.share.views} 次浏览 • {props.share.downloads} 次下载 •{\" \"}\n                {getSecondDes()}\n            </Typography>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { sizeToString, vhCheck } from \"../../utils\";\nimport {\n    openMusicDialog,\n    openResaveDialog,\n    setSelectedTarget,\n    showImgPreivew,\n    toggleSnackbar\n} from \"../../actions\";\nimport { isPreviewable } from \"../../config\";\nimport { withStyles, Button, Typography } from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport Auth from \"../../middleware/Auth\";\nimport PurchaseShareDialog from \"../Modals/PurchaseShare\";\nimport API from \"../../middleware/Api\";\nimport { withRouter } from \"react-router-dom\";\nimport Creator from \"./Creator\";\nimport pathHelper from \"../../utils/page\";\nimport Report from \"../Modals/Report\";\n\nvhCheck()\nconst styles = theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"90px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginTop: \"90px\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            marginTop: 0,\n            marginLeft: 0,\n            marginRight: 0\n        },\n        justifyContent: \"center\",\n        display: \"flex\"\n    },\n    player: {\n        borderRadius: \"4px\"\n    },\n    fileCotainer: {\n        width: \"200px\",\n        margin: \"0 auto\"\n    },\n    buttonCotainer: {\n        width: \"400px\",\n        margin: \"0 auto\",\n        textAlign: \"center\",\n        marginTop: \"20px\"\n    },\n    paper: {\n        padding: theme.spacing(2)\n    },\n    icon: {\n        borderRadius: \"10%\",\n        marginTop: 2\n    },\n\n    box: {\n        width: \"100%\",\n        maxWidth: 440,\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: 12,\n        boxShadow: \"0 8px 16px rgba(29,39,55,.25)\",\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"calc(var(--vh, 100vh) - 56px)\",\n            borderRadius: 0,\n            maxWidth: 1000\n        },\n        display: \"flex\",\n        flexDirection: \"column\"\n    },\n    boxContent: {\n        padding: 24,\n        display: \"flex\",\n        flex: \"1\"\n    },\n    fileName: {\n        marginLeft: 20\n    },\n    fileSize: {\n        color: theme.palette.text.disabled,\n        fontSize: 14\n    },\n    boxFooter: {\n        display: \"flex\",\n        padding: \"20px 16px\",\n        justifyContent: \"space-between\"\n    },\n    downloadButton: {\n        marginLeft: 8\n    }\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        setSelectedTarget: targets => {\n            dispatch(setSelectedTarget(targets));\n        },\n        showImgPreivew: first => {\n            dispatch(showImgPreivew(first));\n        },\n        openResave: key => {\n            dispatch(openResaveDialog(key));\n        }\n    };\n};\n\nconst Modals = React.lazy(() => import(\"../FileManager/Modals\"));\nconst ImgPreview = React.lazy(() => import(\"../FileManager/ImgPreview\"));\n\nclass SharedFileCompoment extends Component {\n    state = {\n        anchorEl: null,\n        open: false,\n        purchaseCallback: null,\n        loading: false,\n        openReport: false\n    };\n\n    downloaded = false;\n\n    preview = () => {\n        if (pathHelper.isSharePage(this.props.location.pathname)) {\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"请先登录\",\n                    \"warning\"\n                );\n                return;\n            }\n        }\n\n        switch (isPreviewable(this.props.share.source.name)) {\n            case \"img\":\n                this.props.showImgPreivew({\n                    key: this.props.share.key,\n                    name: this.props.share.source.name\n                });\n                return;\n            case \"msDoc\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/doc?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"audio\":\n                this.props.setSelectedTarget([\n                    {\n                        key: this.props.share.key,\n                        type: \"share\"\n                    }\n                ]);\n                this.props.openMusicDialog();\n                return;\n            case \"video\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/video?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"edit\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/text?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"pdf\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/pdf?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"code\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/code?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            default:\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"此文件无法预览\",\n                    \"warning\"\n                );\n                return;\n        }\n    };\n\n    componentWillUnmount() {\n        this.props.setSelectedTarget([]);\n    }\n\n    scoreHandle = callback => event => {\n        if (this.props.share.score > 0) {\n            if (!Auth.Check()) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"登录后才能继续操作\",\n                    \"warning\"\n                );\n                return;\n            }\n            if (!Auth.GetUser().group.shareFree && !this.downloaded) {\n                this.setState({\n                    purchaseCallback: () => {\n                        this.setState({\n                            purchaseCallback: null\n                        });\n                        callback(event);\n                    }\n                });\n                return;\n            }\n        }\n        callback(event);\n    };\n\n    download = () => {\n        this.setState({ loading: true });\n        API.put(\"/share/download/\" + this.props.share.key)\n            .then(response => {\n                this.downloaded = true;\n                window.location.assign(response.data);\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            })\n            .then(() => {\n                this.setState({ loading: false });\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const isLogin = Auth.Check();\n\n        return (\n            <div className={classes.layout}>\n                <Modals />\n                <ImgPreview />\n                <PurchaseShareDialog\n                    callback={this.state.purchaseCallback}\n                    score={this.props.share.score}\n                    onClose={() => this.setState({ purchaseCallback: null })}\n                />\n                <Report\n                    open={this.state.openReport}\n                    share={this.props.share}\n                    onClose={() => this.setState({ openReport: false })}\n                />\n                <div className={classes.box}>\n                    <Creator share={this.props.share} />\n                    <Divider />\n                    <div className={classes.boxContent}>\n                        <TypeIcon\n                            className={classes.icon}\n                            isUpload\n                            fileName={this.props.share.source.name}\n                        />\n                        <div className={classes.fileName}>\n                            <Typography style={{ wordBreak: \"break-all\" }}>\n                                {this.props.share.source.name}\n                            </Typography>\n                            <Typography className={classes.fileSize}>\n                                {sizeToString(this.props.share.source.size)}\n                            </Typography>\n                        </div>\n                    </div>\n                    <Divider />\n                    <div className={classes.boxFooter}>\n                        <div className={classes.actionLeft}>\n                            <Button\n                                onClick={() =>\n                                    this.props.openResave(this.props.share.key)\n                                }\n                                color=\"secondary\"\n                            >\n                                保存到我的文件\n                            </Button>\n                            <Button\n                                onClick={() =>\n                                    this.setState({ openReport: true })\n                                }\n                                color=\"secondary\"\n                            >\n                                举报\n                            </Button>\n                        </div>\n                        <div className={classes.actions}>\n                            {this.props.share.preview && (\n                                <Button\n                                    variant=\"outlined\"\n                                    color=\"secondary\"\n                                    onClick={this.scoreHandle(this.preview)}\n                                    disabled={this.state.loading}\n                                >\n                                    预览\n                                </Button>\n                            )}\n                            <Button\n                                variant=\"contained\"\n                                color=\"secondary\"\n                                className={classes.downloadButton}\n                                onClick={this.scoreHandle(this.download)}\n                                disabled={this.state.loading}\n                            >\n                                下载\n                                {this.props.share.score > 0 &&\n                                    (!isLogin || !user.group.shareFree) &&\n                                    \" (\" + this.props.share.score + \"积分)\"}\n                                {this.props.share.score > 0 &&\n                                    isLogin &&\n                                    user.group.shareFree &&\n                                    \" (免积分)\"}\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst SharedFile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(SharedFileCompoment)));\n\nexport default SharedFile;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n    openMusicDialog,\n    openResaveDialog,\n    setSelectedTarget,\n    setShareUserPopover,\n    showImgPreivew,\n    toggleSnackbar\n} from \"../../actions\";\nimport { withStyles, Typography } from \"@material-ui/core\";\nimport { withRouter } from \"react-router-dom\";\nimport FileManager from \"../FileManager/FileManager\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Creator from \"./Creator\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport pathHelper from \"../../utils/page\";\nconst styles = theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: 30,\n        marginBottom: 30,\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            marginTop: theme.spacing(2),\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1)\n        }\n    },\n    managerContainer: {\n        overflowY: \"auto\"\n    }\n});\n\nconst ReadMe = React.lazy(() => import(\"./ReadMe\"));\n\nconst mapStateToProps = state => {\n    return {\n        anchorEl: state.viewUpdate.shareUserPopoverAnchorEl,\n        fileList: state.explorer.fileList\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        setSelectedTarget: targets => {\n            dispatch(setSelectedTarget(targets));\n        },\n        showImgPreivew: first => {\n            dispatch(showImgPreivew(first));\n        },\n        openResave: key => {\n            dispatch(openResaveDialog(key));\n        },\n        setShareUserPopover: e => {\n            dispatch(setShareUserPopover(e));\n        }\n    };\n};\n\nclass SharedFolderComponent extends Component {\n    state = {};\n\n    UNSAFE_componentWillMount() {\n        window.shareInfo = this.props.share;\n    }\n\n    componentWillUnmount() {\n        window.shareInfo = null;\n        this.props.setSelectedTarget([]);\n    }\n\n    handleClickAway = () => {\n        if (!pathHelper.isMobile()) {\n            this.props.setSelectedTarget([]);\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        let readmeShowed = false;\n        const id = this.props.anchorEl !== null ? \"simple-popover\" : undefined;\n\n        return (\n            <div className={classes.layout}>\n                <ClickAwayListener onClickAway={this.handleClickAway}>\n                    <Paper className={classes.managerContainer}>\n                        <FileManager isShare share={this.props.share} />\n                    </Paper>\n                </ClickAwayListener>\n                {/* eslint-disable-next-line */}\n                {this.props.fileList.map(value => {\n                    if (\n                        (value.name.toLowerCase() === \"readme.md\" ||\n                            value.name.toLowerCase() === \"readme.txt\") &&\n                        !readmeShowed\n                    ) {\n                        readmeShowed = true;\n                        return <ReadMe share={this.props.share} file={value} />;\n                    }\n                })}\n                <Popover\n                    id={id}\n                    open={this.props.anchorEl !== null}\n                    anchorEl={this.props.anchorEl}\n                    onClose={() => this.props.setShareUserPopover(null)}\n                    anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"center\"\n                    }}\n                    transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"center\"\n                    }}\n                >\n                    <Typography>\n                        <Creator\n                            isFolder\n                            onClose={() => this.props.setShareUserPopover(null)}\n                            share={this.props.share}\n                        />\n                    </Typography>\n                </Popover>\n            </div>\n        );\n    }\n}\n\nconst SharedFolder = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(SharedFolderComponent)));\n\nexport default SharedFolder;\n","import React, { Suspense, useCallback, useEffect, useState } from \"react\";\nimport PageLoading from \"../Placeholder/PageLoading\";\nimport { useParams } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport { useDispatch } from \"react-redux\";\nimport Notice from \"./NotFound\";\nimport LockedFile from \"./LockedFile\";\nimport SharedFile from \"./SharedFile\";\nimport SharedFolder from \"./SharedFolder\";\n\nexport default function SharePreload() {\n    const dispatch = useDispatch();\n    const { id } = useParams();\n\n    const [share, setShare] = useState(undefined);\n    const [loading, setLoading] = useState(false);\n    const [password, setPassword] = useState(\"\");\n\n    const SetSubTitle = useCallback(title => dispatch(changeSubTitle(title)), [\n        dispatch\n    ]);\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (share) {\n            if (share.locked) {\n                SetSubTitle(share.creator.nick + \"的加密分享\");\n                if (password !== \"\") {\n                    ToggleSnackbar(\"top\", \"right\", \"密码不正确\", \"warning\");\n                }\n            } else {\n                SetSubTitle(share.source.name);\n            }\n        } else {\n            SetSubTitle();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [share,SetSubTitle,ToggleSnackbar]);\n\n    useEffect(() => {\n        return () => {\n            SetSubTitle();\n        }\n        // eslint-disable-next-line\n    }, []);\n\n    useEffect(() => {\n        setLoading(true);\n        let withPassword = \"\";\n        if (password !== \"\") {\n            withPassword = \"?password=\" + password;\n        }\n        API.get(\"/share/info/\" + id + withPassword)\n            .then(response => {\n                setShare(response.data);\n                setLoading(false);\n            })\n            .catch(error => {\n                setLoading(false);\n                if (error.code === 404) {\n                    setShare(null);\n                } else {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                }\n            });\n    }, [id, password,ToggleSnackbar]);\n\n    return (\n        <Suspense fallback={<PageLoading />}>\n            {share === undefined && <PageLoading />}\n            {share === null && <Notice msg={\"分享不存在或已过期\"}/>}\n            {share && share.locked && (\n                <LockedFile\n                    loading={loading}\n                    setPassowrd={setPassword}\n                    share={share}\n                />\n            )}\n            {share&&!share.locked&&!share.is_dir&&<SharedFile share={share}/>}\n            {share&&!share.locked&&share.is_dir&&<SharedFolder share={share}/>}\n        </Suspense>\n    );\n}\n","import React, {useCallback, useEffect, useState} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {useLocation, useParams, useRouteMatch} from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport {useDispatch} from \"react-redux\";\nimport {toggleSnackbar} from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\n\nconst useStyles = makeStyles(() => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"-48px\",\n\n    },\n\n    container:{\n        border:\"none\",\n        width:\"100%\",\n        height: \"calc(100vh - 18px)\",\n        marginBottom: -3,\n    }\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function DocViewer() {\n    const [url,setURL] = useState(\"\");\n    const math = useRouteMatch();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n\n    const dispatch = useDispatch();\n\n    const SetSubTitle = useCallback(\n        title=>dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    useEffect(()=>{\n        let requestURL = \"/file/doc/\" + query.get(\"id\");\n        if (pathHelper.isSharePage(location.pathname)){\n            requestURL = \"/share/doc/\" + id;\n            if(query.get(\"share_path\") !== \"\"){\n                requestURL +=(\"?path=\" +encodeURIComponent(query.get(\"share_path\")))\n            }\n        }\n        API.get(requestURL)\n            .then(response => {\n                setURL(response.data)\n            })\n            .catch(error => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                )\n            });\n        // eslint-disable-next-line\n    },[math.params[0],location]);\n\n    const classes = useStyles();\n    return (\n        <div className={classes.layout}>\n            {url !== \"\" && <iframe title={\"ms\"} className={classes.container} src={url} />}\n        </div>\n    );\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport classNames from 'classnames';\nimport { toggleSnackbar, } from \"../../actions\"\nimport API from \"../../middleware/Api\";\n\nimport {\n    withStyles,\n    Typography,\n    Paper,\n    Button,\n    Grid,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n} from '@material-ui/core';\nimport {sizeToString} from \"../../utils\";\nimport {withRouter} from \"react-router\";\n\n\nconst styles = theme => ({\n    layout: {\n        width: 'auto',\n        marginTop: '50px',\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: 'auto',\n            marginRight: 'auto',\n        },\n        marginBottom:\"50px\",\n    },\n\n    gird: {\n        marginTop: \"30px\",\n    },\n    paper: {\n        padding: theme.spacing(2),\n        color: theme.palette.text.secondary,\n    },\n    data: {\n        fontSize: \"25px\",\n        color: theme.palette.primary.main,\n    },\n    proBar:{\n        height: \"10px\",\n    },\n    r1:{\n        backgroundColor:\"#f0ad4e\",\n        transition:\"width .6s ease\",\n        height: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        float: \"left\",\n    },\n    r2:{\n        backgroundColor:\"#4caf50\",\n        transition:\"width .6s ease\",\n        height: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        float: \"left\",\n    },\n    r3:{\n        backgroundColor:\"#5bc0de\",\n        transition:\"width .6s ease\",\n        height: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        float: \"left\",\n    },\n    note_block:{\n        width: \"10px\",\n        height: \"10px\",\n        display: \"inline-block\",\n        position: \"relative\",\n        marginLeft: \"10px\",\n        marginRight: \"3px\",\n    },\n    r1_block:{\n        backgroundColor:\"#f0ad4e\",\n    },\n    r2_block:{\n        backgroundColor:\"#4caf50\",\n    },\n    r3_block:{\n        backgroundColor:\"#5bc0de\",\n    },\n    title:{\n        marginTop: \"30px\",\n        marginBottom: \"30px\",\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n    table:{\n        overflowX:\"auto\",\n    },\n})\nconst mapStateToProps = () => {\n    return {\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color))\n        },\n    }\n}\n\nclass QuotaCompoment extends Component {\n\n    state = {\n        data: {\n            basic: 0,\n            used: 0,\n            total:0,\n            pack: 0,\n            r1:0,\n            r2:0,\n            r3:0,\n        },\n        packs:[],\n    };\n\n    firstLoad = true;\n\n    componentDidMount() {\n        if (this.firstLoad) {\n            this.firstLoad = !this.firstLoad;\n            API.get(\"/vas/pack\")\n                .then((response) => {\n                    let usedR, baseR, packR = 0;\n                    if (response.data.used > response.data.base) {\n                        usedR = response.data.used / response.data.total;\n                        baseR = 0;\n                        packR = 1 - usedR;\n                    } else {\n                        usedR = response.data.used / response.data.total;\n                        baseR = (response.data.base - response.data.used) / response.data.total;\n                        packR = 1 - usedR - baseR;\n                    }\n\n                    this.setState({\n                        data: {\n                            used: response.data.used,\n                            pack: response.data.pack,\n                            total: response.data.total,\n                            basic: response.data.base,\n                            r1: usedR > 1 ? 100 : usedR * 100,\n                            r2: usedR > 1 ? 0 : baseR * 100,\n                            r3: usedR > 1 ? 0 : packR * 100,\n                        },\n                        packs:response.data.packs,\n                    });\n\n                })\n                .catch((error) => {\n                    this.setState({\n                        loading: false,\n                    });\n                    this.props.toggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                });\n        }\n    }\n        render() {\n        const { classes } = this.props;\n\n\n        return (\n            <div className={classes.layout}>\n                <Typography color=\"textSecondary\" variant=\"h4\">容量配额</Typography>\n                <Grid container className={classes.gird} spacing={2}>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>{sizeToString(this.state.data.basic)}</Typography>\n                            <Typography>用户组基础容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>{sizeToString(this.state.data.pack)}</Typography>\n                            <Typography>有效容量包附加附加容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>{sizeToString(this.state.data.used)}</Typography>\n                            <Typography>已使用容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>{sizeToString(this.state.data.total)}</Typography>\n                            <Typography>总容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Paper className={classes.paper}>\n                            <div className={classes.proBar}>\n                                <div className={classes.r1} style={{\"width\": this.state.data.r1 + \"%\"}}/>\n                                <div className={classes.r2} style={{\"width\": this.state.data.r2 + \"%\"}}/>\n                                <div className={classes.r3} style={{\"width\": this.state.data.r3 + \"%\"}}/>\n                           </div>\n                           <div style={{textAlign:\"right\"}} >\n                                <span className={classNames(classes.r1_block, classes.note_block)}/>已用容量\n                                <span className={classNames(classes.r2_block, classes.note_block)}/>用户组基础容量\n                                <span className={classNames(classes.r3_block, classes.note_block)}/>有效容量包附加附加容量\n                           </div>\n                        </Paper>\n                    </Grid>\n                </Grid>\n                <Typography color=\"textSecondary\" variant=\"h4\" className={classes.title}>可用容量包</Typography>\n                <Paper className={classes.paper}>\n                <Button \n                variant=\"contained\" \n                color=\"secondary\" \n                className={classes.button}\n                onClick={()=>this.props.history.push(\"/buy\")}\n                >\n                    购买容量包\n                </Button>\n                <Button variant=\"contained\" className={classes.button}\n                        onClick={()=>this.props.history.push(\"/buy?tab=3\")}\n                >\n                    使用激活码兑换\n                </Button>\n                <div className={classes.table}>\n                <Table>\n                    <TableHead>\n                    <TableRow>\n                        <TableCell align=\"left\">容量包名称</TableCell>\n                        <TableCell align=\"center\">大小</TableCell>\n                        <TableCell align=\"center\">激活日期</TableCell>\n                        <TableCell align=\"center\">有效期</TableCell>\n                        <TableCell align=\"center\">过期日期</TableCell>\n                    </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {this.state.packs.map((row,id) => (\n                            <TableRow key={id}>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {row.name}\n                                </TableCell>\n                                <TableCell align=\"center\">{sizeToString(row.size)}</TableCell>\n                                <TableCell align=\"center\">{row.activate_date}</TableCell>\n                                <TableCell align=\"center\">{Math.round(row.expiration/86400)}天</TableCell>\n                                <TableCell align=\"center\">{row.expiration_date}</TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n                </div>\n                </Paper>\n            </div>\n        );\n    }\n\n}\n\nconst Quota = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(QuotaCompoment)))\n\nexport default Quota\n","import React, { Component } from 'react'\nimport classNames from 'classnames';\nimport { withStyles, ButtonBase, Typography } from '@material-ui/core';\nconst styles = theme => ({\n    container:{\n        border:\" 1px solid #e6e9eb\",\n        borderRadius: \"4px\",\n        transition:\"border .5s\",\n        width:\"100%\",\n        display:\"block\",\n    },\n    active:{\n        border:\" 1px solid \"+theme.palette.primary.main,\n    },\n    boxHead:{\n        textAlign: \"center\",\n        padding: \"10px 10px 10px\",\n        borderBottom: \"1px solid #e6e9eb\",\n        color: \"#555\",\n        width:\"100%\",\n    },\n    price:{\n        fontSize: \"33px\",\n        fontWeight: \"500\",\n        lineHeight: \"40px\",\n        color:theme.palette.primary.main,\n    },\n    priceWithScore:{\n        fontSize: \"23px\",\n        fontWeight: \"500\",\n        lineHeight: \"40px\",\n        color:theme.palette.primary.main,\n    },\n    packName:{\n        marginTop:\"5px\",\n        marginBottom:\"5px\",\n    },\n    boxBottom:{\n        color: \"#555\",\n        textAlign: \"center\",\n        padding: \"5px\",\n    }\n})\n\nclass PackSelect extends Component {\n\n    render() {\n        const { classes,pack } = this.props;\n        return (\n            <ButtonBase\n                className={classNames(classes.container,\n                        {[classes.active]:this.props.active}\n                    )}\n                onClick={this.props.onSelect}\n            >\n                <div className={classes.boxHead}>\n                    <Typography variant=\"subtitle1\" className={classes.packName}>{pack.name}</Typography>\n                    {pack.score === 0 &&<Typography className={classes.price}>￥{(pack.price/100).toFixed(2)}</Typography>}\n                    {pack.score !== 0 &&<Typography className={classes.priceWithScore}>￥{(pack.price/100).toFixed(2)} / {pack.score} 积分</Typography>}\n                </div>\n                <div className={classes.boxBottom}>\n                    <Typography>有效期：{Math.ceil(pack.time / 86400)}天</Typography>\n                </div>\n            </ButtonBase>\n        );\n    }\n\n}\n\nexport default withStyles(styles)(PackSelect)","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport SdStorage from \"@material-ui/icons/SdStorage\";\nimport ShopIcon from \"@material-ui/icons/ShoppingCart\";\nimport PackSelect from \"./PackSelect\";\nimport SupervisedUserCircle from \"@material-ui/icons/SupervisedUserCircle\";\nimport StarIcon from \"@material-ui/icons/StarBorder\";\nimport LocalPlay from \"@material-ui/icons/LocalPlay\";\nimport API from \"../../middleware/Api\";\nimport QRCode from \"qrcode-react\";\n\nimport {\n    withStyles,\n    AppBar,\n    Tabs,\n    Tab,\n    Typography,\n    Paper,\n    Button,\n    TextField,\n    Grid,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Card,\n    CardActions,\n    CardContent,\n    CardHeader\n} from \"@material-ui/core\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { AccountBalanceWallet } from \"@material-ui/icons\";\nimport pathHelper from \"../../utils/page\";\nimport {withRouter} from \"react-router\";\n\nconst styles = theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        marginBottom: \"50px\"\n    },\n\n    gird: {\n        marginTop: \"30px\"\n    },\n    paper: {\n        padding: theme.spacing(2),\n        color: theme.palette.text.secondary\n    },\n    title: {\n        marginTop: \"30px\",\n        marginBottom: \"30px\"\n    },\n    button: {\n        margin: theme.spacing(1)\n    },\n    action: {\n        textAlign: \"right\",\n        marginTop: \"20px\"\n    },\n    textField: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        width: 70,\n        textAlign: \"center!important\"\n    },\n    priceShow: {\n        color: theme.palette.secondary.main,\n        fontSize: \"30px\"\n    },\n    codeContainer: {\n        textAlign: \"center\",\n        marginTop: \"20px\"\n    },\n    cardHeader: {\n        backgroundColor: theme.palette.grey[200]\n    },\n    cardPricing: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"baseline\",\n        marginBottom: theme.spacing(2)\n    },\n    cardActions: {\n        [theme.breakpoints.up(\"sm\")]: {\n            paddingBottom: theme.spacing(2)\n        }\n    },\n    redeemContainer: {\n        [theme.breakpoints.up(\"sm\")]: {\n            marginLeft: \"50px\",\n            marginRight: \"50px\",\n            width: \"auto\"\n        },\n        marginTop: \"50px\",\n        marginBottom: \"50px\"\n    },\n    doRedeem: {\n        textAlign: \"right\"\n    },\n    payMethod: {\n        marginTop: theme.spacing(4),\n        padding: theme.spacing(2)\n    }\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        }\n    };\n};\n\nclass BuyQuotaCompoment extends Component {\n    IntervalId = null;\n    constructor(props) {\n        super(props);\n\n        const tab = new URLSearchParams(this.props.location.search);\n        const index = tab.get(\"tab\");\n\n        this.state = {\n            value: index ? parseInt(index) : 0,\n            selectedPack: -1,\n            selectedGroup: -1,\n            times: 1,\n            scoreNum: 1,\n            loading: false,\n            redeemCode: \"\",\n            dialog: null,\n            payment: {\n                type: \"\",\n                img: \"\"\n            },\n            scorePrice: 0,\n            redeemInfo: null,\n            packs: [],\n            groups: [],\n            alipay: false,\n            payjs: false,\n            packPayMethod: null\n        };\n    }\n\n    componentWillUnmount() {\n        window.clearInterval(this.IntervalId);\n    }\n\n    componentDidMount() {\n        API.get(\"/vas/product\")\n            .then(response => {\n                this.setState({\n                    packs: response.data.packs,\n                    groups: response.data.groups,\n                    alipay: response.data.alipay,\n                    payjs: response.data.payjs,\n                    scorePrice: response.data.score_price\n                });\n            })\n            .catch(error => {\n                this.setState({\n                    loading: false\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    }\n\n    confirmRedeem = () => {\n        this.setState({\n            loading: true\n        });\n        API.post(\"/vas/redeem/\" + this.state.redeemCode)\n            .then(() => {\n                this.setState({\n                    loading: false,\n                    dialog: \"success\"\n                });\n            })\n            .catch(error => {\n                this.setState({\n                    loading: false\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"错误：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    doRedeem = () => {\n        if (this.state.redeemCode === \"\") {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"请输入激活码\",\n                \"warning\"\n            );\n            return;\n        }\n        this.setState({\n            loading: true\n        });\n        API.get(\"/vas/redeem/\" + this.state.redeemCode)\n            .then(response => {\n                this.setState({\n                    loading: false,\n                    dialog: \"redeem\",\n                    redeemInfo: response.data\n                });\n            })\n            .catch(error => {\n                this.setState({\n                    loading: false\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    buyPack = packType => {\n        if (packType === \"pack\" && this.state.selectedPack === -1) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"请先选择一个容量包\",\n                \"warning\"\n            );\n            return;\n        }\n        this.setState({\n            loading: true\n        });\n        API.post(\"/vas/order\", {\n            action: packType,\n            method: this.state.packPayMethod,\n            id:\n                packType === \"score\"\n                    ? 1\n                    : packType === \"pack\"\n                    ? this.state.packs[this.state.selectedPack].id\n                    : this.state.groups[this.state.selectedGroup].id,\n            num:\n                packType === \"score\"\n                    ? parseInt(this.state.scoreNum)\n                    : parseInt(this.state.times)\n        })\n            .then(response => {\n                if (!response.data.payment) {\n                    this.setState({\n                        loading: false,\n                        dialog: \"success\"\n                    });\n                    return;\n                }\n                if (response.data.qr_code) {\n                        this.setState({\n                            loading: false,\n                            dialog: \"qr\",\n                            payment: {\n                                type: this.state.packPayMethod,\n                                img: response.data.qr_code\n                            }\n                        });\n                    this.IntervalId = window.setInterval(() => {\n                        this.querryLoop(response.data.id);\n                    }, 3000);\n                }\n            })\n            .catch(error => {\n                this.setState({\n                    loading: false\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"错误：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    querryLoop = id => {\n        API\n            .get(\"/vas/order/\" + id)\n            .then(response => {\n                if (response.data === 1) {\n                    this.setState({\n                        dialog: \"success\"\n                    });\n                    window.clearInterval(this.IntervalId);\n                }\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"错误：\" + error.message,\n                    \"error\"\n                );\n                window.clearInterval(this.IntervalId);\n            });\n    };\n\n    handleChange = (event, value) => {\n        this.setState({\n            packPayMethod:\n                this.state.packPayMethod === \"score\"\n                    ? null\n                    : this.state.packPayMethod\n        });\n        this.setState({ value });\n    };\n\n    handleChangeIndex = index => {\n        this.setState({ value: index });\n    };\n\n    handleClose = () => {\n        window.clearInterval(this.IntervalId);\n        this.setState({\n            dialog: null\n        });\n    };\n\n    handleTexyChange = name => event => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    selectPack = id => {\n        this.setState({\n            selectedPack: id,\n            packPayMethod:\n                this.state.packPayMethod === \"score\"\n                    ? null\n                    : this.state.packPayMethod\n        });\n    };\n\n    selectGroup = id => {\n        this.setState({\n            selectedGroup: id,\n            dialog: \"buyGroup\",\n            packPayMethod:\n                this.state.packPayMethod === \"score\"\n                    ? null\n                    : this.state.packPayMethod\n        });\n    };\n\n    selectPackPayMethod = event => {\n        this.setState({\n            packPayMethod: event.target.value\n        });\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        const methodSelect = (\n            <div>\n                <FormLabel>选择支付方式：</FormLabel>\n                <RadioGroup\n                    name=\"spacing\"\n                    aria-label=\"spacing\"\n                    value={this.state.packPayMethod}\n                    onChange={this.selectPackPayMethod}\n                    row\n                >\n                    {!this.state.alipay &&\n                        !this.state.payjs &&\n                        this.state.value === 0 &&\n                        (this.state.selectedPack === -1 ||\n                            this.state.packs[this.state.selectedPack].score ===\n                                0) &&\n                        this.state.value === 1 &&\n                        (this.state.selectedGroup === -1 ||\n                            this.state.groups[this.state.selectedGroup]\n                                .score === 0) && (\n                            <Typography>无可用支付方式</Typography>\n                        )}\n                    {this.state.alipay && (\n                        <FormControlLabel\n                            value={\"alipay\"}\n                            control={<Radio />}\n                            label={\"支付宝扫码\"}\n                        />\n                    )}\n                    {this.state.payjs && (\n                        <FormControlLabel\n                            value={\"payjs\"}\n                            control={<Radio />}\n                            label={\"微信扫码\"}\n                        />\n                    )}\n                    {this.state.value === 0 &&\n                        this.state.selectedPack !== -1 &&\n                        this.state.packs[this.state.selectedPack].score !==\n                            0 && (\n                            <FormControlLabel\n                                value={\"score\"}\n                                control={<Radio />}\n                                label={\"积分支付\"}\n                            />\n                        )}\n                    {this.state.value === 1 &&\n                        this.state.selectedGroup !== -1 &&\n                        this.state.groups[this.state.selectedGroup].score !==\n                            0 && (\n                            <FormControlLabel\n                                value={\"score\"}\n                                control={<Radio />}\n                                label={\"积分支付\"}\n                            />\n                        )}\n                </RadioGroup>\n                <div>\n                    {this.state.value !== 2 && (\n                        <FormLabel>购买时长倍数：</FormLabel>\n                    )}\n                    {this.state.value === 2 && (\n                        <FormLabel>充值积分数量：</FormLabel>\n                    )}\n                </div>\n                {this.state.value !== 2 && (\n                    <TextField\n                        className={classes.textField}\n                        type=\"number\"\n                        inputProps={{\n                            min: \"1\",\n                            max: \"99\",\n                            step: \"1\"\n                        }}\n                        value={this.state.times}\n                        onChange={this.handleTexyChange(\"times\")}\n                    />\n                )}\n                {this.state.value === 2 && (\n                    <TextField\n                        className={classes.textField}\n                        type=\"number\"\n                        inputProps={{\n                            min: \"1\",\n                            step: \"1\",\n                            max: \"9999999\"\n                        }}\n                        value={this.state.scoreNum}\n                        onChange={this.handleTexyChange(\"scoreNum\")}\n                    />\n                )}\n            </div>\n        );\n\n        return (\n            <div className={classes.layout}>\n                <Typography\n                    color=\"textSecondary\"\n                    className={classes.title}\n                    variant=\"h3\"\n                >\n                    购买\n                </Typography>\n                <AppBar position=\"static\">\n                    <Tabs\n                        value={this.state.value}\n                        onChange={this.handleChange}\n                        variant=\"fullWidth\"\n                    >\n                        <Tab label=\"容量包\" icon={<SdStorage />} />\n                        <Tab label=\"会员\" icon={<SupervisedUserCircle />} />\n                        {this.state.scorePrice > 0 && (\n                            <Tab\n                                label=\"积分充值\"\n                                icon={<AccountBalanceWallet />}\n                            />\n                        )}\n                        <Tab label=\"使用激活码\" icon={<LocalPlay />} />\n                    </Tabs>\n                </AppBar>\n                {this.state.value === 0 && (\n                    <Paper className={classes.paper} square={true}>\n                        <Grid container spacing={3}>\n                            {this.state.packs.map((value, id) => (\n                                <Grid item xs={12} md={3} key={id}>\n                                    <PackSelect\n                                        pack={value}\n                                        onSelect={() => this.selectPack(id)}\n                                        active={this.state.selectedPack === id}\n                                    />\n                                </Grid>\n                            ))}\n                        </Grid>\n                        <Grid\n                            container\n                            className={classes.payMethod}\n                            spacing={1}\n                        >\n                            <Grid sm={6} xs={12}>\n                                {methodSelect}\n                            </Grid>\n                            <Grid sm={6} xs={12}>\n                                <div className={classes.action}>\n                                    <div>\n                                        当前费用：\n                                        {this.state.packPayMethod !==\n                                            \"score\" && (\n                                            <span className={classes.priceShow}>\n                                                ￥\n                                                {this.state.selectedPack ===\n                                                    -1 && <span>--</span>}\n                                                {this.state.selectedPack !==\n                                                    -1 &&\n                                                    this.state.times <= 99 &&\n                                                    this.state.times >= 1 && (\n                                                        <span>\n                                                            {(\n                                                                (this.state\n                                                                    .packs[\n                                                                    this.state\n                                                                        .selectedPack\n                                                                ].price /\n                                                                    100) *\n                                                                this.state.times\n                                                            ).toFixed(2)}\n                                                        </span>\n                                                    )}\n                                            </span>\n                                        )}\n                                        {this.state.packPayMethod ===\n                                            \"score\" && (\n                                            <span className={classes.priceShow}>\n                                                {this.state.selectedPack ===\n                                                    -1 && <span>--</span>}\n                                                {this.state.selectedPack !==\n                                                    -1 &&\n                                                    this.state.times <= 99 &&\n                                                    this.state.times >= 1 && (\n                                                        <span>\n                                                            {this.state.packs[\n                                                                this.state\n                                                                    .selectedPack\n                                                            ].score *\n                                                                this.state\n                                                                    .times}{\" \"}\n                                                            积分\n                                                        </span>\n                                                    )}\n                                            </span>\n                                        )}\n                                    </div>\n                                    <div>\n                                        <Button\n                                            size=\"large\"\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            className={classes.button}\n                                            disabled={\n                                                this.state.loading ||\n                                                this.state.packPayMethod ===\n                                                    null\n                                            }\n                                            onClick={() => this.buyPack(\"pack\")}\n                                        >\n                                            <ShopIcon /> 立即购买\n                                        </Button>\n                                    </div>\n                                </div>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                )}\n                {this.state.value === 1 && (\n                    <Paper className={classes.paper} square={true}>\n                        <Grid container spacing={5} alignItems=\"flex-end\">\n                            {this.state.groups.map((tier, id) => (\n                                // Enterprise card is full width at sm breakpoint\n                                <Grid item key={id} xs={12} sm={6} md={4}>\n                                    <Card>\n                                        <CardHeader\n                                            title={tier.name}\n                                            subheader={\n                                                tier.highlight ? \"推荐\" : null\n                                            }\n                                            titleTypographyProps={{\n                                                align: \"center\"\n                                            }}\n                                            subheaderTypographyProps={{\n                                                align: \"center\"\n                                            }}\n                                            action={\n                                                tier.highlight ? (\n                                                    <StarIcon />\n                                                ) : null\n                                            }\n                                            className={classes.cardHeader}\n                                        />\n                                        <CardContent>\n                                            <div\n                                                className={classes.cardPricing}\n                                            >\n                                                <Typography\n                                                    component=\"h2\"\n                                                    variant=\"h3\"\n                                                    color=\"textPrimary\"\n                                                >\n                                                    ￥{tier.price / 100}\n                                                </Typography>\n                                                <Typography\n                                                    variant=\"h6\"\n                                                    color=\"textSecondary\"\n                                                >\n                                                    /\n                                                    {Math.ceil(\n                                                        tier.time / 86400\n                                                    )}\n                                                    天\n                                                </Typography>\n                                            </div>\n                                            {tier.des.map(line => (\n                                                <Typography\n                                                    variant=\"subtitle1\"\n                                                    align=\"center\"\n                                                    key={line}\n                                                >\n                                                    {line}\n                                                </Typography>\n                                            ))}\n                                        </CardContent>\n                                        <CardActions\n                                            className={classes.cardActions}\n                                        >\n                                            <Button\n                                                fullWidth\n                                                variant={\n                                                    tier.highlight\n                                                        ? \"contained\"\n                                                        : \"outlined\"\n                                                }\n                                                color=\"primary\"\n                                                onClick={() =>\n                                                    this.selectGroup(id)\n                                                }\n                                            >\n                                                立即购买\n                                            </Button>\n                                        </CardActions>\n                                    </Card>\n                                </Grid>\n                            ))}\n                        </Grid>\n                    </Paper>\n                )}\n\n                {this.state.value === 2 && (\n                    <Paper className={classes.paper} square={true}>\n                        <Grid\n                            container\n                            className={classes.payMethod}\n                            spacing={1}\n                        >\n                            <Grid sm={6} xs={12}>\n                                {methodSelect}\n                            </Grid>\n                            <Grid sm={6} xs={12}>\n                                <div className={classes.action}>\n                                    <div>\n                                        当前费用：\n                                        {this.state.packPayMethod !==\n                                            \"score\" && (\n                                            <span className={classes.priceShow}>\n                                                ￥\n                                                <span>\n                                                    {(\n                                                        (this.state.scorePrice /\n                                                            100) *\n                                                        this.state.scoreNum\n                                                    ).toFixed(2)}\n                                                </span>\n                                            </span>\n                                        )}\n                                    </div>\n                                    <div>\n                                        <Button\n                                            size=\"large\"\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            className={classes.button}\n                                            disabled={\n                                                this.state.loading ||\n                                                this.state.packPayMethod ===\n                                                    null\n                                            }\n                                            onClick={() =>\n                                                this.buyPack(\"score\")\n                                            }\n                                        >\n                                            <ShopIcon /> 立即购买\n                                        </Button>\n                                    </div>\n                                </div>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                )}\n\n                {this.state.value === 3 && (\n                    <Paper className={classes.paper} square={true}>\n                        <div className={classes.redeemContainer}>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"输入激活码\"\n                                value={this.state.redeemCode}\n                                onChange={this.handleTexyChange(\"redeemCode\")}\n                                margin=\"normal\"\n                                inputProps={{\n                                    style: { textTransform: \"uppercase\" }\n                                }}\n                                fullWidth\n                            />\n                            <div className={classes.doRedeem}>\n                                <Button\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    className={classes.button}\n                                    disabled={this.state.loading}\n                                    onClick={this.doRedeem}\n                                >\n                                    下一步\n                                </Button>\n                            </div>\n                        </div>\n                    </Paper>\n                )}\n                <Dialog\n                    open={this.state.dialog === \"qr\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">支付</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            请使用\n                            {this.state.payment.type === \"alipay\" && (\n                                <span>支付宝</span>\n                            )}\n                            {this.state.payment.type === \"payjs\" && (\n                                <span>微信</span>\n                            )}\n                            扫描下方二维码完成付款，付款完成后本页面会自动刷新。\n                        </DialogContentText>\n                        <div className={classes.codeContainer}>\n                            <QRCode value={this.state.payment.img} />,\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.state.dialog === \"success\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">支付完成</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            您所购买的商品已到账。\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.state.dialog === \"redeem\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">确认兑换</DialogTitle>\n                    <DialogContent>\n                        {this.state.redeemInfo !== null && (\n                            <DialogContentText id=\"alert-dialog-description\">\n                                <Typography variant=\"subtitle1\">\n                                    商品名称：\n                                </Typography>\n                                <Typography>\n                                    {this.state.redeemInfo.name}\n                                </Typography>\n                                <Typography variant=\"subtitle1\">\n                                    {this.state.redeemInfo.type === 2\n                                        ? \"数量：\"\n                                        : \"时长：\"}\n                                </Typography>\n                                <Typography>\n                                    {this.state.redeemInfo.type === 2 && (\n                                        <>{this.state.redeemInfo.num}</>\n                                    )}\n                                    {this.state.redeemInfo.type !== 2 && (\n                                        <>\n                                            {Math.ceil(\n                                                this.state.redeemInfo.time /\n                                                    86400\n                                            ) * this.state.redeemInfo.num}\n                                            天\n                                        </>\n                                    )}\n                                </Typography>\n                            </DialogContentText>\n                        )}\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose}>取消</Button>\n                        <Button\n                            onClick={this.confirmRedeem}\n                            color=\"primary\"\n                            disabled={this.state.loading}\n                        >\n                            确认兑换\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.state.dialog === \"buyGroup\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">\n                        购买用户组\n                    </DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            已选：\n                            {this.state.selectedGroup !== -1 &&\n                                this.state.groups[this.state.selectedGroup]\n                                    .name}\n                        </DialogContentText>\n                        {methodSelect}\n                        <div>\n                            当前费用：\n                            {this.state.packPayMethod !== \"score\" && (\n                                <span className={classes.priceShow}>\n                                    ￥\n                                    {this.state.selectedGroup === -1 && (\n                                        <span>--</span>\n                                    )}\n                                    {this.state.selectedGroup !== -1 &&\n                                        this.state.times <= 99 &&\n                                        this.state.times >= 1 && (\n                                            <span>\n                                                {(\n                                                    (this.state.groups[\n                                                        this.state.selectedGroup\n                                                    ].price /\n                                                        100) *\n                                                    this.state.times\n                                                ).toFixed(2)}\n                                            </span>\n                                        )}\n                                </span>\n                            )}\n                            {this.state.packPayMethod === \"score\" && (\n                                <span className={classes.priceShow}>\n                                    {this.state.selectedGroup === -1 && (\n                                        <span>--</span>\n                                    )}\n                                    {this.state.selectedGroup !== -1 &&\n                                        this.state.times <= 99 &&\n                                        this.state.times >= 1 && (\n                                            <span>\n                                                {this.state.groups[\n                                                    this.state.selectedGroup\n                                                ].score * this.state.times}{\" \"}\n                                                积分\n                                            </span>\n                                        )}\n                                </span>\n                            )}\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button\n                            onClick={this.handleClose}\n                            disabled={this.state.loading}\n                        >\n                            取消\n                        </Button>\n                        <Button\n                            disabled={\n                                this.state.loading ||\n                                this.state.packPayMethod === null\n                            }\n                            onClick={() => this.buyPack(\"group\")}\n                            color=\"primary\"\n                        >\n                            购买\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n\nconst BuyQuota = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(BuyQuotaCompoment)));\n\nexport default BuyQuota;\n","import React, {useState} from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Dialog } from \"@material-ui/core\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FolderOpenOutlined, LabelOutlined } from \"@material-ui/icons\";\nimport PathSelector from \"../FileManager/PathSelector\";\nconst useStyles = makeStyles(theme => ({\n    formGroup: {\n        display: \"flex\",\n        marginTop: theme.spacing(1)\n    },\n    formIcon: {\n        marginTop: 21,\n        marginRight: 19,\n        color:theme.palette.text.secondary,\n    },\n    input: {\n        width: 250\n    },\n    dialogContent: {\n        paddingTop: 24,\n        paddingRight: 24,\n        paddingBottom: 8,\n        paddingLeft: 24\n    },\n    button: {\n        marginTop: 8\n    }\n}));\n\nexport default function CreateWebDAVAccount(props) {\n    const [value, setValue] = useState({\n        name: \"\",\n        path: \"/\"\n    });\n    const [pathSelectDialog, setPathSelectDialog] = React.useState(false);\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    // eslint-disable-next-line\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n    const classes = useStyles();\n\n    const setMoveTarget = folder => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const handleInputChange = name => e => {\n        setValue({\n            ...value,\n            [name]: e.target.value,\n        });\n    };\n\n    const selectPath = ()=>{\n        setValue({\n            ...value,\n            path: selectedPath === \"//\" ? \"/\" : selectedPath\n        });\n        setPathSelectDialog(false);\n    }\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <Dialog\n                open={pathSelectDialog}\n                onClose={() => setPathSelectDialog(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">选择目录</DialogTitle>\n                <PathSelector presentPath=\"/\" selected={[]} onSelect={setMoveTarget} />\n\n                <DialogActions>\n                    <Button onClick={() => setPathSelectDialog(false)}>\n                        取消\n                    </Button>\n                    <Button onClick={selectPath} color=\"primary\" disabled={selectedPath === \"\"}>\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <div className={classes.dialogContent}>\n                <div className={classes.formContainer}>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <LabelOutlined />\n                        </div>\n\n                        <TextField\n                            className={classes.input}\n                            value={value.name}\n                            onChange={handleInputChange(\"name\")}\n                            label=\"账户名称\"\n                        />\n                    </div>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <FolderOpenOutlined />\n                        </div>\n                        <div>\n                            <TextField\n                                value={value.path}\n                                onChange={handleInputChange(\"path\")}\n                                className={classes.input}\n                                label=\"相对根目录\"\n                            />\n                            <br />\n                            <Button className={classes.button} color=\"primary\"  onClick={()=>setPathSelectDialog(true)}>\n                                选择目录\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <Button disabled={value.path === \"\" || value.name === \"\"} color=\"primary\" onClick={()=>props.callback(value)}>\n                    确定\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Dialog } from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { FolderOpenOutlined, Storage } from \"@material-ui/icons\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { toggleSnackbar } from \"../../actions\";\nconst useStyles = makeStyles(theme => ({\n    formGroup: {\n        display: \"flex\",\n        marginTop: theme.spacing(1)\n    },\n    formIcon: {\n        marginTop: 21,\n        marginRight: 19,\n        color: theme.palette.text.secondary\n    },\n    input: {\n        width: 250\n    },\n    dialogContent: {\n        paddingTop: 24,\n        paddingRight: 24,\n        paddingBottom: 8,\n        paddingLeft: 24\n    },\n    button: {\n        marginTop: 8\n    }\n}));\n\nexport default function CreateWebDAVMount(props) {\n    const [value, setValue] = useState({\n        policy: \"\",\n        path: \"/\"\n    });\n    const [policies,setPolicies] = useState([]);\n    const [pathSelectDialog, setPathSelectDialog] = React.useState(false);\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    // eslint-disable-next-line\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const setMoveTarget = folder => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const handleInputChange = name => e => {\n        setValue({\n            ...value,\n            [name]: e.target.value\n        });\n    };\n\n    const selectPath = () => {\n        setValue({\n            ...value,\n            path: selectedPath === \"//\" ? \"/\" : selectedPath\n        });\n        setPathSelectDialog(false);\n    };\n\n    useEffect(() => {\n        API.get(\"/user/setting/policies\")\n            .then(response => {\n                setPolicies(response.data.options);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <Dialog\n                open={pathSelectDialog}\n                onClose={() => setPathSelectDialog(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">选择目录</DialogTitle>\n                <PathSelector\n                    presentPath=\"/\"\n                    selected={[]}\n                    onSelect={setMoveTarget}\n                />\n\n                <DialogActions>\n                    <Button onClick={() => setPathSelectDialog(false)}>\n                        取消\n                    </Button>\n                    <Button\n                        onClick={selectPath}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\"}\n                    >\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <div className={classes.dialogContent}>\n                <div className={classes.formContainer}>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <Storage />\n                        </div>\n                        <FormControl className={classes.formControl}>\n                            <InputLabel id=\"demo-simple-select-label\">\n                                存储策略\n                            </InputLabel>\n                            <Select\n                                className={classes.input}\n                                labelId=\"demo-simple-select-label\"\n                                value={value.policy}\n                                onChange={handleInputChange(\"policy\")}\n                            >\n                                {policies.map((v,k)=>(\n                                    <MenuItem key={k} value={v.id}>{v.name}</MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                    </div>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <FolderOpenOutlined />\n                        </div>\n                        <div>\n                            <TextField\n                                value={value.path}\n                                onChange={handleInputChange(\"path\")}\n                                className={classes.input}\n                                label=\"目录\"\n                            />\n                            <br />\n                            <Button\n                                className={classes.button}\n                                color=\"primary\"\n                                onClick={() => setPathSelectDialog(true)}\n                            >\n                                选择目录\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <Button\n                    disabled={value.path === \"\" || value.policy === \"\"}\n                    color=\"primary\"\n                    onClick={() => props.callback(value)}\n                >\n                    确定\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { makeStyles, Typography } from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Button from \"@material-ui/core/Button\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Auth from \"../../middleware/Auth\";\nimport API from \"../../middleware/Api\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Delete } from \"@material-ui/icons\";\nimport CreateWebDAVAccount from \"../Modals/CreateWebDAVAccount\";\nimport TimeAgo from \"timeago-react\";\nimport CreateWebDAVMount from \"../Modals/CreateWebDAVMount\";\n\nconst useStyles = makeStyles(theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        marginBottom: \"50px\"\n    },\n    content: {\n        marginTop: theme.spacing(4)\n    },\n    cardContent: {\n        padding: theme.spacing(2)\n    },\n    tableContainer: {\n        overflowX: \"auto\"\n    },\n    create: {\n        marginTop: theme.spacing(2)\n    }\n}));\n\nexport default function WebDAV() {\n    const [tab, setTab] = useState(0);\n    const [create, setCreate] = useState(false);\n    const [mount, setMount] = useState(false);\n    const [accounts, setAccounts] = useState([]);\n    const [folders, setFolders] = useState([]);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    \n    const loadList = () =>{\n        API.get(\"/webdav/accounts\")\n            .then(response => {\n                setAccounts(response.data.accounts);\n                setFolders(response.data.folders);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }\n    useEffect(() => {\n      loadList();\n      // eslint-disable-next-line\n    }, []);\n\n    const deleteAccount = id => {\n        const account = accounts[id];\n        API.delete(\"/webdav/accounts/\" + account.ID)\n            .then(() => {\n                let accountCopy = [...accounts];\n                accountCopy = accountCopy.filter((v, i) => {\n                    return i !== id;\n                });\n                setAccounts(accountCopy);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const deleteMount = id => {\n        const folder = folders[id];\n        API.delete(\"/webdav/mount/\" + folder.id)\n            .then(() => {\n                let folderCopy = [...folders];\n                folderCopy = folderCopy.filter((v, i) => {\n                    return i !== id;\n                });\n                setFolders(folderCopy);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const addAccount = account => {\n        setCreate(false);\n        API.post(\"/webdav/accounts\", {\n            path: account.path,\n            name: account.name\n        })\n            .then(response => {\n                setAccounts([\n                    {\n                        ID: response.data.id,\n                        Password: response.data.password,\n                        CreatedAt: response.data.created_at,\n                        Name: account.name,\n                        Root: account.path\n                    },\n                    ...accounts\n                ]);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const addMount = mountInfo => {\n        setMount(false);\n        API.post(\"/webdav/mount\", {\n            path: mountInfo.path,\n            policy: mountInfo.policy\n        })\n            .then(() => {\n                loadList();\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const classes = useStyles();\n    const user = Auth.GetUser();\n\n    return (\n        <div className={classes.layout}>\n            <CreateWebDAVAccount\n                callback={addAccount}\n                open={create}\n                onClose={() => setCreate(false)}\n            />\n            <CreateWebDAVMount\n                callback={addMount}\n                open={mount}\n                onClose={() => setMount(false)}\n            />\n            <Typography color=\"textSecondary\" variant=\"h4\">\n                WebDAV\n            </Typography>\n            <Paper elevation={3} className={classes.content}>\n                <Tabs\n                    value={tab}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    onChange={(event, newValue) => setTab(newValue)}\n                    aria-label=\"disabled tabs example\"\n                >\n                    <Tab label=\"账号管理\" />\n                    <Tab label=\"存储策略挂载\" />\n                </Tabs>\n                <div className={classes.cardContent}>\n                    {tab === 0 && (\n                        <div>\n                            <Alert severity=\"info\">\n                                WebDAV的地址为：{window.location.origin + \"/dav\"}；登陆用户名统一为：{user.user_name}{\" \"}\n                                ；密码为所创建账号的密码。\n                            </Alert>\n                            <TableContainer className={classes.tableContainer}>\n                                <Table\n                                    className={classes.table}\n                                    aria-label=\"simple table\"\n                                >\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell>账号名称</TableCell>\n                                            <TableCell align=\"right\">\n                                                密码\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                根目录\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                创建日期\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                操作\n                                            </TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {accounts.map((row, id) => (\n                                            <TableRow key={id}>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    {row.Name}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    {row.Password}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    {row.Root}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <TimeAgo\n                                                        datetime={row.CreatedAt}\n                                                        locale=\"zh_CN\"\n                                                    />\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <IconButton\n                                                        size={\"small\"}\n                                                        onClick={() =>\n                                                            deleteAccount(id)\n                                                        }\n                                                    >\n                                                        <Delete />\n                                                    </IconButton>\n                                                </TableCell>\n                                            </TableRow>\n                                        ))}\n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                            <Button\n                                onClick={() => setCreate(true)}\n                                className={classes.create}\n                                variant=\"contained\"\n                                color=\"secondary\"\n                            >\n                                创建新账号\n                            </Button>\n                        </div>\n                    )}\n                    {tab === 1 && (\n                        <div>\n                            <Alert severity=\"info\">\n                                为目录挂载存储策略后，在 WebDAV 中上传至此目录的新文件将会使用挂载的存储策略存储。复制、移动到此目录不会应用挂载的存储策略；挂载设置不会被子目录继承。\n                            </Alert>\n                            <TableContainer className={classes.tableContainer}>\n                                <Table\n                                    size=\"small\"\n                                    className={classes.table}\n                                    aria-label=\"simple table\"\n                                >\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell>目录名</TableCell>\n                                            <TableCell align=\"right\">\n                                                挂载存储策略\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                操作\n                                            </TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {folders.map((row, id) => (\n                                            <TableRow key={id}>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    {row.name}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    {row.policy_name}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <IconButton\n                                                        size={\"small\"}\n                                                        onClick={() =>\n                                                            deleteMount(id)\n                                                        }\n                                                    >\n                                                        <Delete />\n                                                    </IconButton>\n                                                </TableCell>\n                                            </TableRow>\n                                        ))}\n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                            <Button\n                                onClick={() => setMount(true)}\n                                className={classes.create}\n                                variant=\"contained\"\n                                color=\"secondary\"\n                            >\n                                挂载新目录\n                            </Button>\n                        </div>\n                    )}\n                </div>\n            </Paper>\n        </div>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { makeStyles, Typography } from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport API from \"../../middleware/Api\";\nimport TimeAgo from \"timeago-react\";\nimport {getTaskProgress, getTaskStatus, getTaskType} from \"../../config\";\nimport Pagination from \"@material-ui/lab/Pagination\";\n\nconst useStyles = makeStyles(theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        marginBottom: \"50px\"\n    },\n    content: {\n        marginTop: theme.spacing(4),\n        overflowX:\"auto\",\n    },\n    cardContent: {\n        padding: theme.spacing(2)\n    },\n    tableContainer: {\n        overflowX: \"auto\"\n    },\n    create: {\n        marginTop: theme.spacing(2)\n    },\n    noWrap:{\n        wordBreak: \"keepAll\",\n    },\n    footer:{\n        padding:theme.spacing(2),\n    }\n}));\n\nexport default function Tasks() {\n    const [tasks, setTasks] = useState([]);\n    const [total, setTotal] = useState(0);\n    const [page, setPage] = useState(1);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = page => {\n      API.get(\"/user/setting/tasks?page=\" + page)\n          .then(response => {\n              setTasks(response.data.tasks);\n              setTotal(response.data.total);\n          })\n          .catch(error => {\n              ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n          });\n    };\n    \n    useEffect(() => {\n        loadList(page);\n        // eslint-disable-next-line\n    }, [page]);\n\n    const getError = error => {\n        if (error === \"\"){\n            return \"-\"\n        }\n        try {\n            const res = JSON.parse(error)\n            return res.msg\n        }catch (e) {\n            return \"未知\"\n        }\n\n    }\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.layout}>\n            <Typography color=\"textSecondary\" variant=\"h4\">\n                任务队列\n            </Typography>\n            <Paper elevation={3} className={classes.content}>\n                <Table className={classes.table} aria-label=\"simple table\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell nowrap=\"nowrap\">创建于</TableCell>\n                            <TableCell nowrap=\"nowrap\" align=\"right\">任务类型</TableCell>\n                            <TableCell nowrap=\"nowrap\" align=\"right\">状态</TableCell>\n                            <TableCell nowrap=\"nowrap\" align=\"right\">最后进度</TableCell>\n                            <TableCell nowrap=\"nowrap\">错误信息</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {tasks.map((row, id) => (\n                            <TableRow key={id}>\n                                <TableCell nowrap=\"nowrap\" component=\"th\" scope=\"row\">\n                                    <TimeAgo\n                                        datetime={row.create_date}\n                                        locale=\"zh_CN\"\n                                    />\n                                </TableCell>\n                                <TableCell nowrap=\"nowrap\" align=\"right\">\n                                    {getTaskType(row.type)}\n                                </TableCell>\n                                <TableCell nowrap=\"nowrap\" align=\"right\">{getTaskStatus(row.status)}</TableCell>\n                                <TableCell nowrap=\"nowrap\" align=\"right\">\n                                    {getTaskProgress(row.type,row.progress)}\n                                </TableCell>\n                                <TableCell className={classes.noWrap}>\n                                    {getError(row.error)}\n                                </TableCell>\n\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n                <div className={classes.footer}>\n                    <Pagination   count={Math.ceil(total / 10)}\n                                  onChange={(e,v)=>setPage(v)}\n                                  color=\"secondary\"/>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport API from \"../../middleware/Api\";\n\nimport {\n    withStyles,\n    Paper,\n    Avatar,\n    Typography,\n    Tabs,\n    Tab,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    Grid\n} from \"@material-ui/core\";\nimport {withRouter} from \"react-router\";\nimport Pagination from \"@material-ui/lab/Pagination\";\n\nconst styles = theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        marginBottom: \"30px\",\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 700,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        }\n    },\n    userNav: {\n        height: \"270px\",\n        backgroundColor: theme.palette.primary.main,\n        padding: \"20px 20px 2em\",\n        backgroundImage:\n            \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cpolygon fill='\" +\n            theme.palette.primary.light.replace(\"#\", \"%23\") +\n            \"' points='957 450 539 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='957 450 872.9 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='-60 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='337 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 876 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 1162 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='641 695 886 900 367 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.main.replace(\"#\", \"%23\") +\n            \"' points='587 900 641 695 886 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1096 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1365 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1210 900 971 687 725 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='943 900 1210 900 971 687'/%3E%3C/svg%3E\\\")\",\n        backgroundSize: \"cover\",\n        backgroundPosition: \"bottom\"\n    },\n    avatarContainer: {\n        height: \"80px\",\n        width: \"80px\",\n        borderRaidus: \"50%\",\n        margin: \"auto\",\n        marginTop: \"50px\",\n        boxShadow:\n            \"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)\",\n        border: \"2px solid #fff\"\n    },\n    nickName: {\n        width: \"200px\",\n        margin: \"auto\",\n        textAlign: \"center\",\n        marginTop: \"1px\",\n        fontSize: \"25px\",\n        color: \"#ffffff\",\n        opacity: \"0.81\",\n    },\n    th: {\n        minWidth: \"106px\"\n    },\n    mobileHide: {\n        [theme.breakpoints.down(\"md\")]: {\n            display: \"none\"\n        }\n    },\n    tableLink: {\n        cursor: \"pointer\"\n    },\n    navigator: {\n        padding:theme.spacing(2),\n    },\n    pageInfo: {\n        marginTop: \"14px\",\n        marginLeft: \"23px\"\n    },\n    infoItem: {\n        paddingLeft: \"46px!important\",\n        paddingBottom: \"20px!important\"\n    },\n    infoContainer: {\n        marginTop: \"30px\"\n    },\n    tableContainer:{\n        overflowX:\"auto\",\n    }\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        }\n    };\n};\n\nclass ProfileCompoment extends Component {\n    state = {\n        listType: 0,\n        shareList: [],\n        page: 1,\n        user:null,\n        total:0,\n    };\n\n    handleChange = (event, listType) => {\n        this.setState({ listType });\n        if (listType === 1) {\n            this.loadList(1, \"hot\");\n        } else if (listType === 0) {\n            this.loadList(1, \"default\");\n        }\n    };\n\n    componentDidMount = () => {\n        this.loadList(1, \"default\");\n    };\n\n    loadList = (page,order) => {\n        API\n            .get(\"/user/profile/\" + this.props.match.params.id + \"?page=\" + page + \"&type=\" + order)\n            .then(response => {\n                this.setState({\n                    shareList: response.data.items,\n                    user:response.data.user,\n                    total:response.data.total,\n                });\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    loadNext = () => {\n        this.loadList(\n            this.state.page + 1,\n            this.state.listType === 0 ? \"default\" : \"hot\"\n        );\n    };\n\n    loadPrev = () => {\n        this.loadList(\n            this.state.page - 1,\n            this.state.listType === 0 ? \"default\" : \"hot\"\n        );\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                {this.state.user === null &&\n                    <div></div>\n                }\n                {this.state.user !== null &&\n                    <Paper square>\n                        <div className={classes.userNav}>\n                            <div>\n                                <Avatar\n                                    className={classes.avatarContainer}\n                                    src={\n                                        \"/api/v3/user/avatar/\"+this.state.user.id + \"/l\"\n                                    }\n                                />\n                            </div>\n                            <div>\n                                <Typography className={classes.nickName} noWrap>\n                                    {this.state.user.nick}\n                                </Typography>\n                            </div>\n                        </div>\n                        <Tabs\n                            value={this.state.listType}\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            onChange={this.handleChange}\n                            centered\n                        >\n                            <Tab label=\"全部分享\" />\n                            <Tab label=\"热门分享\" />\n                            <Tab label=\"个人资料\" />\n                        </Tabs>\n                        {this.state.listType === 2 && (\n                            <div className={classes.infoContainer}>\n                                <Grid container spacing={24}>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            UID\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.id}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            昵称\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.nick}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            用户组\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.group}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            分享总数\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.total}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            注册日期\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.date}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </div>\n                        )}\n                        {(this.state.listType === 0 ||\n                            this.state.listType === 1) && (\n                            <div>\n                                <div className={classes.tableContainer}>\n                                <Table className={classes.table}>\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell>文件名</TableCell>\n                                            <TableCell\n                                                className={classes.mobileHide}\n                                            >\n                                                分享日期\n                                            </TableCell>\n                                            <TableCell\n                                                className={[\n                                                    classes.th,\n                                                    classes.mobileHide\n                                                ]}\n                                            >\n                                                下载次数\n                                            </TableCell>\n                                            <TableCell\n                                                className={[\n                                                    classes.th,\n                                                    classes.mobileHide\n                                                ]}\n                                            >\n                                                浏览次数\n                                            </TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {this.state.shareList.map((row,id) => (\n                                            <TableRow\n                                                key={id}\n                                                className={classes.tableLink}\n                                                onClick={() =>\n                                                    this.props.history.push(\n                                                        \"/s/\" + row.key\n                                                    )\n                                                }\n                                            >\n                                                <TableCell>\n                                                    <Typography>\n                                                        {row.source?row.source.name:\"[已失效]\"}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    nowrap={\"nowrap\"}\n                                                    className={classes.mobileHide}\n                                                >\n                                                    {row.create_date}\n                                                </TableCell>\n                                                <TableCell\n                                                    className={classes.mobileHide}\n                                                >\n                                                    {row.downloads}\n                                                </TableCell>\n                                                <TableCell\n                                                    className={classes.mobileHide}\n                                                >\n                                                    {row.views}\n                                                </TableCell>\n                                            </TableRow>\n                                        ))}\n                                    </TableBody>\n                                </Table>\n                                </div>\n                                {this.state.shareList.length !== 0 &&\n                                this.state.listType === 0 && (\n                                    <div className={classes.navigator}>\n                                        <Pagination\n                                            count={Math.ceil(this.state.total / 10)}\n                                            onChange={(e,v)=>this.loadList(\n                                                v,\n                                                this.state.listType === 0 ? \"default\" : \"hot\"\n                                            )}\n                                            color=\"secondary\"\n                                        />\n                                    </div>\n                                )}\n                            </div>\n                        )}\n                    </Paper>\n                }\n\n            </div>\n        );\n    }\n}\n\nconst Profile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ProfileCompoment)));\n\nexport default Profile;\n","import React, { useState, useCallback } from \"react\";\nimport {\n    Button, Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemSecondaryAction,\n    ListItemText,\n    makeStyles,\n    Paper,\n    Typography\n} from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport {Add, Fingerprint, HighlightOff} from \"@material-ui/icons\";\nimport API from \"../../middleware/Api\";\nimport {bufferDecode, bufferEncode} from \"../../utils\";\n\nconst useStyles = makeStyles(theme => ({\n    sectionTitle: {\n        paddingBottom: \"10px\",\n        paddingTop: \"30px\"\n    },\n    rightIcon: {\n        marginTop: \"4px\",\n        marginRight: \"10px\",\n        color: theme.palette.text.secondary\n    },\n    desenList: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    iconFix: {\n        marginRight: \"11px\",\n        marginLeft: \"7px\",\n        minWidth: 40\n    },\n    flexContainer: {\n        display: \"flex\"\n    }\n}));\n\nexport default function Authn(props) {\n    const [selected,setSelected] = useState(\"\");\n    const [confirm,setConfirm] = useState(false);\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const deleteCredential = id => {\n        API.patch(\"/user/setting/authn\", {\n            id:id,\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"凭证已删除\",\n                    \"success\"\n                );\n                props.remove(id)\n            })\n            .catch(error => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            }).then(()=>{\n            setConfirm(false);\n        });\n    };\n\n    const classes = useStyles();\n\n    const  addCredential = () =>{\n        if (!navigator.credentials){\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"当前浏览器或环境不支持\",\n                    \"warning\"\n                );\n\n            return\n        }\n        API.put(\"/user/authn\", {})\n            .then(response => {\n                const credentialCreationOptions = response.data;\n                credentialCreationOptions.publicKey.challenge = bufferDecode(\n                    credentialCreationOptions.publicKey.challenge\n                );\n                credentialCreationOptions.publicKey.user.id = bufferDecode(\n                    credentialCreationOptions.publicKey.user.id\n                );\n                if (credentialCreationOptions.publicKey.excludeCredentials) {\n                    for (\n                        let i = 0;\n                        i <\n                        credentialCreationOptions.publicKey.excludeCredentials\n                            .length;\n                        i++\n                    ) {\n                        credentialCreationOptions.publicKey.excludeCredentials[\n                            i\n                            ].id = bufferDecode(\n                            credentialCreationOptions.publicKey\n                                .excludeCredentials[i].id\n                        );\n                    }\n                }\n\n                return navigator.credentials.create({\n                    publicKey: credentialCreationOptions.publicKey\n                });\n            })\n            .then(credential => {\n                const attestationObject = credential.response.attestationObject;\n                const clientDataJSON = credential.response.clientDataJSON;\n                const rawId = credential.rawId;\n                return API.put(\n                    \"/user/authn/finish\",\n                    JSON.stringify({\n                        id: credential.id,\n                        rawId: bufferEncode(rawId),\n                        type: credential.type,\n                        response: {\n                            attestationObject: bufferEncode(attestationObject),\n                            clientDataJSON: bufferEncode(clientDataJSON)\n                        }\n                    })\n                );\n            })\n            .then(response => {\n                props.add(response.data);\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"验证器已添加\",\n                    \"success\"\n                );\n                return;\n            })\n            .catch(error => {\n                console.log(error);\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    return (\n        <div>\n\n            <Dialog\n                open={confirm}\n                onClose={()=>setConfirm(false)}\n            >\n                <DialogTitle>删除凭证</DialogTitle>\n                <DialogContent>\n                    确定要吊销这个凭证吗？\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={()=>setConfirm(false)} color=\"default\">\n                        取消\n                    </Button>\n                    <Button onClick={()=>deleteCredential(selected)} color=\"primary\">\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Typography className={classes.sectionTitle} variant=\"subtitle2\">\n                外部认证器\n            </Typography>\n            <Paper>\n                <List className={classes.desenList}>\n                    {props.list.map((v) => (\n                        <>\n                            <ListItem button\n                                      style={{\n                                          paddingRight:60,\n                                      }}\n                                      onClick={()=>{\n                                setConfirm(true);\n                                setSelected(v.id);\n                            }}>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Fingerprint />\n                                </ListItemIcon>\n                                <ListItemText primary={v.fingerprint} />\n\n                                <ListItemSecondaryAction\n                                    onClick={()=>deleteCredential(v.id)}\n                                    className={classes.flexContainer}\n                                >\n                                    <HighlightOff className={classes.rightIcon} />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                        </>\n                    ))}\n                    <ListItem button onClick={()=>addCredential()}>\n                        <ListItemIcon className={classes.iconFix}>\n                            <Add />\n                        </ListItemIcon>\n                        <ListItemText primary=\"添加新验证器\" />\n\n                        <ListItemSecondaryAction\n                            className={classes.flexContainer}\n                        >\n                            <RightIcon className={classes.rightIcon} />\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                </List>\n            </Paper>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport PhotoIcon from \"@material-ui/icons/InsertPhoto\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport DateIcon from \"@material-ui/icons/DateRange\";\nimport EmailIcon from \"@material-ui/icons/Email\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport LinkIcon from \"@material-ui/icons/Phonelink\";\nimport AlarmOff from \"@material-ui/icons/AlarmOff\";\nimport InputIcon from \"@material-ui/icons/Input\";\nimport SecurityIcon from \"@material-ui/icons/Security\";\nimport NickIcon from \"@material-ui/icons/PermContactCalendar\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport VerifyIcon from \"@material-ui/icons/VpnKey\";\nimport ColorIcon from \"@material-ui/icons/Palette\";\nimport {applyThemes, changeViewMethod, toggleDaylightMode, toggleSnackbar} from \"../../actions\";\nimport axios from \"axios\";\nimport FingerprintIcon from \"@material-ui/icons/Fingerprint\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport {\n    ListItemIcon,\n    withStyles,\n    Button,\n    Divider,\n    TextField,\n    Avatar,\n    Paper,\n    Typography,\n    List,\n    ListItem,\n    ListItemSecondaryAction,\n    ListItemText,\n    ListItemAvatar,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Switch\n} from \"@material-ui/core\";\nimport Backup from \"@material-ui/icons/Backup\";\nimport SettingsInputHdmi from \"@material-ui/icons/SettingsInputHdmi\";\nimport { blue, green, yellow } from \"@material-ui/core/colors\";\nimport API from \"../../middleware/Api\";\nimport Auth from \"../../middleware/Auth\";\nimport { withRouter } from \"react-router\";\nimport TimeAgo from \"timeago-react\";\nimport QRCode from \"qrcode-react\";\nimport {Brightness3, Check, ConfirmationNumber, ListAlt, PermContactCalendar} from \"@material-ui/icons\";\nimport { transformTime } from \"../../utils\";\nimport Authn from \"./Authn\";\n\nconst styles = theme => ({\n    layout: {\n        width: \"auto\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 700,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        }\n    },\n    sectionTitle: {\n        paddingBottom: \"10px\",\n        paddingTop: \"30px\"\n    },\n    rightIcon: {\n        marginTop: \"4px\",\n        marginRight: \"10px\",\n        color: theme.palette.text.secondary\n    },\n    uploadFromFile: {\n        backgroundColor: blue[100],\n        color: blue[600]\n    },\n    userGravatar: {\n        backgroundColor: yellow[100],\n        color: yellow[800]\n    },\n    policySelected: {\n        backgroundColor: green[100],\n        color: green[800]\n    },\n    infoText: {\n        marginRight: \"17px\"\n    },\n    infoTextWithIcon: {\n        marginRight: \"17px\",\n        marginTop: \"1px\"\n    },\n    rightIconWithText: {\n        marginTop: \"0px\",\n        marginRight: \"10px\",\n        color: theme.palette.text.secondary\n    },\n    iconFix: {\n        marginRight: \"11px\",\n        marginLeft: \"7px\",\n        minWidth: 40\n    },\n    flexContainer: {\n        display: \"flex\"\n    },\n    desenList: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    flexContainerResponse: {\n        display: \"flex\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"initial\"\n        }\n    },\n    desText: {\n        marginTop: \"10px\"\n    },\n    secondColor: {\n        height: \"20px\",\n        width: \"20px\",\n        backgroundColor: theme.palette.secondary.main,\n        borderRadius: \"50%\",\n        marginRight: \"17px\"\n    },\n    firstColor: {\n        height: \"20px\",\n        width: \"20px\",\n        backgroundColor: theme.palette.primary.main,\n        borderRadius: \"50%\",\n        marginRight: \"6px\"\n    },\n    themeBlock: {\n        height: \"20px\",\n        width: \"20px\"\n    },\n    paddingBottom: {\n        marginBottom: \"30px\"\n    },\n    paddingText: {\n        paddingRight: theme.spacing(2)\n    },\n    qrcode:{\n        width: 128,\n        marginTop: 16,\n        marginRight: 16,\n    },\n});\n\nconst mapStateToProps = state => {\n    return {\n        title: state.siteConfig.title,\n        authn:state.siteConfig.authn,\n        viewMethod: state.viewUpdate.explorerViewMethod,\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        applyThemes: (color) => {\n            dispatch(applyThemes(color));\n        },\n        toggleDaylightMode:()=>{\n            dispatch(toggleDaylightMode())\n        },\n        changeView: method => {\n            dispatch(changeViewMethod(method));\n        },\n    };\n};\n\nclass UserSettingCompoment extends Component {\n    constructor(props) {\n        super(props);\n        this.fileInput = React.createRef();\n    }\n\n    state = {\n        avatarModal: false,\n        nickModal: false,\n        changePassword: false,\n        loading: \"\",\n        oldPwd: \"\",\n        newPwd: \"\",\n        webdavPwd: \"\",\n        newPwdRepeat: \"\",\n        twoFactor: false,\n        authCode: \"\",\n        changeTheme: false,\n        chosenTheme: null,\n        showWebDavUrl: false,\n        showWebDavUserName: false,\n        changeWebDavPwd: false,\n        groupBackModal: false,\n        changePolicy: false,\n        settings: {\n            uid: 0,\n            group_expires: 0,\n            policy: {\n                current: {\n                    name: \"-\",\n                    id: \"\"\n                },\n                options: []\n            },\n            qq: \"\",\n            homepage: true,\n            two_factor: \"\",\n            two_fa_secret: \"\",\n            prefer_theme: \"\",\n            themes: {},\n            authn:[],\n        }\n    };\n\n    handleClose = () => {\n        this.setState({\n            avatarModal: false,\n            nickModal: false,\n            changePassword: false,\n            loading: \"\",\n            twoFactor: false,\n            changeTheme: false,\n            showWebDavUrl: false,\n            showWebDavUserName: false,\n            changeWebDavPwd: false,\n            groupBackModal: false,\n            changePolicy: false\n        });\n    };\n\n    componentDidMount() {\n        this.loadSetting();\n    }\n\n    toggleViewMethod = () => {\n        const newMethod =\n            this.props.viewMethod === \"icon\"\n                ? \"list\"\n                : this.props.viewMethod === \"list\"\n                ? \"smallIcon\"\n                : \"icon\";\n        Auth.SetPreference(\"view_method\", newMethod);\n        this.props.changeView(newMethod);\n    };\n\n    loadSetting = () => {\n        API.get(\"/user/setting\")\n            .then(response => {\n                const theme = JSON.parse(response.data.themes);\n                response.data.themes = theme;\n                this.setState({\n                    settings: response.data\n                });\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    doChangeGroup = () => {\n        API.patch(\"/user/setting/vip\", {})\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"解约成功，更改会在数分钟后生效\",\n                    \"success\"\n                );\n                this.handleClose();\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    useGravatar = () => {\n        this.setState({\n            loading: \"gravatar\"\n        });\n        API.put(\"/user/setting/avatar\")\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"头像已更新，刷新后生效\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n            });\n    };\n\n    changePolicy = id => {\n        API.patch(\"/user/setting/policy\", {\n            id: id\n        })\n            .then(() => {\n                window.location.reload();\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n            });\n    };\n\n    changeNick = () => {\n        this.setState({\n            loading: \"nick\"\n        });\n        API.patch(\"/user/setting/nick\", {\n            nick: this.state.nick\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"昵称已更改，刷新后生效\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n                this.handleClose();\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n            });\n    };\n\n    bindQQ = () => {\n        this.setState({\n            loading: \"nick\"\n        });\n        API.patch(\"/user/setting/qq\", {})\n            .then(response => {\n                if (response.data === \"\") {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"已解除与QQ账户的关联\",\n                        \"success\"\n                    );\n                    this.setState({\n                        settings: {\n                            ...this.state.settings,\n                            qq: false\n                        }\n                    });\n                } else {\n                    window.location.href = response.data;\n                }\n                this.handleClose();\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            })\n            .then(() => {\n                this.setState({\n                    loading: \"\"\n                });\n            });\n    };\n\n    uploadAvatar = () => {\n        this.setState({\n            loading: \"avatar\"\n        });\n        const formData = new FormData();\n        formData.append(\"avatar\", this.fileInput.current.files[0]);\n        API.post(\"/user/setting/avatar\", formData, {\n            headers: {\n                \"Content-Type\": \"multipart/form-data\"\n            }\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"头像已更新，刷新后生效\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n            });\n    };\n\n    handleToggle = () => {\n        API.patch(\"/user/setting/homepage\", {\n            status: !this.state.settings.homepage\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"设置已保存\",\n                    \"success\"\n                );\n                this.setState({\n                    settings: {\n                        ...this.state.settings,\n                        homepage: !this.state.settings.homepage\n                    }\n                });\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    changhePwd = () => {\n        if (this.state.newPwd !== this.state.newPwdRepeat) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"两次密码输入不一致\",\n                \"warning\"\n            );\n            return;\n        }\n        this.setState({\n            loading: \"changePassword\"\n        });\n        API.patch(\"/user/setting/password\", {\n            old: this.state.oldPwd,\n            new: this.state.newPwd\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"密码已更新\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n                this.handleClose();\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n            });\n    };\n\n    changeTheme = () => {\n        this.setState({\n            loading: \"changeTheme\"\n        });\n        API\n            .patch(\"/user/setting/theme\", {\n                theme: this.state.chosenTheme\n            })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"主题配色已更换\",\n                    \"success\"\n                );\n                this.props.applyThemes(this.state.chosenTheme);\n                this.setState({\n                    loading: \"\"\n                });\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n            });\n    };\n\n    changheWebdavPwd = () => {\n        this.setState({\n            loading: \"changheWebdavPwd\"\n        });\n        axios\n            .post(\"/Member/setWebdavPwd\", {\n                pwd: this.state.webdavPwd\n            })\n            .then(response => {\n                if (response.data.error === \"1\") {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.data.msg,\n                        \"error\"\n                    );\n                    this.setState({\n                        loading: \"\"\n                    });\n                } else {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.data.msg,\n                        \"success\"\n                    );\n                    this.setState({\n                        loading: \"\",\n                        changeWebDavPwd: false\n                    });\n                }\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n            });\n    };\n\n    init2FA = () => {\n        if (this.state.settings.two_factor){\n            this.setState({ twoFactor: true });\n            return;\n        }\n        API.get(\"/user/setting/2fa\")\n            .then(response => {\n                this.setState({\n                    two_fa_secret: response.data,\n                    twoFactor: true,\n                });\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    twoFactor = () => {\n        this.setState({\n            loading: \"twoFactor\"\n        });\n        API.patch(\"/user/setting/2fa\", {\n                code: this.state.authCode\n            })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"设定已保存\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                    settings:{\n                        ...this.state.settings,\n                        two_factor:!this.state.settings.two_factor,\n                    }\n                });\n                this.handleClose();\n            })\n            .catch(error => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\"\n                });\n            });\n    };\n\n    handleChange = name => event => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    handleAlignment = (event, chosenTheme) => this.setState({ chosenTheme });\n\n    toggleThemeMode = (current) => {\n        if (current !== null){\n            this.props.toggleDaylightMode();\n            Auth.SetPreference(\"theme_mode\",null);\n        }\n    }\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const dark = Auth.GetPreference(\"theme_mode\")\n\n        return (\n            <div>\n                <div className={classes.layout}>\n                    <Typography\n                        className={classes.sectionTitle}\n                        variant=\"subtitle2\"\n                    >\n                        个人资料\n                    </Typography>\n                    <Paper>\n                        <List className={classes.desenList}>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ avatarModal: true })\n                                }\n                            >\n                                <ListItemAvatar>\n                                    <Avatar\n                                        src={\n                                            \"/api/v3/user/avatar/\" +\n                                            user.id +\n                                            \"/l\"\n                                        }\n                                    />\n                                </ListItemAvatar>\n                                <ListItemText primary=\"头像\" />\n                                <ListItemSecondaryAction>\n                                    <RightIcon className={classes.rightIcon} />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <PermContactCalendar />\n                                </ListItemIcon>\n                                <ListItemText primary=\"UID\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.state.settings.uid}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ nickModal: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <NickIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"昵称\" />\n\n                                <ListItemSecondaryAction\n                                    onClick={() =>\n                                        this.setState({ nickModal: true })\n                                    }\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.nickname}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <EmailIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"Email\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.user_name}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.props.history.push(\"/buy?tab=1\")\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <GroupIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"用户组\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.group.name}\n                                        {this.state.settings.group_expires >\n                                            0 && (\n                                            <span>\n                                                {\" \"}\n                                                <TimeAgo\n                                                    datetime={\n                                                        this.state.settings\n                                                            .group_expires +\n                                                        \"000\"\n                                                    }\n                                                    locale=\"zh_CN\"\n                                                />{\" \"}\n                                                过期\n                                            </span>\n                                        )}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            {this.state.settings.group_expires > 0 && (\n                                <div>\n                                    <Divider />\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.setState({\n                                                groupBackModal: true\n                                            })\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <AlarmOff />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"手动解约当前用户组\" />\n\n                                        <ListItemSecondaryAction>\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </div>\n                            )}\n                            <Divider />\n                            <ListItem button onClick={() => this.bindQQ()}>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <SettingsInputHdmi />\n                                </ListItemIcon>\n                                <ListItemText primary=\"QQ账号\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.state.settings.qq\n                                            ? \"解除绑定\"\n                                            : \"绑定\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ changePolicy: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Backup />\n                                </ListItemIcon>\n                                <ListItemText primary=\"存储策略\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {\n                                            this.state.settings.policy.current\n                                                .name\n                                        }\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <ConfirmationNumber />\n                                </ListItemIcon>\n                                <ListItemText primary=\"积分\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.score}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <DateIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"注册时间\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {transformTime(\n                                            parseInt(user.created_at + \"000\")\n                                        )}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    </Paper>\n                    <Typography\n                        className={classes.sectionTitle}\n                        variant=\"subtitle2\"\n                    >\n                        安全隐私\n                    </Typography>\n                    <Paper>\n                        <List className={classes.desenList}>\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <HomeIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"个人主页\" />\n\n                                <ListItemSecondaryAction>\n                                    <Switch\n                                        onChange={this.handleToggle}\n                                        checked={this.state.settings.homepage}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ changePassword: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <LockIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"登录密码\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <RightIcon className={classes.rightIcon} />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button onClick={() => this.init2FA()}>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <VerifyIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"二步验证\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {!this.state.settings.two_factor\n                                            ? \"未开启\"\n                                            : \"已开启\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    </Paper>\n\n                    <Authn\n                        list={this.state.settings.authn}\n                        add = {\n                            (credential)=>{\n                                this.setState({\n                                    settings:{\n                                        ...this.state.settings,\n                                        authn: [...this.state.settings.authn,credential],\n                                    }\n                                })\n                            }\n                        }\n                        remove={\n                            (id)=>{\n                                let credentials = [...this.state.settings.authn];\n                                credentials = credentials.filter((v)=>{\n                                    return v.id !== id\n                                })\n                                this.setState({\n                                    settings:{\n                                        ...this.state.settings,\n                                        authn: credentials,\n                                    }\n                                })\n                            }\n                        }\n                    />\n\n                    <Typography\n                        className={classes.sectionTitle}\n                        variant=\"subtitle2\"\n                    >\n                        个性化\n                    </Typography>\n                    <Paper>\n                        <List className={classes.desenList}>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ changeTheme: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <ColorIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"主题配色\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <div className={classes.firstColor}></div>\n                                    <div className={classes.secondColor}></div>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider/>\n                            <ListItem button onClick={()=>this.toggleThemeMode(dark)}>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Brightness3 />\n                                </ListItemIcon>\n                                <ListItemText primary=\"黑暗模式\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {dark&&(dark===\"dark\"\n                                            ? \"偏好开启\"\n                                            : \"偏好关闭\")}\n                                        {dark === null&&\"跟随系统\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider/>\n                            <ListItem button onClick={()=>this.toggleViewMethod()}>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <ListAlt />\n                                </ListItemIcon>\n                                <ListItemText primary=\"文件列表\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.props.viewMethod === \"icon\" && \"大图标\"}\n                                        {this.props.viewMethod === \"list\" && \"列表\"}\n                                        {this.props.viewMethod === \"smallIcon\" && \"小图标\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    </Paper>\n                    {user.group.webdav && (\n                        <div>\n                            <Typography\n                                className={classes.sectionTitle}\n                                variant=\"subtitle2\"\n                            >\n                                WebDAV\n                            </Typography>\n                            <Paper>\n                                <List className={classes.desenList}>\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.setState({\n                                                showWebDavUrl: true\n                                            })\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <LinkIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"连接地址\" />\n\n                                        <ListItemSecondaryAction\n                                            className={classes.flexContainer}\n                                        >\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                    <Divider />\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.setState({\n                                                showWebDavUserName: true\n                                            })\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <InputIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"用户名\" />\n\n                                        <ListItemSecondaryAction\n                                            className={classes.flexContainer}\n                                        >\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                    <Divider />\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.props.history.push(\"/webdav?\")\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <SecurityIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"账号管理\" />\n\n                                        <ListItemSecondaryAction\n                                            className={classes.flexContainer}\n                                        >\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </List>\n                            </Paper>\n                        </div>\n                    )}\n                    <div className={classes.paddingBottom}></div>\n                </div>\n                <Dialog\n                    open={this.state.changePolicy}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>切换存储策略</DialogTitle>\n                    <List>\n                        {this.state.settings.policy.options.map(\n                            (value, index) => (\n                                <ListItem\n                                    button\n                                    component=\"label\"\n                                    key={index}\n                                    onClick={() => this.changePolicy(value.id)}\n                                >\n                                    <ListItemAvatar>\n                                        {value.id ===\n                                            this.state.settings.policy.current\n                                                .id && (\n                                            <Avatar\n                                                className={\n                                                    classes.policySelected\n                                                }\n                                            >\n                                                <Check />\n                                            </Avatar>\n                                        )}\n                                        {value.id !==\n                                            this.state.settings.policy.current\n                                                .id && (\n                                            <Avatar\n                                                className={\n                                                    classes.uploadFromFile\n                                                }\n                                            >\n                                                <Backup />\n                                            </Avatar>\n                                        )}\n                                    </ListItemAvatar>\n                                    <ListItemText primary={value.name} />\n                                </ListItem>\n                            )\n                        )}\n                    </List>\n                </Dialog>\n                <Dialog\n                    open={this.state.avatarModal}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>修改头像</DialogTitle>\n                    <List>\n                        <ListItem\n                            button\n                            component=\"label\"\n                            disabled={this.state.loading === \"avatar\"}\n                        >\n                            <input\n                                type=\"file\"\n                                accept=\"image/*\"\n                                style={{ display: \"none\" }}\n                                ref={this.fileInput}\n                                onChange={this.uploadAvatar}\n                            />\n                            <ListItemAvatar>\n                                <Avatar className={classes.uploadFromFile}>\n                                    <PhotoIcon />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText primary=\"从文件上传\" />\n                        </ListItem>\n                        <ListItem\n                            button\n                            onClick={this.useGravatar}\n                            disabled={this.state.loading === \"gravatar\"}\n                        >\n                            <ListItemAvatar>\n                                <Avatar className={classes.userGravatar}>\n                                    <FingerprintIcon />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                className={classes.paddingText}\n                                primary=\"使用 Gravatar 头像 \"\n                            />\n                        </ListItem>\n                    </List>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            取消\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog open={this.state.nickModal} onClose={this.handleClose}>\n                    <DialogTitle>修改昵称</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            label=\"昵称\"\n                            className={classes.textField}\n                            value={this.state.nick}\n                            onChange={this.handleChange(\"nick\")}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.changeNick}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"nick\" ||\n                                this.state.nick === \"\"\n                            }\n                        >\n                            保存\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.groupBackModal}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>解约用户组</DialogTitle>\n                    <DialogContent>\n                        将要退回到初始用户组，且所支付金额无法退还，确定要继续吗？\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button onClick={this.doChangeGroup} color=\"primary\">\n                            确定\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.changePassword}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>修改登录密码</DialogTitle>\n                    <DialogContent>\n                        <div>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"原密码\"\n                                type=\"password\"\n                                className={classes.textField}\n                                value={this.state.oldPwd}\n                                onChange={this.handleChange(\"oldPwd\")}\n                                margin=\"normal\"\n                                autoFocus\n                            />\n                        </div>\n                        <div>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"新密码\"\n                                type=\"password\"\n                                className={classes.textField}\n                                value={this.state.newPwd}\n                                onChange={this.handleChange(\"newPwd\")}\n                                margin=\"normal\"\n                            />\n                        </div>\n                        <div>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"确认新密码\"\n                                type=\"password\"\n                                className={classes.textField}\n                                value={this.state.newPwdRepeat}\n                                onChange={this.handleChange(\"newPwdRepeat\")}\n                                margin=\"normal\"\n                            />\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.changhePwd}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"changePassword\" ||\n                                this.state.oldPwd === \"\" ||\n                                this.state.newPwdRepeat === \"\" ||\n                                this.state.newPwd === \"\"\n                            }\n                        >\n                            保存\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog open={this.state.twoFactor} onClose={this.handleClose}>\n                    <DialogTitle>{this.state.settings.two_factor?\"关闭\":\"启用\"}二步验证</DialogTitle>\n                    <DialogContent>\n                        <div className={classes.flexContainerResponse}>\n\n                                {!this.state.settings.two_factor && <div className={classes.qrcode}><QRCode\n                                    value={\n                                        \"otpauth://totp/\" +\n                                        this.props.title +\n                                        \"?secret=\" +\n                                        this.state.two_fa_secret\n                                    }\n                                /></div>}\n\n                            <div className={classes.desText}>\n                                {!this.state.settings.two_factor && <Typography>\n                                请使用任意二步验证APP或者支持二步验证的密码管理软件扫描左侧二维码添加本站。扫描完成后请填写二步验证APP给出的6位验证码以开启二步验证。\n                            </Typography>}\n                                {this.state.settings.two_factor && <Typography>\n                                    请验证当前二步验证代码。\n                                </Typography>}\n                                <TextField\n                                    id=\"standard-name\"\n                                    label=\"6位验证码\"\n                                    type=\"number\"\n                                    className={classes.textField}\n                                    value={this.state.authCode}\n                                    onChange={this.handleChange(\"authCode\")}\n                                    margin=\"normal\"\n                                    autoFocus\n                                    fullWidth\n                                />\n                            </div>\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.twoFactor}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"twoFactor\" ||\n                                this.state.authCode === \"\"\n                            }\n                        >\n                            {this.state.settings.two_factor?\"关闭\":\"启用\"}二步验证\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.changeTheme}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>更改主题配色</DialogTitle>\n                    <DialogContent>\n                        <ToggleButtonGroup\n                            value={this.state.chosenTheme}\n                            exclusive\n                            onChange={this.handleAlignment}\n                        >\n                            {Object.keys(this.state.settings.themes).map(\n                                (value, key) => (\n                                    <ToggleButton value={value} key={key}>\n                                        <div\n                                            className={classes.themeBlock}\n                                            style={{ backgroundColor: value }}\n                                        />\n                                    </ToggleButton>\n                                )\n                            )}\n                        </ToggleButtonGroup>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.changeTheme}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"changeTheme\" ||\n                                this.state.chosenTheme === null\n                            }\n                        >\n                            保存\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.showWebDavUrl}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>WebDAV连接地址</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            className={classes.textField}\n                            value={\n                                window.location.origin +\n                                \"/dav\"\n                            }\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.showWebDavUserName}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>WebDAV用户名</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            className={classes.textField}\n                            value={user.user_name}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n\nconst UserSetting = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(UserSettingCompoment)));\n\nexport default UserSetting;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {applyThemes, setSessionStatus, toggleSnackbar} from \"../../actions\";\nimport Notice from \"../Share/NotFound\";\nimport {useHistory, useLocation} from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport Auth from \"../../middleware/Auth\";\nimport {enableUploaderLoad} from \"../../middleware/Init\";\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\n\nexport default function QQCallback(){\n    const query = useQuery();\n    const location = useLocation();\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const ApplyThemes = useCallback(theme => dispatch(applyThemes(theme)), [\n        dispatch\n    ]);\n    const SetSessionStatus = useCallback(\n        status => dispatch(setSessionStatus(status)),\n        [dispatch]\n    );\n\n    const [msg,setMsg] = useState(\"\");\n\n    const afterLogin = data =>{\n        Auth.authenticate(data);\n\n        // 设置用户主题色\n        if (data[\"preferred_theme\"] !== \"\") {\n            ApplyThemes(data[\"preferred_theme\"]);\n        }\n        enableUploaderLoad();\n\n        // 设置登录状态\n        SetSessionStatus(true);\n\n        history.push(\"/home\");\n        ToggleSnackbar(\"top\", \"right\", \"登录成功\", \"success\");\n\n        localStorage.removeItem(\"siteConfigCache\");\n    };\n\n    useEffect(()=>{\n        if(query.get(\"error_description\")){\n            setMsg(query.get(\"error_description\"));\n            return\n        }\n        if(query.get(\"code\") === null){\n            return\n        }\n        API.post(\"/callback/qq\",{\n            code:query.get(\"code\"),\n            state:query.get(\"state\"),\n        })\n            .then(response => {\n                if(response.rawData.code === 203){\n                    afterLogin(response.data);\n                }else{\n                    history.push(response.data);\n                }\n\n            })\n            .catch(error => {\n                setMsg(error.message);\n            });\n        // eslint-disable-next-line\n    },[location]);\n\n    return (\n        <>\n            {msg !== \"\" && <Notice msg={msg}/>}\n        </>\n    )\n}","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport RegIcon from '@material-ui/icons/AssignmentIndOutlined';\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    toggleSnackbar,\n} from \"../../actions/index\";\nimport Placeholder from \"../Placeholder/Captcha\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport {\n    Button,\n    FormControl,\n    Divider,\n    Link,\n    Input,\n    InputLabel,\n    Paper,\n    Avatar,\n    Typography\n} from \"@material-ui/core\";\nimport EmailIcon from \"@material-ui/icons/EmailOutlined\";\nimport ReCaptcha from \"./ReCaptcha\";\nconst useStyles = makeStyles(theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        marginBottom: 110\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1)\n    },\n    submit: {\n        marginTop: theme.spacing(3)\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\"\n    },\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"block\",\n        },\n\n    },\n    captchaPlaceholder: {\n        width: 200\n    },\n    buttonContainer: {\n        display: \"flex\"\n    },\n    authnLink: {\n        textAlign: \"center\",\n        marginTop: 16\n    },\n    avatarSuccess:{\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n    },\n}));\n\nfunction Register() {\n    const [input,setInput] = useState({\n        \"email\":\"\",\n        \"password\":\"\",\n        \"password_repeat\":\"\",\n        \"captcha\":\"\",\n    });\n    const [loading, setLoading] = useState(false);\n    const [emailActive, setEmailActive] = useState(false);\n    const [captchaData, setCaptchaData] = useState(null);\n\n    const title = useSelector(state => state.siteConfig.title);\n    const regCaptcha = useSelector(state => state.siteConfig.regCaptcha);\n    const useReCaptcha = useSelector(state => state.siteConfig.captcha_IsUseReCaptcha);\n    const reCaptchaKey = useSelector(state => state.siteConfig.captcha_ReCaptchaKey);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const history = useHistory();\n\n    const handleInputChange = name => e => {\n        setInput({\n            ...input,\n            [name]:e.target.value\n        })\n    }\n\n    const classes = useStyles();\n\n    const refreshCaptcha = () => {\n        API.get(\"/site/captcha\")\n            .then(response => {\n                setCaptchaData(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法加载验证码：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    const register = e =>{\n        e.preventDefault();\n\n        if (input.password !== input.password_repeat){\n            ToggleSnackbar(\"top\", \"right\", \"两次密码输入不一致\", \"warning\");\n            return\n        }\n\n        setLoading(true);\n        API.post(\"/user\", {\n            userName: input.email,\n            Password: input.password,\n            captchaCode: input.captcha\n        })\n            .then(response => {\n                setLoading(false);\n                if (response.rawData.code === 203){\n                    setEmailActive(true);\n                }else{\n                    history.push(\"/login?username=\"+input.email)\n                    ToggleSnackbar(\"top\", \"right\", \"注册成功\", \"success\");\n                }\n\n            })\n            .catch(error => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                if (!useReCaptcha) {\n                    refreshCaptcha();\n                }\n            });\n    }\n\n    useEffect(() => {\n        if (regCaptcha && !useReCaptcha) {\n            refreshCaptcha();\n        }\n    }, [regCaptcha]);\n\n    return (\n        <div className={classes.layout}>\n            <>\n                {!emailActive &&  <Paper className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <RegIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        注册 {title}\n                    </Typography>\n\n                    <form className={classes.form} onSubmit={register}>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"email\">电子邮箱</InputLabel>\n                            <Input\n                                id=\"email\"\n                                type=\"email\"\n                                name=\"email\"\n                                onChange={handleInputChange(\"email\")}\n                                autoComplete\n                                value={input.email}\n                                autoFocus\n                            />\n                        </FormControl>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"password\">密码</InputLabel>\n                            <Input\n                                name=\"password\"\n                                onChange={handleInputChange(\"password\")}\n                                type=\"password\"\n                                id=\"password\"\n                                value={input.password}\n                                autoComplete\n                            />\n                        </FormControl>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"password\">确认密码</InputLabel>\n                            <Input\n                                name=\"pwdRepeat\"\n                                onChange={handleInputChange(\"password_repeat\")}\n                                type=\"password\"\n                                id=\"pwdRepeat\"\n                                value={input.password_repeat}\n                                autoComplete />\n                        </FormControl>\n                        {regCaptcha && !useReCaptcha && (\n                            <div className={classes.captchaContainer}>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <InputLabel htmlFor=\"captcha\">\n                                        验证码\n                                    </InputLabel>\n                                    <Input\n                                        name=\"captcha\"\n                                        onChange={handleInputChange(\"captcha\")}\n                                        type=\"text\"\n                                        id=\"captcha\"\n                                        value={input.captcha}\n                                        autoComplete\n                                    />\n                                </FormControl>{\" \"}\n                                <div>\n                                    {captchaData === null && (\n                                        <div\n                                            className={\n                                                classes.captchaPlaceholder\n                                            }\n                                        >\n                                            <Placeholder />\n                                        </div>\n                                    )}\n                                    {captchaData !== null && (\n                                        <img\n                                            src={captchaData}\n                                            alt=\"captcha\"\n                                            onClick={refreshCaptcha}\n                                        />\n                                    )}\n                                </div>\n                            </div>\n                        )}\n\n                        {regCaptcha && useReCaptcha && (\n                            <div className={classes.captchaContainer}>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <ReCaptcha\n                                        style={{ display: \"inline-block\" }}\n                                        sitekey={reCaptchaKey}\n                                        onChange={value=>\n                                            setInput({\n                                                ...input,\n                                                captcha:value\n                                            })\n                                        }\n                                        id=\"captcha\"\n                                        name=\"captcha\"\n                                    />\n                                </FormControl>{\" \"}\n                            </div>\n                        )}\n\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            disabled={loading}\n                            className={classes.submit}\n                        >\n                            注册账号\n                        </Button>\n                    </form>\n\n                    <Divider />\n                    <div className={classes.link}>\n                        <div>\n                            <Link href={\"/#/login\"}>返回登录</Link>\n                        </div>\n                        <div>\n                            <Link href={\"/#/forget\"}>忘记密码</Link>\n                        </div>\n                    </div>\n                </Paper>}\n                {emailActive &&\n                <Paper className={classes.paper}>\n                    <Avatar className={classes.avatarSuccess}>\n                        <EmailIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        邮件激活\n                    </Typography>\n                    <Typography style={{marginTop:\"10px\"}}>一封激活邮件已经发送至您的邮箱，请访问邮件中的链接以继续完成注册。</Typography>\n\n                </Paper>\n                }\n\n            </>\n        </div>\n    );\n}\n\nexport default Register;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    toggleSnackbar,\n} from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport {\n    Button,\n    Paper,\n    Avatar,\n    Typography\n} from \"@material-ui/core\";\nimport EmailIcon from \"@material-ui/icons/EmailOutlined\";\nimport {useLocation} from \"react-router\";\nconst useStyles = makeStyles(theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        marginBottom: 110\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main\n    },\n    submit: {\n        marginTop: theme.spacing(3)\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction Activation() {\n    const query = useQuery();\n    const location = useLocation();\n\n    const [success,setSuccess] = useState(false);\n    const [email,setEmail] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const history = useHistory();\n\n    const classes = useStyles();\n\n\n\n    useEffect(() => {\n        API.get(\"/user/activate/\" + query.get(\"id\") + \"?sign=\" + query.get(\"sign\"))\n            .then(response => {\n                setEmail(response.data);\n                setSuccess(true);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                history.push(\"/login\");\n            });\n        // eslint-disable-next-line\n    }, [location]);\n\n    return (\n        <div className={classes.layout}>\n            {success && <Paper className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <EmailIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    激活成功\n                </Typography>\n                <Typography style={{marginTop:\"20px\"}}>您的账号已被成功激活。</Typography>\n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    onClick={()=>history.push(\"/login?username=\"+email)}\n                >\n                    返回登录\n                </Button>\n\n            </Paper>}\n\n\n        </div>\n    );\n}\n\nexport default Activation;\n","import React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport {\n    Button,\n    FormControl,\n    Divider,\n    Link,\n    Input,\n    InputLabel,\n    Paper,\n    Avatar,\n    Typography\n} from \"@material-ui/core\";\nimport { useLocation } from \"react-router\";\nimport KeyIcon from \"@material-ui/icons/VpnKeyOutlined\";\nconst useStyles = makeStyles(theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        marginBottom: 110\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main\n    },\n    submit: {\n        marginTop: theme.spacing(3)\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\"\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction ResetForm() {\n    const query = useQuery();\n    const [input, setInput] = useState({\n        password: \"\",\n        password_repeat: \"\"\n    });\n    const [loading, setLoading] = useState(false);\n    const handleInputChange = name => e => {\n        setInput({\n            ...input,\n            [name]:e.target.value\n        })\n    }\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const history = useHistory();\n\n    const submit = e => {\n        e.preventDefault();\n        if (input.password !== input.password_repeat){\n            ToggleSnackbar(\"top\", \"right\", \"两次密码输入不一致\", \"warning\");\n            return\n        }\n        setLoading(true);\n        API.patch(\"/user/reset\", {\n            secret: query.get(\"sign\"),\n            id: query.get(\"id\"),\n            Password: input.password,\n        })\n            .then(() => {\n                setLoading(false);\n                history.push(\"/login\");\n                ToggleSnackbar(\"top\", \"right\", \"密码已重设\", \"success\");\n            })\n            .catch(error => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            });\n    }\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <KeyIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    找回密码\n                </Typography>\n                <form className={classes.form} onSubmit={submit}>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"email\">新密码</InputLabel>\n                        <Input\n                            id=\"pwd\"\n                            type=\"password\"\n                            name=\"pwd\"\n                            onChange={handleInputChange(\"password\")}\n                            autoComplete\n                            value={input.password}\n                            autoFocus\n                        />\n                    </FormControl>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"email\">重复新密码</InputLabel>\n                        <Input\n                            id=\"pwdRepeat\"\n                            type=\"password\"\n                            name=\"pwdRepeat\"\n                            onChange={handleInputChange(\"password_repeat\")}\n                            autoComplete\n                            value={input.password_repeat}\n                            autoFocus\n                        />\n                    </FormControl>\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={loading}\n                        className={classes.submit}\n                    >\n                        重设密码\n                    </Button>{\" \"}\n                </form>{\" \"}\n                <Divider />\n                <div className={classes.link}>\n                    <div>\n                        <Link href={\"/#/login\"}>返回登录</Link>\n                    </div>\n                    <div>\n                        <Link href={\"/#/signup\"}>注册账号</Link>\n                    </div>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default ResetForm;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport Placeholder from \"../Placeholder/Captcha\";\nimport API from \"../../middleware/Api\";\nimport {\n    Button,\n    FormControl,\n    Divider,\n    Link,\n    Input,\n    InputLabel,\n    Paper,\n    Avatar,\n    Typography\n} from \"@material-ui/core\";\nimport KeyIcon from \"@material-ui/icons/VpnKeyOutlined\";\nimport ReCaptcha from \"./ReCaptcha\";\nconst useStyles = makeStyles(theme => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        },\n        marginBottom: 110\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main\n    },\n    submit: {\n        marginTop: theme.spacing(3)\n    },\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\"\n    },\n    captchaPlaceholder: {\n        width: 200\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\"\n    }\n}));\n\nfunction Reset() {\n    const [input, setInput] = useState({\n        email: \"\",\n        captcha: \"\"\n    });\n    const [captchaData, setCaptchaData] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const forgetCaptcha = useSelector(state => state.siteConfig.forgetCaptcha);\n    const useReCaptcha = useSelector(state => state.siteConfig.captcha_IsUseReCaptcha);\n    const reCaptchaKey = useSelector(state => state.siteConfig.captcha_ReCaptchaKey);\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const handleInputChange = name => e => {\n        setInput({\n            ...input,\n            [name]: e.target.value\n        });\n    };\n\n    const refreshCaptcha = () => {\n        API.get(\"/site/captcha\")\n            .then(response => {\n                setCaptchaData(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法加载验证码：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    useEffect(() => {\n        if (forgetCaptcha && !useReCaptcha) {\n            refreshCaptcha();\n        }\n        // eslint-disable-next-line\n    }, [forgetCaptcha]);\n\n    const submit = e => {\n        e.preventDefault();\n        setLoading(true);\n        API.post(\"/user/reset\", {\n            userName: input.email,\n            captchaCode: input.captcha\n        })\n            .then(() => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", \"密码重置邮件已发送，请注意查收\", \"success\");\n\n\n            })\n            .catch(error => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                if (!useReCaptcha){\n                    refreshCaptcha();\n                }\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <KeyIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    找回密码\n                </Typography>\n                <form className={classes.form} onSubmit={submit}>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"email\">注册邮箱</InputLabel>\n                        <Input\n                            id=\"email\"\n                            type=\"email\"\n                            name=\"email\"\n                            onChange={handleInputChange(\"email\")}\n                            autoComplete\n                            value={input.email}\n                            autoFocus\n                        />\n                    </FormControl>\n                    {forgetCaptcha && !useReCaptcha && (\n                        <div className={classes.captchaContainer}>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"captcha\">\n                                    验证码\n                                </InputLabel>\n                                <Input\n                                    name=\"captcha\"\n                                    onChange={handleInputChange(\"captcha\")}\n                                    type=\"text\"\n                                    id=\"captcha\"\n                                    value={input.captcha}\n                                    autoComplete\n                                />\n                            </FormControl>{\" \"}\n                            <div>\n                                {captchaData === null && (\n                                    <div className={classes.captchaPlaceholder}>\n                                        <Placeholder />\n                                    </div>\n                                )}\n                                {captchaData !== null && (\n                                    <img\n                                        src={captchaData}\n                                        alt=\"captcha\"\n                                        onClick={refreshCaptcha}\n                                    />\n                                )}\n                            </div>\n                        </div>\n                    )}\n\n                    {forgetCaptcha && useReCaptcha && (\n                        <div className={classes.captchaContainer}>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <ReCaptcha\n                                    style={{ display: \"inline-block\" }}\n                                    sitekey={reCaptchaKey}\n                                    onChange={value=>\n                                        setInput({\n                                            ...input,\n                                            captcha:value\n                                        })\n                                    }\n                                    id=\"captcha\"\n                                    name=\"captcha\"\n                                />\n                            </FormControl>{\" \"}\n                        </div>\n                    )}\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={loading}\n                        className={classes.submit}\n                    >\n                        发送密码重置邮件\n                    </Button>{\" \"}\n                </form>{\" \"}\n                <Divider />\n                <div className={classes.link}>\n                    <div>\n                        <Link href={\"/#/login\"}>返回登录</Link>\n                    </div>\n                    <div>\n                        <Link href={\"/#/signup\"}>注册账号</Link>\n                    </div>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default Reset;\n","import React, { Suspense } from \"react\";\nimport AuthRoute from \"./middleware/AuthRoute\";\nimport Navbar from \"./component/Navbar/Navbar.js\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport AlertBar from \"./component/Common/Snackbar\";\nimport { createMuiTheme, lighten } from \"@material-ui/core/styles\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\nimport Auth from \"./middleware/Auth\";\nimport { CssBaseline, makeStyles, ThemeProvider } from \"@material-ui/core\";\nimport PageLoading from \"./component/Placeholder/PageLoading.js\";\nimport { changeThemeColor } from \"./utils\";\nimport NotFound from \"./component/Share/NotFound\";\nimport { ICPFooter } from \"./component/Common/ICPFooter\";\n// Lazy loads\nimport LoginForm from \"./component/Login/LoginForm\";\nimport FileManager from \"./component/FileManager/FileManager.js\";\nimport VideoPreview from \"./component/Viewer/Video.js\";\nimport SearchResult from \"./component/Share/SearchResult\";\nimport MyShare from \"./component/Share/MyShare\";\nimport Download from \"./component/Download/Download\";\nimport SharePreload from \"./component/Share/SharePreload\";\nimport DocViewer from \"./component/Viewer/Doc\";\nimport TextViewer from \"./component/Viewer/Text\";\nimport Quota from \"./component/VAS/Quota\";\nimport BuyQuota from \"./component/VAS/BuyQuota\";\nimport WebDAV from \"./component/Setting/WebDAV\";\nimport Tasks from \"./component/Setting/Tasks\";\nimport Profile from \"./component/Setting/Profile\";\nimport UserSetting from \"./component/Setting/UserSetting\";\nimport QQCallback from \"./component/Login/QQ\";\nimport Register from \"./component/Login/Register\";\nimport Activation from \"./component/Login/Activication\";\nimport ResetForm from \"./component/Login/ResetForm\";\nimport Reset from \"./component/Login/Reset\";\nimport CodeViewer from \"./component/Viewer/Code\";\n\nconst PDFViewer = React.lazy(() => import(/* webpackChunkName: \"pdf\" */ \"./component/Viewer/PDF\"));\n\nexport default function App() {\n    const themeConfig = useSelector(state => state.siteConfig.theme);\n    const isLogin = useSelector(state => state.viewUpdate.isLogin);\n    const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n\n    const theme = React.useMemo(() => {\n        themeConfig.palette.type = prefersDarkMode ? \"dark\" : \"light\";\n        const prefer = Auth.GetPreference(\"theme_mode\");\n        if (prefer) {\n            themeConfig.palette.type = prefer;\n        }\n        const theme = createMuiTheme({\n            ...themeConfig,\n            palette: {\n                ...themeConfig.palette,\n                primary: {\n                    ...themeConfig.palette.primary,\n                    main:\n                        themeConfig.palette.type === \"dark\"\n                            ? lighten(themeConfig.palette.primary.main, 0.3)\n                            : themeConfig.palette.primary.main\n                }\n            }\n        });\n        changeThemeColor(\n            themeConfig.palette.type === \"dark\"\n                ? theme.palette.background.default\n                : theme.palette.primary.main\n        );\n        return theme;\n    }, [prefersDarkMode, themeConfig]);\n\n    const useStyles = makeStyles(theme => ({\n        root: {\n            display: \"flex\"\n        },\n        content: {\n            flexGrow: 1,\n            padding: theme.spacing(0),\n            minWidth: 0\n        },\n        toolbar: theme.mixins.toolbar\n    }));\n\n    const classes = useStyles();\n\n    const { path } = useRouteMatch();\n    return (\n        <React.Fragment>\n            <ThemeProvider theme={theme}>\n                <div className={classes.root} id=\"container\">\n                    <CssBaseline />\n                    <AlertBar />\n                    <Navbar />\n                    <main className={classes.content}>\n                        <div className={classes.toolbar} />\n                        <Switch>\n                            <AuthRoute exact path={path} isLogin={isLogin}>\n                                <Redirect\n                                    to={{\n                                        pathname: \"/home\"\n                                    }}\n                                />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}home`} isLogin={isLogin}>\n                                <FileManager />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}video`} isLogin={isLogin}>\n                                <VideoPreview />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}text`} isLogin={isLogin}>\n                                <TextViewer />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}doc`} isLogin={isLogin}>\n                                <DocViewer />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}pdf`} isLogin={isLogin}>\n                                <Suspense fallback={<PageLoading/>}>\n                                    <PDFViewer />\n                                </Suspense>\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}code`} isLogin={isLogin}>\n                                <CodeViewer />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}aria2`} isLogin={isLogin}>\n                                <Download />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}shares`} isLogin={isLogin}>\n                                <MyShare />\n                            </AuthRoute>\n\n                            <Route path={`${path}search`} isLogin={isLogin}>\n                                <SearchResult />\n                            </Route>\n\n                            <AuthRoute path={`${path}quota`} isLogin={isLogin}>\n                                <Quota />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}buy`} isLogin={isLogin}>\n                                <BuyQuota />\n                            </AuthRoute>\n\n                            <AuthRoute\n                                path={`${path}setting`}\n                                isLogin={isLogin}\n                            >\n                                <UserSetting />\n                            </AuthRoute>\n\n                            <AuthRoute\n                                path={`${path}profile/:id`}\n                                isLogin={isLogin}\n                            >\n                                <Profile />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}webdav`} isLogin={isLogin}>\n                                <WebDAV />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}tasks`} isLogin={isLogin}>\n                                <Tasks />\n                            </AuthRoute>\n\n                            <Route path={`${path}login`} exact>\n                                <LoginForm />\n                            </Route>\n\n                            <Route path={`${path}signup`} exact>\n                                <Register />\n                            </Route>\n\n                            <Route path={`${path}activate`} exact>\n                                <Activation />\n                            </Route>\n\n                            <Route path={`${path}reset`} exact>\n                                <ResetForm />\n                            </Route>\n\n                            <Route path={`${path}forget`} exact>\n                                <Reset />\n                            </Route>\n\n                            <Route path={`${path}login/qq`}>\n                                <QQCallback />\n                            </Route>\n\n                            <Route exact path={`${path}s/:id`}>\n                                <SharePreload />\n                            </Route>\n\n                            <Route path={`${path}s/:id/video(/)*`}>\n                                <VideoPreview />\n                            </Route>\n\n                            <Route path={`${path}s/:id/doc(/)*`}>\n                                <DocViewer />\n                            </Route>\n\n                            <Route path={`${path}s/:id/text(/)*`}>\n                                <TextViewer />\n                            </Route>\n\n                            <Route path={`${path}s/:id/pdf(/)*`}>\n                                <Suspense fallback={<PageLoading/>}>\n                                    <PDFViewer />\n                                </Suspense>\n                            </Route>\n\n                            <Route path={`${path}s/:id/code(/)*`}>\n                                <CodeViewer />\n                            </Route>\n\n                            <Route path=\"*\">\n                                <NotFound msg={\"页面不存在\"} />\n                            </Route>\n                        </Switch>\n                    </main>\n                    <ICPFooter />\n                </div>\n            </ThemeProvider>\n        </React.Fragment>\n    );\n}\n","import { AnyAction } from \"redux\"\nimport Auth from \"../../middleware/Auth\"\n\ndeclare global {\n    interface Window {\n        shareKey: any;\n    }\n}\n\nexport interface ViewUpdateState {\n  isLogin: boolean;\n  loadUploader: boolean;\n  open: boolean;\n  explorerViewMethod: string;\n  sortMethod: 'sizePos' | 'sizeRes' | 'namePos' | 'nameRev' | 'timePos' | 'timeRev';\n  subTitle: string | null;\n  contextType: string;\n  contextOpen: boolean;\n  menuOpen: boolean;\n  navigatorLoading: boolean;\n  navigatorError: boolean;\n  navigatorErrorMsg: string | null;\n  modalsLoading: boolean;\n  storageRefresh: boolean;\n  userPopoverAnchorEl: any;\n  shareUserPopoverAnchorEl: any;\n  modals: {\n      createNewFolder: boolean;\n      createNewFile: boolean;\n      rename: boolean;\n      move: boolean;\n      remove: boolean;\n      share: boolean;\n      music: boolean;\n      remoteDownload: boolean;\n      torrentDownload: boolean;\n      getSource: boolean;\n      copy: boolean;\n      resave: boolean;\n      compress: boolean;\n      decompress: boolean;\n  };\n  snackbar: {\n      toggle: boolean;\n      vertical: string;\n      horizontal: string;\n      msg: string;\n      color: string;\n  };\n}\nexport const initState: ViewUpdateState = {\n  // 是否登录\n  isLogin: Auth.Check(),\n  loadUploader:false,\n  open: false,\n  explorerViewMethod: \"icon\",\n  sortMethod: \"timePos\",\n  subTitle: null,\n  contextType: \"none\",\n  contextOpen: false,\n  menuOpen: false,\n  navigatorLoading: true,\n  navigatorError: false,\n  navigatorErrorMsg: null,\n  modalsLoading: false,\n  storageRefresh: false,\n  userPopoverAnchorEl: null,\n  shareUserPopoverAnchorEl: null,\n  modals: {\n      createNewFolder: false,\n      createNewFile: false,\n      rename: false,\n      move: false,\n      remove: false,\n      share: false,\n      music: false,\n      remoteDownload: false,\n      torrentDownload: false,\n      getSource: false,\n      copy:false,\n      resave: false,\n      compress:false,\n      decompress:false,\n  },\n  snackbar: {\n      toggle: false,\n      vertical: \"top\",\n      horizontal: \"center\",\n      msg: \"\",\n      color: \"\"\n  }\n}\nconst viewUpdate = (state: ViewUpdateState = initState, action: AnyAction) => {\n    switch (action.type) {\n      case 'DRAWER_TOGGLE':\n        return Object.assign({}, state, {\n          open: action.open,\n        });\n      case 'CHANGE_VIEW_METHOD':\n        return Object.assign({}, state, {\n          explorerViewMethod: action.method,\n      });\n      case 'SET_NAVIGATOR_LOADING_STATUE':\n          return Object.assign({}, state, {\n            navigatorLoading:action.status,\n          });\n      case 'SET_NAVIGATOR_ERROR':\n          return Object.assign({}, state, {\n            navigatorError: action.status,\n            navigatorErrorMsg: action.msg,\n          })\n      case 'OPEN_CREATE_FOLDER_DIALOG':\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                createNewFolder:true,\n            }),\n            contextOpen:false,\n          });\n        case 'OPEN_CREATE_FILE_DIALOG':\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                createNewFile:true,\n            }),\n            contextOpen:false,\n          });\n      case 'OPEN_RENAME_DIALOG':\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                rename:true,\n            }),\n            contextOpen:false,\n          });\n      case 'OPEN_REMOVE_DIALOG':\n          return  Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                remove:true,\n            }),\n            contextOpen:false,\n          });\n      case 'OPEN_MOVE_DIALOG':\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                move:true,\n            }),\n            contextOpen:false,\n          });\n      case 'OPEN_RESAVE_DIALOG':\n          window.shareKey = action.key;\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                resave:true,\n            }),\n            contextOpen:false,\n          });\n      case 'SET_USER_POPOVER':\n          return Object.assign({}, state, {\n            userPopoverAnchorEl:action.anchor,\n          });\n      case 'SET_SHARE_USER_POPOVER':\n          return Object.assign({}, state, {\n            shareUserPopoverAnchorEl:action.anchor,\n          });\n      case 'OPEN_SHARE_DIALOG':\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                share:true,\n            }),\n            contextOpen:false,\n          });\n      case 'OPEN_MUSIC_DIALOG':\n        return Object.assign({}, state, {\n          modals: Object.assign({}, state.modals, {\n              music:true,\n          }),\n          contextOpen:false,\n        });\n      case 'OPEN_REMOTE_DOWNLOAD_DIALOG':\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                remoteDownload:true,\n            }),\n            contextOpen:false,\n        });\n      case 'OPEN_TORRENT_DOWNLOAD_DIALOG':\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                torrentDownload:true,\n            }),\n            contextOpen:false,\n          });\n      case 'OPEN_DECOMPRESS_DIALOG':\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                decompress:true,\n            }),\n            contextOpen:false,\n          });\n      case 'OPEN_COMPRESS_DIALOG':\n          return  Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                compress:true,\n            }),\n            contextOpen:false,\n          });\n      case 'OPEN_GET_SOURCE_DIALOG':\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                getSource:true,\n            }),\n            contextOpen:false,\n          });\n      case 'OPEN_COPY_DIALOG':\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                copy:true,\n            }),\n            contextOpen:false,\n          });\n      case 'OPEN_LOADING_DIALOG':\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                loading:true,\n                loadingText:action.text,\n            }),\n            contextOpen:false,\n          });\n      case 'CLOSE_ALL_MODALS':\n          return Object.assign({}, state, {\n            modals: Object.assign({}, state.modals, {\n                createNewFolder:false,\n                createNewFile:false,\n                rename:false,\n                move:false,\n                remove:false,\n                share:false,\n                music:false,\n                remoteDownload:false,\n                torrentDownload:false,\n                getSource:false,\n                resave:false,\n                copy:false,\n                loading:false,\n                compress:false,\n                decompress:false,\n            }),\n          });\n        case 'TOGGLE_SNACKBAR':\n            return Object.assign({}, state, {\n              snackbar:{\n                  toggle:!state.snackbar.toggle,\n                  vertical:action.vertical,\n                  horizontal:action.horizontal,\n                  msg:action.msg,\n                  color:action.color,\n              },\n            });\n        case 'SET_MODALS_LOADING':\n            return Object.assign({}, state, {\n              modalsLoading:action.status,\n            });\n        case 'SET_SESSION_STATUS':\n            return {\n              ...state,\n              isLogin: action.status,\n            }\n        case 'ENABLE_LOAD_UPLOADER':\n            return Object.assign({}, state, {\n              loadUploader:true,\n            });\n        case 'REFRESH_STORAGE':\n          return Object.assign({}, state, {\n            storageRefresh:!state.storageRefresh,\n          });\n        case 'SEARCH_MY_FILE':\n          return Object.assign({}, state, {\n            contextOpen:false,\n            navigatorError:false,\n            navigatorLoading:true,\n          })\n        case 'CHANGE_CONTEXT_MENU':\n          if(state.contextOpen && action.open){\n              return Object.assign({}, state);\n          }\n          return Object.assign({}, state, {\n            contextOpen: action.open,\n            contextType: action.menuType,\n          });\n        case 'SET_SUBTITLE':\n          return Object.assign({}, state, {\n            subTitle: action.title,\n          });\n        case 'SET_SORT_METHOD':\n          return {\n            ...state,\n            sortMethod: action.method\n          }\n        case 'SET_NAVIGATOR':\n          return {\n            ...state,\n            contextOpen:false,\n            navigatorError:false,\n            navigatorLoading: action.navigatorLoading\n          }\n      default:\n        return state\n    }\n  }\n  \n  export default viewUpdate","import { InitSiteConfig } from \"../middleware/Init\";\nimport { combineReducers } from '../redux/combineReducers'\nimport viewUpdate from '../redux/viewUpdate/reducer'\nimport explorer from '../redux/explorer/reducer'\n\nconst doNavigate = (path, state)=>{\n    window.currntPath = path;\n    return Object.assign({}, state, {\n        navigator:Object.assign({}, state.navigator, {\n            path: path\n        }),\n    });\n}\n\nexport const initState = {\n  siteConfig: {\n      title: window.subTitle,\n      siteICPId: \"\",\n      loginCaptcha: false,\n      regCaptcha: false,\n      forgetCaptcha: false,\n      emailActive: false,\n      QQLogin: false,\n      themes:null,\n      authn:false,\n      theme: {\n          palette: {\n              common: { black: \"#000\", white: \"#fff\" },\n              background: { paper: \"#fff\", default: \"#fafafa\" },\n              primary: {\n                  light: \"#7986cb\",\n                  main: \"#3f51b5\",\n                  dark: \"#303f9f\",\n                  contrastText: \"#fff\"\n              },\n              secondary: {\n                  light: \"#ff4081\",\n                  main: \"#f50057\",\n                  dark: \"#c51162\",\n                  contrastText: \"#fff\"\n              },\n              error: {\n                  light: \"#e57373\",\n                  main: \"#f44336\",\n                  dark: \"#d32f2f\",\n                  contrastText: \"#fff\"\n              },\n              text: {\n                  primary: \"rgba(0, 0, 0, 0.87)\",\n                  secondary: \"rgba(0, 0, 0, 0.54)\",\n                  disabled: \"rgba(0, 0, 0, 0.38)\",\n                  hint: \"rgba(0, 0, 0, 0.38)\"\n              },\n              explorer: {\n                  filename: \"#474849\",\n                  icon: \"#8f8f8f\",\n                  bgSelected: \"#D5DAF0\",\n                  emptyIcon: \"#e8e8e8\"\n              }\n          }\n      },\n      captcha_IsUseReCaptcha: false,\n      captcha_ReCaptchaKey: \"defaultKey\"\n  },\n  navigator: {\n      path: \"/\",\n      refresh: true\n  },\n}\n\nconst defaultStatus = InitSiteConfig(initState);\n\n// TODO: 将cloureveApp切分成小的reducer\nconst cloudreveApp = (state = defaultStatus, action) => {\n    switch (action.type) {\n        case 'SET_NAVIGATOR':\n            return doNavigate(action.path,state);\n        case 'TOGGLE_DAYLIGHT_MODE':{\n            const copy = Object.assign({}, state);\n            if (copy.siteConfig.theme.palette.type === undefined || copy.siteConfig.theme.palette.type === \"light\"){\n                return {\n                    ...state,\n                    siteConfig: {\n                        ...state.siteConfig,\n                        theme:{\n                            ...state.siteConfig.theme,\n                            palette:{\n                                ...state.siteConfig.theme.palette,\n                                type:\"dark\",\n                            }\n                        },\n                    },\n                };\n            }\n            return {\n                ...state,\n                siteConfig: {\n                    ...state.siteConfig,\n                    theme:{\n                        ...state.siteConfig.theme,\n                        palette:{\n                            ...state.siteConfig.theme.palette,\n                            type:\"light\",\n                        }\n                    },\n                },\n            };\n        }\n        case 'APPLY_THEME':\n            if (state.siteConfig.themes !== null){\n                const themes = JSON.parse(state.siteConfig.themes);\n                if (themes[action.theme] === undefined){\n                    return state;\n                }\n                return Object.assign({}, state, {\n                    siteConfig: Object.assign({}, state.siteConfig, {\n                        theme:themes[action.theme],\n                    }),\n                });\n            }\n            break\n        case 'NAVIGATOR_UP':\n            return doNavigate(action.path, state);\n        case 'SET_SITE_CONFIG':\n                return Object.assign({}, state, {\n                    siteConfig: action.config,\n                });\n\n        case 'REFRESH_FILE_LIST':\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    refresh:!state.navigator.refresh,\n                }),\n            });\n        case 'SEARCH_MY_FILE':\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    path: \"/搜索结果\",\n                    refresh:state.explorer.keywords === \"\"? state.navigator.refresh:!state.navigator.refresh,\n                }),\n            });\n        default:\n            return state\n    }\n  }\n\n\nexport default (state, action) => {\n    const { viewUpdate: viewUpdateState, explorer: explorerState } = state || {}\n    const appState = cloudreveApp(state, action)\n    const combinedState = combineReducers({ viewUpdate, explorer })({ viewUpdate: viewUpdateState, explorer: explorerState }, action)\n    return {\n        ...appState,\n        ...combinedState,\n    }\n}","import React  from \"react\";\n\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { hasError: false };\n    }\n\n    static getDerivedStateFromError() {\n        // 更新 state 使下一次渲染能够显示降级后的 UI\n        return { hasError: true };\n    }\n\n    componentDidCatch() {\n        // 你同样可以将错误日志上报给服务器\n    }\n\n    render() {\n        if (this.state.hasError) {\n            // 你可以自定义降级后的 UI 并渲染\n            return <h1>Something went wrong.</h1>;\n        }\n\n        return this.props.children;\n    }\n}\n\nexport default ErrorBoundary","import React, {Suspense} from \"react\";\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from \"./serviceWorker\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from 'redux-thunk'\nimport App from \"./App\";\nimport cloureveApp from \"./reducers\";\nimport { UpdateSiteConfig } from \"./middleware/Init\";\nimport ErrorBoundary from \"./component/Placeholder/ErrorBoundary\";\nconst Admin = React.lazy(() => import(\"./Admin\"));\n\nserviceWorker.register();\n\nlet reduxEnhance = applyMiddleware(thunk)\nif (process.env.NODE_ENV === 'development' && window.__REDUX_DEVTOOLS_EXTENSION__) {\n  reduxEnhance = compose(reduxEnhance, window.__REDUX_DEVTOOLS_EXTENSION__())\n}\nconst store = createStore(cloureveApp, reduxEnhance);\nUpdateSiteConfig(store);\n\nReactDOM.render(\n    <ErrorBoundary>\n    <Provider store={store}>\n        <Router>\n            <Switch>\n                <Route path=\"/admin\">\n                    <Suspense fallback={\"Loading...\"}>\n                        <Admin />\n                    </Suspense>\n                </Route>\n                <Route exact path=\"\">\n                    <App />\n                </Route>\n            </Switch>\n        </Router>\n    </Provider></ErrorBoundary>,\n    document.getElementById(\"root\")\n);\n","import { combineReducers as combine, ReducersMapObject, AnyAction } from 'redux'\nimport invariant from 'invariant'\n\nexport const combineReducers = (reducers: ReducersMapObject) => {\n  const combinedReducer = combine(reducers)\n  // TODO: define state type\n  return (state: any, action: AnyAction) => {\n    if (action.type && !action.type.startsWith(\"@@\") && action.type.split('/').length > 1) {\n      const namespace = action.type.split('/')[0]\n      const reducer = reducers[namespace]\n      invariant(!!reducer, `reducer ${namespace} doesn't exist`)\n      return reducer && reducer(state, action)\n    }\n    return combinedReducer(state, action)\n  }\n}","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport FolderIcon from '@material-ui/icons/Folder'\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport UpIcon from \"@material-ui/icons/ArrowUpward\"\nimport { connect } from 'react-redux'\nimport classNames from 'classnames';\nimport {\n    toggleSnackbar,\n} from \"../../actions/index\"\n\nimport {\n    MenuList,\n    MenuItem,\n    IconButton,\n    ListItemIcon,\n    ListItemText,\n    withStyles,\n    ListItemSecondaryAction,\n} from '@material-ui/core';\nimport API from '../../middleware/Api'\n\nconst mapStateToProps = state => {\n    return {\n        keywords: state.explorer.keywords,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar:(vertical,horizontal,msg,color)=>{\n            dispatch(toggleSnackbar(vertical,horizontal,msg,color))\n        },\n    }\n}\n\n\nconst styles = theme => ({\n    iconWhite:{\n        color: theme.palette.common.white,\n    },\n    selected: {\n          backgroundColor: theme.palette.primary.main+\"!important\",\n          '& $primary, & $icon': {\n            color: theme.palette.common.white,\n          },\n      },\n    primary: {},\n    icon: {},\n    buttonIcon:{},\n    selector:{\n        minWidth: \"300px\",\n    },\n    container:{\n        maxHeight: \"330px\",\n        overflowY:\" auto\",\n    }\n})\n\n\nclass PathSelectorCompoment extends Component {\n\n    state = {\n        presentPath:\"/\",\n        dirList:[],\n        selectedTarget:null,\n    }\n\n    componentDidMount= ()=>{\n        const toBeLoad = this.props.presentPath;\n        this.enterFolder(this.props.keywords === \"\" ? toBeLoad : \"/\");\n    }\n\n    back = ()=>{\n        const paths = this.state.presentPath.split(\"/\");\n        paths.pop();\n        const toBeLoad = paths.join(\"/\");\n        this.enterFolder(toBeLoad===\"\"?\"/\":toBeLoad);\n    }\n\n    enterFolder = (toBeLoad)=>{\n        API.get((this.props.api ? this.props.api : '/directory')+encodeURIComponent(toBeLoad),)\n        .then( (response)=> {\n            const dirList =  response.data.objects.filter( (x)=> {\n                return (x.type === \"dir\" && (this.props.selected.findIndex((value)=>{\n                    return (value.name === x.name )&&(value.path === x.path);\n                }))===-1);\n            });\n            if(toBeLoad ===\"/\"){\n                dirList.unshift({name:\"/\",path:\"\"})\n            }\n            this.setState({\n                presentPath:toBeLoad,\n                dirList:dirList,\n                selectedTarget:null,\n            })\n        })\n        .catch((error) =>{\n            this.props.toggleSnackbar(\"top\",\"right\",error.message,\"warning\");\n        });\n    }\n\n    handleSelect = (index) =>{\n        this.setState({selectedTarget:index});\n        this.props.onSelect(this.state.dirList[index]);\n    }\n\n    render() {\n        \n        const { classes} = this.props;\n\n        return (\n            <div className={classes.container}>\n            <MenuList className={classes.selector}>\n                {this.state.presentPath!==\"/\"&&\n                <MenuItem onClick={this.back}>\n                    <ListItemIcon >\n                        <UpIcon />\n                    </ListItemIcon>\n                    <ListItemText  primary=\"返回上一层\" />\n                </MenuItem>\n                }\n                {this.state.dirList.map((value,index)=>(\n                    <MenuItem classes={{\n                        selected:classes.selected\n                    }} key={index} selected={this.state.selectedTarget === index} onClick={()=>this.handleSelect(index)}>\n                        <ListItemIcon className={classes.icon}>\n                            <FolderIcon />\n                        </ListItemIcon>\n                        <ListItemText classes={{ primary: classes.primary }}  primary={value.name} />\n                        {value.name!==\"/\"&&<ListItemSecondaryAction className={classes.buttonIcon}>\n                            <IconButton className={classNames({\n                                [classes.iconWhite]:this.state.selectedTarget === index,\n                            })} onClick={()=>this.enterFolder(value.path === \"/\"?value.path+value.name:value.path+\"/\"+value.name)}>\n                                <RightIcon  />\n                            </IconButton>\n                        </ListItemSecondaryAction>}\n                    </MenuItem>\n                ))}\n                \n            </MenuList>\n                \n            </div>\n        );\n    }\n}\n\nPathSelectorCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    presentPath:PropTypes.string.isRequired,\n    selected:PropTypes.array.isRequired,\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n\n)(withStyles(styles)(PathSelectorCompoment))","import { ThunkAction } from 'redux-thunk'\nimport { AnyAction } from 'redux'\nexport interface ActionSetSubtitle extends AnyAction {\n  type: \"SET_SUBTITLE\";\n  title: string;\n}\n\nexport const setSubtitle = (title: string): ActionSetSubtitle => {\n  return {\n    type: 'SET_SUBTITLE',\n    title,\n  }\n}\n\nexport const changeSubTitle = (title: string):\nThunkAction<any, any, any, any> => {\n  return (dispatch, getState) => {\n    const state = getState()\n    document.title = (title === null || title === undefined) ? state.siteConfig.title : (title + \" - \" +state.siteConfig.title);\n    dispatch(setSubtitle(title))\n  }\n}\n","import axios from \"axios\";\nimport Auth from \"./Auth\";\n\nexport const baseURL = \"/api/v3\";\n\nexport const getBaseURL = () => {\n    return baseURL;\n};\n\nconst instance = axios.create({\n    baseURL: getBaseURL(),\n    withCredentials: true,\n    crossDomain: true\n});\n\nfunction AppError(message,code,error) {\n    this.code = code;\n    this.message = message || '未知错误';\n    this.message += error?(\" \"+error) : \"\";\n    this.stack = (new Error()).stack;\n}\nAppError.prototype = Object.create(Error.prototype);\nAppError.prototype.constructor = AppError;\n\ninstance.interceptors.response.use(\n    function(response) {\n        response.rawData = response.data;\n        response.data = response.data.data;\n        if (\n            response.rawData.code !== undefined &&\n            response.rawData.code !== 0 &&\n            response.rawData.code !== 203\n        ) {\n            // 登录过期\n            if (response.rawData.code === 401) {\n                Auth.signout();\n                window.location.href = \"/#/login\";\n            }\n\n            // 非管理员\n            if (response.rawData.code === 40008) {\n                window.location.href = \"/#/home\";\n            }\n            throw new AppError(response.rawData.msg,response.rawData.code,response.rawData.error);\n        }\n        return response;\n    },\n    function(error) {\n        return Promise.reject(error);\n    }\n);\n\nexport default instance;\n"],"sourceRoot":""}